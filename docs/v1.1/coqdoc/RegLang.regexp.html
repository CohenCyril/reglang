<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../../..">Project Website</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="comment">(*&nbsp;Authors:&nbsp;Christian&nbsp;Doczkal&nbsp;and&nbsp;Jan-Oliver&nbsp;Kaiser&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;Distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;CeCILL-B.&nbsp;*)</span><br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">mathcomp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.all_ssreflect.html#"><span class="id" title="library">all_ssreflect</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="RegLang.setoid_leq.html#"><span class="id" title="library">setoid_leq</span></a> <a class="idref" href="RegLang.misc.html#"><span class="id" title="library">misc</span></a> <a class="idref" href="RegLang.languages.html#"><span class="id" title="library">languages</span></a> <a class="idref" href="RegLang.dfa.html#"><span class="id" title="library">dfa</span></a> <a class="idref" href="RegLang.nfa.html#"><span class="id" title="library">nfa</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Strict</span> <span class="id" title="keyword">Implicit</span>.<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Printing</span> <span class="id" title="keyword">Implicit</span> <span class="id" title="var">Defensive</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab22"></a><h1 class="section">Regular Expressions</h1>


<div class="paragraph"> </div>

This file contains the definition of regular expressions and the proof
that regular expressions have the same expressive power as finite
automata. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a name="RegExp"><span class="id" title="section">RegExp</span></a>.<br/>
<span class="id" title="keyword">Variable</span> <a name="RegExp.char"><span class="id" title="variable">char</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.Exports.eqType"><span class="id" title="abbreviation">eqType</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="regexp"><span class="id" title="inductive">regexp</span></a> :=<br/>
&nbsp;| <a name="Void"><span class="id" title="constructor">Void</span></a><br/>
&nbsp;| <a name="Eps"><span class="id" title="constructor">Eps</span></a><br/>
&nbsp;| <a name="Atom"><span class="id" title="constructor">Atom</span></a> <span class="id" title="keyword">of</span> <a class="idref" href="RegLang.regexp.html#RegExp.char"><span class="id" title="variable">char</span></a><br/>
&nbsp;| <a name="Star"><span class="id" title="constructor">Star</span></a> <span class="id" title="keyword">of</span> <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a><br/>
&nbsp;| <a name="Plus"><span class="id" title="constructor">Plus</span></a> <span class="id" title="keyword">of</span> <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> &amp; <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a><br/>
&nbsp;| <a name="Conc"><span class="id" title="constructor">Conc</span></a> <span class="id" title="keyword">of</span> <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> &amp; <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="eq_regexp_dec"><span class="id" title="lemma">eq_regexp_dec</span></a> (<span class="id" title="var">e1</span> <span class="id" title="var">e2</span> : <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="RegLang.regexp.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.regexp.html#e2"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="RegLang.regexp.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="RegLang.regexp.html#e2"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">decide</span> <span class="id" title="var">equality</span>; <span class="id" title="tactic">apply</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eq_comparable"><span class="id" title="definition">eq_comparable</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="regexp_eqMixin"><span class="id" title="definition">regexp_eqMixin</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.Exports.EqMixin"><span class="id" title="abbreviation">EqMixin</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#compareP"><span class="id" title="lemma">compareP</span></a> <a class="idref" href="RegLang.regexp.html#eq_regexp_dec"><span class="id" title="lemma">eq_regexp_dec</span></a>).<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <span class="id" title="var">form_eqType</span> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.Exports.EqType"><span class="id" title="abbreviation">EqType</span></a> <span class="id" title="var">_</span> <a class="idref" href="RegLang.regexp.html#regexp_eqMixin"><span class="id" title="definition">regexp_eqMixin</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RegLang.regexp.html#RegExp"><span class="id" title="section">RegExp</span></a>.<br/>

<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="RegLang.languages.html#void"><span class="id" title="definition">void</span></a> : <span class="id" title="tactic">clear</span> <span class="id" title="var">implicits</span>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="RegLang.languages.html#eps"><span class="id" title="definition">eps</span></a> : <span class="id" title="tactic">clear</span> <span class="id" title="var">implicits</span>.<br/>
<span class="id" title="var">Prenex</span> <span class="id" title="var">Implicits</span> <span class="id" title="var">Plus</span>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="RegLang.languages.html#plusP"><span class="id" title="lemma">plusP</span></a> {<span class="id" title="var">char</span> <span class="id" title="var">r</span> <span class="id" title="var">s</span> <span class="id" title="var">w</span>}.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="22cadecb2f8a358ac30d6a4c52614063"><span class="id" title="notation">&quot;</span></a>'Void'" := (@<a class="idref" href="RegLang.regexp.html#Void"><span class="id" title="constructor">Void</span></a> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Notation</span> <a name="0ac2b8cf75e6fd4e7e08a9decdab75a5"><span class="id" title="notation">&quot;</span></a>'Eps'" := (@<a class="idref" href="RegLang.regexp.html#Eps"><span class="id" title="constructor">Eps</span></a> <span class="id" title="var">_</span>).<br/>

<br/>
</div>

<div class="doc">
We assign a decidable language to every regular expression 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="re_lang"><span class="id" title="definition">re_lang</span></a> (<span class="id" title="var">char</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.Exports.eqType"><span class="id" title="abbreviation">eqType</span></a>) (<span class="id" title="var">e</span> : <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> <a class="idref" href="RegLang.regexp.html#char"><span class="id" title="variable">char</span></a>) : <a class="idref" href="RegLang.languages.html#dlang"><span class="id" title="definition">dlang</span></a> <a class="idref" href="RegLang.regexp.html#char"><span class="id" title="variable">char</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="RegLang.regexp.html#e"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#22cadecb2f8a358ac30d6a4c52614063"><span class="id" title="notation">Void</span></a> =&gt; <a class="idref" href="RegLang.languages.html#void"><span class="id" title="definition">void</span></a> <a class="idref" href="RegLang.regexp.html#char"><span class="id" title="variable">char</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#0ac2b8cf75e6fd4e7e08a9decdab75a5"><span class="id" title="notation">Eps</span></a> =&gt; <a class="idref" href="RegLang.languages.html#eps"><span class="id" title="definition">eps</span></a> <a class="idref" href="RegLang.regexp.html#char"><span class="id" title="variable">char</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#Atom"><span class="id" title="constructor">Atom</span></a> <span class="id" title="var">x</span> =&gt; <a class="idref" href="RegLang.languages.html#atom"><span class="id" title="definition">atom</span></a> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#Star"><span class="id" title="constructor">Star</span></a> <span class="id" title="var">e1</span> =&gt; <a class="idref" href="RegLang.languages.html#star"><span class="id" title="definition">star</span></a> (<a class="idref" href="RegLang.regexp.html#re_lang"><span class="id" title="definition">re_lang</span></a> <span class="id" title="var">e1</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#Plus"><span class="id" title="constructor">Plus</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <a class="idref" href="RegLang.languages.html#plus"><span class="id" title="definition">plus</span></a> (<a class="idref" href="RegLang.regexp.html#re_lang"><span class="id" title="definition">re_lang</span></a> <span class="id" title="var">e1</span>) (<a class="idref" href="RegLang.regexp.html#re_lang"><span class="id" title="definition">re_lang</span></a> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#Conc"><span class="id" title="constructor">Conc</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <a class="idref" href="RegLang.languages.html#conc"><span class="id" title="definition">conc</span></a> (<a class="idref" href="RegLang.regexp.html#re_lang"><span class="id" title="definition">re_lang</span></a> <span class="id" title="var">e1</span>) (<a class="idref" href="RegLang.regexp.html#re_lang"><span class="id" title="definition">re_lang</span></a> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <span class="id" title="var">regexp_predType</span> (<span class="id" title="var">char</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.Exports.eqType"><span class="id" title="abbreviation">eqType</span></a>) := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrbool.html#PredType"><span class="id" title="definition">PredType</span></a> (@<a class="idref" href="RegLang.regexp.html#re_lang"><span class="id" title="definition">re_lang</span></a> <a class="idref" href="RegLang.regexp.html#char"><span class="id" title="variable">char</span></a>).<br/>

<br/>
</div>

<div class="doc">
We instantiate Ssreflects Canonical Big Operators 
</div>
<div class="code">
<span class="id" title="keyword">Notation</span> <a name="4480c15fdaa85944460027ace51c6cb1"><span class="id" title="notation">&quot;</span></a>\sigma_( i &lt;- r )  F" := (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#93a42d9430a115f2544a09cba4cf05ca"><span class="id" title="notation">\</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#93a42d9430a115f2544a09cba4cf05ca"><span class="id" title="notation">big</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#93a42d9430a115f2544a09cba4cf05ca"><span class="id" title="notation">[</span></a><a class="idref" href="RegLang.regexp.html#Plus"><span class="id" title="constructor">Plus</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#93a42d9430a115f2544a09cba4cf05ca"><span class="id" title="notation">/</span></a><a class="idref" href="RegLang.regexp.html#22cadecb2f8a358ac30d6a4c52614063"><span class="id" title="notation">Void</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#93a42d9430a115f2544a09cba4cf05ca"><span class="id" title="notation">]</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#93a42d9430a115f2544a09cba4cf05ca"><span class="id" title="notation">_</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#93a42d9430a115f2544a09cba4cf05ca"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#93a42d9430a115f2544a09cba4cf05ca"><span class="id" title="notation">&lt;-</span></a> <span class="id" title="var">r</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#93a42d9430a115f2544a09cba4cf05ca"><span class="id" title="notation">)</span></a> <span class="id" title="var">F</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50).<br/>
<span class="id" title="keyword">Notation</span> <a name="99715ae27b3e7216a233fea70a9f3491"><span class="id" title="notation">&quot;</span></a>\sigma_( i | P )  F" := (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#1871917561e26284874cb982a8cc32df"><span class="id" title="notation">\</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#1871917561e26284874cb982a8cc32df"><span class="id" title="notation">big</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#1871917561e26284874cb982a8cc32df"><span class="id" title="notation">[</span></a><a class="idref" href="RegLang.regexp.html#Plus"><span class="id" title="constructor">Plus</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#1871917561e26284874cb982a8cc32df"><span class="id" title="notation">/</span></a><a class="idref" href="RegLang.regexp.html#22cadecb2f8a358ac30d6a4c52614063"><span class="id" title="notation">Void</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#1871917561e26284874cb982a8cc32df"><span class="id" title="notation">]</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#1871917561e26284874cb982a8cc32df"><span class="id" title="notation">_</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#1871917561e26284874cb982a8cc32df"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#1871917561e26284874cb982a8cc32df"><span class="id" title="notation">|</span></a> <span class="id" title="var">P</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#1871917561e26284874cb982a8cc32df"><span class="id" title="notation">)</span></a> <span class="id" title="var">F</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="big_plus_seqP"><span class="id" title="lemma">big_plus_seqP</span></a> (<span class="id" title="var">T</span> <span class="id" title="var">char</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.Exports.eqType"><span class="id" title="abbreviation">eqType</span></a>) (<span class="id" title="var">r</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> <a class="idref" href="RegLang.regexp.html#T"><span class="id" title="variable">T</span></a>) <span class="id" title="var">w</span> (<span class="id" title="var">F</span> : <a class="idref" href="RegLang.regexp.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> <a class="idref" href="RegLang.regexp.html#char"><span class="id" title="variable">char</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">exists2</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="RegLang.regexp.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a>) (<a class="idref" href="RegLang.regexp.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#4480c15fdaa85944460027ace51c6cb1"><span class="id" title="notation">\</span></a><a class="idref" href="RegLang.regexp.html#4480c15fdaa85944460027ace51c6cb1"><span class="id" title="notation">sigma_</span></a><a class="idref" href="RegLang.regexp.html#4480c15fdaa85944460027ace51c6cb1"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span> <a class="idref" href="RegLang.regexp.html#4480c15fdaa85944460027ace51c6cb1"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="RegLang.regexp.html#r"><span class="id" title="variable">r</span></a><a class="idref" href="RegLang.regexp.html#4480c15fdaa85944460027ace51c6cb1"><span class="id" title="notation">)</span></a> <a class="idref" href="RegLang.regexp.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="RegLang.regexp.html#i"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">r</span> <span class="id" title="var">w</span> =&gt; [|<span class="id" title="var">r</span> <span class="id" title="var">rs</span> <span class="id" title="var">IHrs</span>] <span class="id" title="var">w</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#big_nil"><span class="id" title="lemma">big_nil</span></a>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span> =&gt; [[<span class="id" title="var">x</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#big_cons"><span class="id" title="lemma">big_cons</span></a>; <span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> <a class="idref" href="RegLang.languages.html#plusP"><span class="id" title="lemma">plusP</span></a>) =&gt; [[<span class="id" title="var">H</span>|<span class="id" title="var">H</span>]|[<span class="id" title="var">x</span>]].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">r</span> =&gt; //; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#mem_head"><span class="id" title="lemma">mem_head</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">case</span>/<span class="id" title="var">IHrs</span> : <span class="id" title="var">H</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">Hx</span> ?. <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span> =&gt; //. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#in_cons"><span class="id" title="lemma">in_cons</span></a> <span class="id" title="var">Hx</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#orbT"><span class="id" title="lemma">orbT</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#in_cons"><span class="id" title="lemma">in_cons</span></a>; <span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a> =&gt; [/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> -&gt; |]; <span class="id" title="tactic">auto</span> =&gt; ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span>/<span class="id" title="var">IHrs</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="big_plusP"><span class="id" title="lemma">big_plusP</span></a> (<span class="id" title="var">T</span> <span class="id" title="var">char</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) (<span class="id" title="var">P</span>:<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="RegLang.regexp.html#T"><span class="id" title="variable">T</span></a>) <span class="id" title="var">w</span> (<span class="id" title="var">F</span> : <a class="idref" href="RegLang.regexp.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> <a class="idref" href="RegLang.regexp.html#char"><span class="id" title="variable">char</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">exists2</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.regexp.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="RegLang.regexp.html#i"><span class="id" title="variable">i</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="RegLang.regexp.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="RegLang.regexp.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="RegLang.regexp.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#99715ae27b3e7216a233fea70a9f3491"><span class="id" title="notation">\</span></a><a class="idref" href="RegLang.regexp.html#99715ae27b3e7216a233fea70a9f3491"><span class="id" title="notation">sigma_</span></a><a class="idref" href="RegLang.regexp.html#99715ae27b3e7216a233fea70a9f3491"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span> <a class="idref" href="RegLang.regexp.html#99715ae27b3e7216a233fea70a9f3491"><span class="id" title="notation">|</span></a> <a class="idref" href="RegLang.regexp.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="RegLang.regexp.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="RegLang.regexp.html#99715ae27b3e7216a233fea70a9f3491"><span class="id" title="notation">)</span></a> <a class="idref" href="RegLang.regexp.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="RegLang.regexp.html#i"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#big_filter"><span class="id" title="lemma">big_filter</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#filter_index_enum"><span class="id" title="abbreviation">filter_index_enum</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> (<a class="idref" href="RegLang.regexp.html#big_plus_seqP"><span class="id" title="lemma">big_plus_seqP</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) =&gt; [|] [<span class="id" title="var">x</span>] <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span> =&gt; //;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">H1</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#mem_enum"><span class="id" title="lemma">mem_enum</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="re_size"><span class="id" title="definition">re_size</span></a> (<span class="id" title="var">char</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.Exports.eqType"><span class="id" title="abbreviation">eqType</span></a>) (<span class="id" title="var">e</span> : <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> <a class="idref" href="RegLang.regexp.html#char"><span class="id" title="variable">char</span></a>) := <br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="RegLang.regexp.html#e"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#Star"><span class="id" title="constructor">Star</span></a> <span class="id" title="var">s</span> =&gt; <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.regexp.html#re_size"><span class="id" title="definition">re_size</span></a> <span class="id" title="var">s</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">).+1</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#Plus"><span class="id" title="constructor">Plus</span></a> <span class="id" title="var">s</span> <span class="id" title="var">t</span> =&gt; <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.regexp.html#re_size"><span class="id" title="definition">re_size</span></a> <span class="id" title="var">s</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)+(</span></a><a class="idref" href="RegLang.regexp.html#re_size"><span class="id" title="definition">re_size</span></a> <span class="id" title="var">t</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">).+1</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#Conc"><span class="id" title="constructor">Conc</span></a> <span class="id" title="var">s</span> <span class="id" title="var">t</span> =&gt; <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.regexp.html#re_size"><span class="id" title="definition">re_size</span></a> <span class="id" title="var">s</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)+(</span></a><a class="idref" href="RegLang.regexp.html#re_size"><span class="id" title="definition">re_size</span></a> <span class="id" title="var">t</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">).+1</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; 1<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="big_plus_size"><span class="id" title="lemma">big_plus_size</span></a> (<span class="id" title="var">T</span> <span class="id" title="var">char</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.Exports.eqType"><span class="id" title="abbreviation">eqType</span></a>) (<span class="id" title="var">r</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> <a class="idref" href="RegLang.regexp.html#T"><span class="id" title="variable">T</span></a>) (<span class="id" title="var">F</span> : <a class="idref" href="RegLang.regexp.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> <a class="idref" href="RegLang.regexp.html#char"><span class="id" title="variable">char</span></a>) <span class="id" title="var">m</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <a class="idref" href="RegLang.regexp.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.regexp.html#re_size"><span class="id" title="definition">re_size</span></a> (<a class="idref" href="RegLang.regexp.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="RegLang.regexp.html#i"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="RegLang.regexp.html#m"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.regexp.html#re_size"><span class="id" title="definition">re_size</span></a> (<a class="idref" href="RegLang.regexp.html#4480c15fdaa85944460027ace51c6cb1"><span class="id" title="notation">\</span></a><a class="idref" href="RegLang.regexp.html#4480c15fdaa85944460027ace51c6cb1"><span class="id" title="notation">sigma_</span></a><a class="idref" href="RegLang.regexp.html#4480c15fdaa85944460027ace51c6cb1"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span> <a class="idref" href="RegLang.regexp.html#4480c15fdaa85944460027ace51c6cb1"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="RegLang.regexp.html#r"><span class="id" title="variable">r</span></a><a class="idref" href="RegLang.regexp.html#4480c15fdaa85944460027ace51c6cb1"><span class="id" title="notation">)</span></a> <a class="idref" href="RegLang.regexp.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="RegLang.regexp.html#i"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="RegLang.regexp.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">*</span></a> <a class="idref" href="RegLang.regexp.html#m"><span class="id" title="variable">m</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1).+1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">r</span> =&gt; [|<span class="id" title="var">e</span> <span class="id" title="var">r</span> <span class="id" title="var">IH</span> /<a class="idref" href="RegLang.misc.html#all1s"><span class="id" title="lemma">all1s</span></a> [<span class="id" title="var">A</span> <span class="id" title="var">B</span>]]; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#big_nil"><span class="id" title="lemma">big_nil</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#big_cons"><span class="id" title="lemma">big_cons</span></a> /= <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltnS"><span class="id" title="lemma">ltnS</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mulSn"><span class="id" title="lemma">mulSn</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#addSn"><span class="id" title="lemma">addSn</span></a> -<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#addnS"><span class="id" title="lemma">addnS</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#leq_add"><span class="id" title="lemma">leq_add</span></a> //. <span class="id" title="tactic">exact</span>: <span class="id" title="var">IH</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab23"></a><h2 class="section">Regular Expressions to Finite Automata</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="DFAofRE"><span class="id" title="section">DFAofRE</span></a>.<br/>
<span class="id" title="keyword">Variable</span> (<a name="DFAofRE.char"><span class="id" title="variable">char</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>).<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="re_to_nfa"><span class="id" title="definition">re_to_nfa</span></a> (<span class="id" title="var">r</span> : <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> <a class="idref" href="RegLang.regexp.html#DFAofRE.char"><span class="id" title="variable">char</span></a>): <a class="idref" href="RegLang.nfa.html#nfa"><span class="id" title="record">nfa</span></a> <a class="idref" href="RegLang.regexp.html#DFAofRE.char"><span class="id" title="variable">char</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="RegLang.regexp.html#r"><span class="id" title="variable">r</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#22cadecb2f8a358ac30d6a4c52614063"><span class="id" title="notation">Void</span></a> =&gt; <a class="idref" href="RegLang.nfa.html#dfa_to_nfa"><span class="id" title="definition">dfa_to_nfa</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_void"><span class="id" title="definition">dfa_void</span></a> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#0ac2b8cf75e6fd4e7e08a9decdab75a5"><span class="id" title="notation">Eps</span></a> =&gt; <a class="idref" href="RegLang.nfa.html#nfa_eps"><span class="id" title="definition">nfa_eps</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#Atom"><span class="id" title="constructor">Atom</span></a> <span class="id" title="var">a</span> =&gt; <a class="idref" href="RegLang.nfa.html#nfa_char"><span class="id" title="definition">nfa_char</span></a> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#Star"><span class="id" title="constructor">Star</span></a> <span class="id" title="var">s</span> =&gt; <a class="idref" href="RegLang.nfa.html#nfa_star"><span class="id" title="definition">nfa_star</span></a> (<a class="idref" href="RegLang.regexp.html#re_to_nfa"><span class="id" title="definition">re_to_nfa</span></a> <span class="id" title="var">s</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#Plus"><span class="id" title="constructor">Plus</span></a> <span class="id" title="var">s</span> <span class="id" title="var">t</span> =&gt; <a class="idref" href="RegLang.nfa.html#nfa_plus"><span class="id" title="definition">nfa_plus</span></a> (<a class="idref" href="RegLang.regexp.html#re_to_nfa"><span class="id" title="definition">re_to_nfa</span></a> <span class="id" title="var">s</span>) (<a class="idref" href="RegLang.regexp.html#re_to_nfa"><span class="id" title="definition">re_to_nfa</span></a> <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#Conc"><span class="id" title="constructor">Conc</span></a> <span class="id" title="var">s</span> <span class="id" title="var">t</span> =&gt; <a class="idref" href="RegLang.nfa.html#nfa_conc"><span class="id" title="definition">nfa_conc</span></a> (<a class="idref" href="RegLang.regexp.html#re_to_nfa"><span class="id" title="definition">re_to_nfa</span></a> <span class="id" title="var">s</span>) (<a class="idref" href="RegLang.regexp.html#re_to_nfa"><span class="id" title="definition">re_to_nfa</span></a> <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="re_to_nfa_correct"><span class="id" title="lemma">re_to_nfa_correct</span></a> (<span class="id" title="var">r</span> : <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> <a class="idref" href="RegLang.regexp.html#DFAofRE.char"><span class="id" title="variable">char</span></a>) : <a class="idref" href="RegLang.nfa.html#nfa_lang"><span class="id" title="definition">nfa_lang</span></a> (<a class="idref" href="RegLang.regexp.html#re_to_nfa"><span class="id" title="definition">re_to_nfa</span></a> <a class="idref" href="RegLang.regexp.html#r"><span class="id" title="variable">r</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">i</span></a> <a class="idref" href="RegLang.regexp.html#r"><span class="id" title="variable">r</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">r</span> =&gt; [||<span class="id" title="var">a</span>|<span class="id" title="var">s</span> <span class="id" title="var">IHs</span> |<span class="id" title="var">s</span> <span class="id" title="var">IHs</span> <span class="id" title="var">t</span> <span class="id" title="var">IHt</span> |<span class="id" title="var">s</span> <span class="id" title="var">IHs</span> <span class="id" title="var">t</span> <span class="id" title="var">IHt</span>] <span class="id" title="var">w</span> //=.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="RegLang.nfa.html#dfa_to_nfa_correct"><span class="id" title="lemma">dfa_to_nfa_correct</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> /<a class="idref" href="RegLang.dfa.html#dfa_accept"><span class="id" title="definition">dfa_accept</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.nfa.html#nfa_eps_correct"><span class="id" title="lemma">nfa_eps_correct</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.nfa.html#nfa_char_correct"><span class="id" title="lemma">nfa_char_correct</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.nfa.html#nfa_star_correct"><span class="id" title="lemma">nfa_star_correct</span></a>. <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.languages.html#star_eq"><span class="id" title="lemma">star_eq</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.nfa.html#nfa_plus_correct"><span class="id" title="lemma">nfa_plus_correct</span></a> /<a class="idref" href="RegLang.languages.html#plus"><span class="id" title="definition">plus</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> <span class="id" title="var">IHs</span> <span class="id" title="var">IHt</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.nfa.html#nfa_conc_correct"><span class="id" title="lemma">nfa_conc_correct</span></a>. <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.languages.html#conc_eq"><span class="id" title="lemma">conc_eq</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="re_to_nfa_size"><span class="id" title="lemma">re_to_nfa_size</span></a> <span class="id" title="var">e</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="RegLang.regexp.html#re_to_nfa"><span class="id" title="definition">re_to_nfa</span></a> <a class="idref" href="RegLang.regexp.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> 2 <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">*</span></a> <a class="idref" href="RegLang.regexp.html#re_size"><span class="id" title="definition">re_size</span></a> <a class="idref" href="RegLang.regexp.html#e"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">e</span>; <span class="id" title="tactic">rewrite</span> /= ?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#card_unit"><span class="id" title="lemma">card_unit</span></a> ?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#card_bool"><span class="id" title="lemma">card_bool</span></a> =&gt; //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">e</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#card_option"><span class="id" title="lemma">card_option</span></a> (<a class="idref" href="RegLang.setoid_leq.html#leqRW"><span class="id" title="definition">leqRW</span></a> <span class="id" title="var">IH</span>) <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mulnS"><span class="id" title="lemma">mulnS</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#add2n"><span class="id" title="lemma">add2n</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">e1</span> <span class="id" title="var">IH1</span> <span class="id" title="var">e2</span> <span class="id" title="var">IH2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#card_sum"><span class="id" title="lemma">card_sum</span></a> (<a class="idref" href="RegLang.setoid_leq.html#leqRW"><span class="id" title="definition">leqRW</span></a> <span class="id" title="var">IH1</span>) (<a class="idref" href="RegLang.setoid_leq.html#leqRW"><span class="id" title="definition">leqRW</span></a> <span class="id" title="var">IH2</span>) <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mulnS"><span class="id" title="lemma">mulnS</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mulnDr"><span class="id" title="lemma">mulnDr</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#add2n"><span class="id" title="lemma">add2n</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltnW"><span class="id" title="lemma">ltnW</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">e1</span> <span class="id" title="var">IH1</span> <span class="id" title="var">e2</span> <span class="id" title="var">IH2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#card_sum"><span class="id" title="lemma">card_sum</span></a> (<a class="idref" href="RegLang.setoid_leq.html#leqRW"><span class="id" title="definition">leqRW</span></a> <span class="id" title="var">IH1</span>) (<a class="idref" href="RegLang.setoid_leq.html#leqRW"><span class="id" title="definition">leqRW</span></a> <span class="id" title="var">IH2</span>) <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mulnS"><span class="id" title="lemma">mulnS</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mulnDr"><span class="id" title="lemma">mulnDr</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#add2n"><span class="id" title="lemma">add2n</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltnW"><span class="id" title="lemma">ltnW</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="re_to_dfa"><span class="id" title="definition">re_to_dfa</span></a> := @<a class="idref" href="RegLang.nfa.html#nfa_to_dfa"><span class="id" title="definition">nfa_to_dfa</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e"><span class="id" title="notation">o</span></a> <a class="idref" href="RegLang.regexp.html#re_to_nfa"><span class="id" title="definition">re_to_nfa</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="re_to_dfa_correct"><span class="id" title="lemma">re_to_dfa_correct</span></a> (<span class="id" title="var">r</span> : <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> <a class="idref" href="RegLang.regexp.html#DFAofRE.char"><span class="id" title="variable">char</span></a>) : <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> (<a class="idref" href="RegLang.regexp.html#re_to_dfa"><span class="id" title="definition">re_to_dfa</span></a> <a class="idref" href="RegLang.regexp.html#r"><span class="id" title="variable">r</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">i</span></a> <a class="idref" href="RegLang.regexp.html#r"><span class="id" title="variable">r</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">w</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="RegLang.nfa.html#nfa_to_dfa_correct"><span class="id" title="lemma">nfa_to_dfa_correct</span></a> <a class="idref" href="RegLang.regexp.html#re_to_nfa_correct"><span class="id" title="lemma">re_to_nfa_correct</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="re_to_dfa_size"><span class="id" title="lemma">re_to_dfa_size</span></a> <span class="id" title="var">e</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="RegLang.regexp.html#re_to_dfa"><span class="id" title="definition">re_to_dfa</span></a> <a class="idref" href="RegLang.regexp.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> 2<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^(</span></a>2 <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">*</span></a> <a class="idref" href="RegLang.regexp.html#re_size"><span class="id" title="definition">re_size</span></a> <a class="idref" href="RegLang.regexp.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.misc.html#card_set"><span class="id" title="lemma">card_set</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#leq_pexp2l"><span class="id" title="lemma">leq_pexp2l</span></a> // <a class="idref" href="RegLang.regexp.html#re_to_nfa_size"><span class="id" title="lemma">re_to_nfa_size</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Decidability of regular expression equivalence 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="re_equiv"><span class="id" title="definition">re_equiv</span></a> <span class="id" title="var">r</span> <span class="id" title="var">s</span> := <a class="idref" href="RegLang.dfa.html#dfa_equiv"><span class="id" title="definition">dfa_equiv</span></a> (<a class="idref" href="RegLang.regexp.html#re_to_dfa"><span class="id" title="definition">re_to_dfa</span></a> <a class="idref" href="RegLang.regexp.html#r"><span class="id" title="variable">r</span></a>) (<a class="idref" href="RegLang.regexp.html#re_to_dfa"><span class="id" title="definition">re_to_dfa</span></a> <a class="idref" href="RegLang.regexp.html#s"><span class="id" title="variable">s</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="re_equiv_correct"><span class="id" title="lemma">re_equiv_correct</span></a> <span class="id" title="var">r</span> <span class="id" title="var">s</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a> (<a class="idref" href="RegLang.regexp.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">i</span></a> <a class="idref" href="RegLang.regexp.html#s"><span class="id" title="variable">s</span></a>) (<a class="idref" href="RegLang.regexp.html#re_equiv"><span class="id" title="definition">re_equiv</span></a> <a class="idref" href="RegLang.regexp.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="RegLang.regexp.html#s"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_equiv_correct"><span class="id" title="lemma">dfa_equiv_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) =&gt; <span class="id" title="var">H</span> <span class="id" title="var">w</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/(<span class="id" title="var">_</span> <span class="id" title="var">w</span>) : <span class="id" title="var">H</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="RegLang.regexp.html#re_to_dfa_correct"><span class="id" title="lemma">re_to_dfa_correct</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RegLang.regexp.html#DFAofRE"><span class="id" title="section">DFAofRE</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab24"></a><h2 class="section">Finite Automata to Regular Expressions (Kleene Construction)</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a name="KleeneAlgorithm"><span class="id" title="section">KleeneAlgorithm</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="KleeneAlgorithm.char"><span class="id" title="variable">char</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="KleeneAlgorithm.A"><span class="id" title="variable">A</span></a> : <a class="idref" href="RegLang.dfa.html#dfa"><span class="id" title="record">dfa</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.char"><span class="id" title="variable">char</span></a>.<br/>

<br/>
</div>

<div class="doc">
We first define the transition languages between states. The
  trasition languages are defined such that <span class="inlinecode"><span class="id" title="var">w</span></span> <span class="inlinecode">\<span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">L</span>^<span class="id" title="var">X</span></span> <span class="inlinecode"><span class="id" title="var">q</span></span> <span class="inlinecode"><span class="id" title="var">p</span></span> iff for
  all nonempty strict prefixes <span class="inlinecode"><span class="id" title="var">v</span></span> of <span class="inlinecode"><span class="id" title="var">w</span></span>, <span class="inlinecode"><span class="id" title="keyword">delta</span></span> <span class="inlinecode"><span class="id" title="var">q</span></span> <span class="inlinecode"><span class="id" title="var">v</span></span> <span class="inlinecode">\<span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">X</span></span>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="L"><span class="id" title="definition">L</span></a> (<span class="id" title="var">X</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">{</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">set</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">}</span></a>) (<span class="id" title="var">p</span> <span class="id" title="var">q</span> : <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">x</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> <a class="idref" href="RegLang.regexp.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <a class="idref" href="RegLang.regexp.html#q"><span class="id" title="variable">q</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#b14c43cd248537980c3a1a815ab087df"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#b14c43cd248537980c3a1a815ab087df"><span class="id" title="notation">forall</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#b14c43cd248537980c3a1a815ab087df"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#b14c43cd248537980c3a1a815ab087df"><span class="id" title="notation">:</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">'</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">I_</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">)</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#b14c43cd248537980c3a1a815ab087df"><span class="id" title="notation">|</span></a> 0 <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#00fe0eaf5e6949f0a31725357afa4bba"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="RegLang.regexp.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#b14c43cd248537980c3a1a815ab087df"><span class="id" title="notation">)</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#f3be25edeb0349b0a76405eded9d0b98"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> <a class="idref" href="RegLang.regexp.html#p"><span class="id" title="variable">p</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#take"><span class="id" title="definition">take</span></a> <a class="idref" href="RegLang.regexp.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#b14c43cd248537980c3a1a815ab087df"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">&quot;</span></a>'L^' X" := (<a class="idref" href="RegLang.regexp.html#L"><span class="id" title="definition">L</span></a> <span class="id" title="var">X</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 8,<span class="id" title="var">format</span> "'L^' X").<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="dfa_L"><span class="id" title="lemma">dfa_L</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">w</span> : <a class="idref" href="RegLang.regexp.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#setT"><span class="id" title="abbreviation">setT</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.regexp.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.regexp.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <a class="idref" href="RegLang.regexp.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#unfold_in"><span class="id" title="lemma">unfold_in</span></a>. <span class="id" title="tactic">case</span>: (<span class="id" title="var">_</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <span class="id" title="var">_</span>) =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#forall_inP"><span class="id" title="lemma">forall_inP</span></a> =&gt; ? ?. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="LP"><span class="id" title="lemma">LP</span></a> {<span class="id" title="var">X</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">{</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">set</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">}</span></a>} {<span class="id" title="var">p</span> <span class="id" title="var">q</span> : <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a>} {<span class="id" title="var">x</span>} : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a> (<a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> <a class="idref" href="RegLang.regexp.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.regexp.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#00fe0eaf5e6949f0a31725357afa4bba"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="RegLang.regexp.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.regexp.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#00fe0eaf5e6949f0a31725357afa4bba"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> <a class="idref" href="RegLang.regexp.html#p"><span class="id" title="variable">p</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#take"><span class="id" title="definition">take</span></a> <a class="idref" href="RegLang.regexp.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#X"><span class="id" title="variable">X</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^</span></a><a class="idref" href="RegLang.regexp.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="RegLang.regexp.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.regexp.html#q"><span class="id" title="variable">q</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>); <span class="id" title="tactic">case</span> =&gt; /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> ? <span class="id" title="var">H</span>; <span class="id" title="tactic">split</span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">i</span> <span class="id" title="var">I1</span> <span class="id" title="var">I2</span>. <span class="id" title="tactic">exact</span>: (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#forall_inP"><span class="id" title="lemma">forall_inP</span></a> <span class="id" title="var">H</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Ordinal"><span class="id" title="constructor">Ordinal</span></a> <span class="id" title="var">I2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#forall_inP"><span class="id" title="lemma">forall_inP</span></a> =&gt; [[<span class="id" title="var">i</span> <span class="id" title="var">I1</span> /= <span class="id" title="var">I2</span>]]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="L_monotone"><span class="id" title="lemma">L_monotone</span></a> (<span class="id" title="var">X</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">{</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">set</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">}</span></a>) (<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">subset</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^</span></a><a class="idref" href="RegLang.regexp.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.regexp.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^(</span></a><a class="idref" href="RegLang.regexp.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#c07c66784631827a3968dee93baba0d0"><span class="id" title="notation">|:</span></a> <a class="idref" href="RegLang.regexp.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">)</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.regexp.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">w</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#unfold_in"><span class="id" title="lemma">unfold_in</span></a>. <span class="id" title="tactic">case</span>: (<span class="id" title="var">_</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <span class="id" title="var">_</span>) =&gt; //. <span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.misc.html#sub_forall"><span class="id" title="lemma">sub_forall</span></a> =&gt; <span class="id" title="var">i</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<span class="id" title="var">_</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#00fe0eaf5e6949f0a31725357afa4bba"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">_</span>) =&gt; //= <span class="id" title="var">H</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> <span class="id" title="var">H</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#orbT"><span class="id" title="lemma">orbT</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="L_nil"><span class="id" title="lemma">L_nil</span></a> <span class="id" title="var">X</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a> (<a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.regexp.html#y"><span class="id" title="variable">y</span></a>) (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626"><span class="id" title="notation">[::]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^</span></a><a class="idref" href="RegLang.regexp.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.regexp.html#y"><span class="id" title="variable">y</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> <a class="idref" href="RegLang.regexp.html#LP"><span class="id" title="lemma">LP</span></a>) =&gt; //=. <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="L_set0"><span class="id" title="lemma">L_set0</span></a> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">w</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#set0"><span class="id" title="definition">set0</span></a> <a class="idref" href="RegLang.regexp.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="RegLang.regexp.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.regexp.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.regexp.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.regexp.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="RegLang.regexp.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626"><span class="id" title="notation">[::]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">exists2</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.regexp.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">[::</span></a><a class="idref" href="RegLang.regexp.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="RegLang.regexp.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.dfa.html#dfa_trans"><span class="id" title="projection">dfa_trans</span></a> <a class="idref" href="RegLang.regexp.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="RegLang.regexp.html#a"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>/<a class="idref" href="RegLang.regexp.html#LP"><span class="id" title="lemma">LP</span></a> =&gt; &lt;-. <span class="id" title="tactic">case</span>: <span class="id" title="var">w</span> =&gt; [|<span class="id" title="var">a</span> [|<span class="id" title="var">b</span> <span class="id" title="var">w</span>]] <span class="id" title="var">H</span> ; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>|<span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>;<span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">H</span> 1). <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">case</span>/(<span class="id" title="var">_</span> <span class="id" title="var">_</span>)/<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrfun.html#Wrap"><span class="id" title="constructor">Wrap</span></a> =&gt; //. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="L_split"><span class="id" title="lemma">L_split</span></a> <span class="id" title="var">X</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">z</span> <span class="id" title="var">w</span> : <a class="idref" href="RegLang.regexp.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#L"><span class="id" title="definition">L</span></a> (<a class="idref" href="RegLang.regexp.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#c07c66784631827a3968dee93baba0d0"><span class="id" title="notation">|:</span></a> <a class="idref" href="RegLang.regexp.html#X"><span class="id" title="variable">X</span></a>) <a class="idref" href="RegLang.regexp.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.regexp.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.regexp.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^</span></a><a class="idref" href="RegLang.regexp.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="RegLang.regexp.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.regexp.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">w1</span> <span class="id" title="var">w2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#554fc3f3cf0a27fe0863b7741d119014"><span class="id" title="notation">[/\</span></a> <a class="idref" href="RegLang.regexp.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.regexp.html#w1"><span class="id" title="variable">w1</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <a class="idref" href="RegLang.regexp.html#w2"><span class="id" title="variable">w2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#554fc3f3cf0a27fe0863b7741d119014"><span class="id" title="notation">,</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="RegLang.regexp.html#w2"><span class="id" title="variable">w2</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#00fe0eaf5e6949f0a31725357afa4bba"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="RegLang.regexp.html#w"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#554fc3f3cf0a27fe0863b7741d119014"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.regexp.html#w1"><span class="id" title="variable">w1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^</span></a><a class="idref" href="RegLang.regexp.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="RegLang.regexp.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.regexp.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#554fc3f3cf0a27fe0863b7741d119014"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="RegLang.regexp.html#w2"><span class="id" title="variable">w2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^(</span></a><a class="idref" href="RegLang.regexp.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#c07c66784631827a3968dee93baba0d0"><span class="id" title="notation">|:</span></a> <a class="idref" href="RegLang.regexp.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">)</span></a> <a class="idref" href="RegLang.regexp.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="RegLang.regexp.html#q"><span class="id" title="variable">q</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#554fc3f3cf0a27fe0863b7741d119014"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>/<a class="idref" href="RegLang.regexp.html#LP"><span class="id" title="lemma">LP</span></a> =&gt; <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="RegLang.misc.html#find_minn_bound"><span class="id" title="lemma">find_minn_bound</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">i</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#00fe0eaf5e6949f0a31725357afa4bba"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="RegLang.regexp.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> <span class="id" title="var">p</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#take"><span class="id" title="definition">take</span></a> <a class="idref" href="RegLang.regexp.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="var">w</span>) <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <span class="id" title="var">z</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">)</span></a>) (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <span class="id" title="var">w</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">case</span> =&gt; <span class="id" title="var">i</span> [<span class="id" title="var">lt_w</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [<span class="id" title="var">i_gt0</span> /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> <span class="id" title="var">delta_z</span>] <span class="id" title="var">min_i</span>]; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#take"><span class="id" title="definition">take</span></a> <span class="id" title="var">i</span> <span class="id" title="var">w</span>); <span class="id" title="tactic">exists</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#drop"><span class="id" title="definition">drop</span></a> <span class="id" title="var">i</span> <span class="id" title="var">w</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> ? : 0 <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#00fe0eaf5e6949f0a31725357afa4bba"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <span class="id" title="var">w</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">exact</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltn_trans"><span class="id" title="lemma">ltn_trans</span></a> <span class="id" title="var">lt_w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#cat_take_drop"><span class="id" title="lemma">cat_take_drop</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size_drop"><span class="id" title="lemma">size_drop</span></a> -{2}[<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <span class="id" title="var">w</span>]<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#subn0"><span class="id" title="lemma">subn0</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltn_sub2l"><span class="id" title="lemma">ltn_sub2l</span></a> //; <span class="id" title="tactic">split</span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.regexp.html#LP"><span class="id" title="lemma">LP</span></a>. <span class="id" title="tactic">split</span> =&gt; // <span class="id" title="var">j</span> <span class="id" title="var">J1</span> <span class="id" title="var">J2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">lt_i_j</span> : <span class="id" title="var">j</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#00fe0eaf5e6949f0a31725357afa4bba"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">i</span>. <span class="id" title="tactic">apply</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#leq_trans"><span class="id" title="lemma">leq_trans</span></a> <span class="id" title="var">J2</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size_take"><span class="id" title="lemma">size_take</span></a> <span class="id" title="var">lt_w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span>/(<span class="id" title="var">H2</span> <span class="id" title="var">_</span> <span class="id" title="var">J1</span>) : <span class="id" title="var">j</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#00fe0eaf5e6949f0a31725357afa4bba"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <span class="id" title="var">w</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltn_trans"><span class="id" title="lemma">ltn_trans</span></a> <span class="id" title="var">lt_w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#setU1P"><span class="id" title="lemma">setU1P</span></a> =&gt; [<span class="id" title="var">H</span>|]; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.misc.html#take_take"><span class="id" title="lemma">take_take</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">min_i</span> <span class="id" title="var">_</span> <span class="id" title="var">lt_i_j</span>). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#negb_and"><span class="id" title="lemma">negb_and</span></a> <span class="id" title="var">J1</span> <span class="id" title="var">H</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqxx"><span class="id" title="abbreviation">eqxx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.regexp.html#LP"><span class="id" title="lemma">LP</span></a>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H1</span> -{2}[<span class="id" title="var">w</span>](<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#cat_take_drop"><span class="id" title="lemma">cat_take_drop</span></a> <span class="id" title="var">i</span>) <a class="idref" href="RegLang.dfa.html#delta_cat"><span class="id" title="lemma">delta_cat</span></a> <span class="id" title="var">delta_z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> =&gt; // <span class="id" title="var">j</span> <span class="id" title="var">J1</span> <span class="id" title="var">J2</span>. <span class="id" title="tactic">rewrite</span> -{1}<span class="id" title="var">delta_z</span> -<a class="idref" href="RegLang.dfa.html#delta_cat"><span class="id" title="lemma">delta_cat</span></a> -<a class="idref" href="RegLang.misc.html#take_addn"><span class="id" title="lemma">take_addn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <span class="id" title="var">H2</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#addn_gt0"><span class="id" title="lemma">addn_gt0</span></a> <span class="id" title="var">J1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#orbT"><span class="id" title="lemma">orbT</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -[<span class="id" title="var">w</span>](<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#cat_take_drop"><span class="id" title="lemma">cat_take_drop</span></a> <span class="id" title="var">i</span>) <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size_cat"><span class="id" title="lemma">size_cat</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size_take"><span class="id" title="lemma">size_take</span></a> <span class="id" title="var">lt_w</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltn_add2l"><span class="id" title="lemma">ltn_add2l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">H</span>; <span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.regexp.html#LP"><span class="id" title="lemma">LP</span></a>. <span class="id" title="tactic">split</span> =&gt; // <span class="id" title="var">i</span> <span class="id" title="var">I1</span> <span class="id" title="var">I2</span>. <span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#contraTT"><span class="id" title="definition">contraTT</span></a> (<span class="id" title="var">H2</span> <span class="id" title="var">_</span> <span class="id" title="var">I1</span> <span class="id" title="var">I2</span>) =&gt; <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#negb_or"><span class="id" title="lemma">negb_or</span></a> <span class="id" title="var">C</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#andbT"><span class="id" title="lemma">andbT</span></a>. <span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#contraNN"><span class="id" title="definition">contraNN</span></a> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">I2</span>) =&gt; -&gt;. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">I1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="L_cat"><span class="id" title="lemma">L_cat</span></a> (<span class="id" title="var">X</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">{</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">set</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">}</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">w1</span> <span class="id" title="var">w2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.regexp.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.regexp.html#w1"><span class="id" title="variable">w1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^</span></a><a class="idref" href="RegLang.regexp.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.regexp.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.regexp.html#w2"><span class="id" title="variable">w2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^</span></a><a class="idref" href="RegLang.regexp.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="RegLang.regexp.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="RegLang.regexp.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.regexp.html#w1"><span class="id" title="variable">w1</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a><a class="idref" href="RegLang.regexp.html#w2"><span class="id" title="variable">w2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^</span></a><a class="idref" href="RegLang.regexp.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.regexp.html#y"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">Hz</span> /<a class="idref" href="RegLang.regexp.html#LP"><span class="id" title="lemma">LP</span></a> [<span class="id" title="var">H11</span> <span class="id" title="var">H12</span>] /<a class="idref" href="RegLang.regexp.html#LP"><span class="id" title="lemma">LP</span></a> [<span class="id" title="var">H21</span> <span class="id" title="var">H22</span>]. <span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.regexp.html#LP"><span class="id" title="lemma">LP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.dfa.html#delta_cat"><span class="id" title="lemma">delta_cat</span></a> <span class="id" title="var">H11</span> <span class="id" title="var">H21</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">i</span> <span class="id" title="var">i_gt0</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#take_cat"><span class="id" title="lemma">take_cat</span></a>. <span class="id" title="tactic">case</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#boolP"><span class="id" title="lemma">boolP</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#00fe0eaf5e6949f0a31725357afa4bba"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">_</span>)); <span class="id" title="tactic">first</span> <span class="id" title="tactic">exact</span>: <span class="id" title="var">H12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.dfa.html#delta_cat"><span class="id" title="lemma">delta_cat</span></a> <span class="id" title="var">H11</span> -<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#leqNgt"><span class="id" title="lemma">leqNgt</span></a> =&gt; <span class="id" title="var">le_w1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#posnP"><span class="id" title="lemma">posnP</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#7825ccc99f23b0d30c9d40c317ba7af0"><span class="id" title="notation">-</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <span class="id" title="var">w1</span>)) =&gt; [-&gt;|<span class="id" title="var">Hi</span>]; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#take0"><span class="id" title="lemma">take0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <span class="id" title="var">H22</span> =&gt; //. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltn_add2l"><span class="id" title="lemma">ltn_add2l</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <span class="id" title="var">w1</span>)) <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#subnKC"><span class="id" title="lemma">subnKC</span></a> // -<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size_cat"><span class="id" title="lemma">size_cat</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="L_catL"><span class="id" title="lemma">L_catL</span></a> <span class="id" title="var">X</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">w1</span> <span class="id" title="var">w2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.regexp.html#w1"><span class="id" title="variable">w1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^</span></a><a class="idref" href="RegLang.regexp.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.regexp.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.regexp.html#w2"><span class="id" title="variable">w2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^(</span></a><a class="idref" href="RegLang.regexp.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#c07c66784631827a3968dee93baba0d0"><span class="id" title="notation">|:</span></a> <a class="idref" href="RegLang.regexp.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">)</span></a> <a class="idref" href="RegLang.regexp.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="RegLang.regexp.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.regexp.html#w1"><span class="id" title="variable">w1</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a><a class="idref" href="RegLang.regexp.html#w2"><span class="id" title="variable">w2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^(</span></a><a class="idref" href="RegLang.regexp.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#c07c66784631827a3968dee93baba0d0"><span class="id" title="notation">|:</span></a> <a class="idref" href="RegLang.regexp.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">)</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.regexp.html#y"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">move</span>/(<a class="idref" href="RegLang.regexp.html#L_monotone"><span class="id" title="lemma">L_monotone</span></a> <span class="id" title="var">z</span>). <span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.regexp.html#L_cat"><span class="id" title="lemma">L_cat</span></a>. <span class="id" title="tactic">exact</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#setU11"><span class="id" title="lemma">setU11</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="L_catR"><span class="id" title="lemma">L_catR</span></a> <span class="id" title="var">X</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">w1</span> <span class="id" title="var">w2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.regexp.html#w1"><span class="id" title="variable">w1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^(</span></a><a class="idref" href="RegLang.regexp.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#c07c66784631827a3968dee93baba0d0"><span class="id" title="notation">|:</span></a> <a class="idref" href="RegLang.regexp.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">)</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.regexp.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.regexp.html#w2"><span class="id" title="variable">w2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^</span></a><a class="idref" href="RegLang.regexp.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="RegLang.regexp.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="RegLang.regexp.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.regexp.html#w1"><span class="id" title="variable">w1</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a><a class="idref" href="RegLang.regexp.html#w2"><span class="id" title="variable">w2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^(</span></a><a class="idref" href="RegLang.regexp.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#c07c66784631827a3968dee93baba0d0"><span class="id" title="notation">|:</span></a> <a class="idref" href="RegLang.regexp.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">)</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.regexp.html#y"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">H</span> /(<a class="idref" href="RegLang.regexp.html#L_monotone"><span class="id" title="lemma">L_monotone</span></a> <span class="id" title="var">z</span>). <span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.regexp.html#L_cat"><span class="id" title="lemma">L_cat</span></a> <span class="id" title="var">H</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#setU11"><span class="id" title="lemma">setU11</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="L_star"><span class="id" title="lemma">L_star</span></a> (<span class="id" title="var">X</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">{</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">set</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">}</span></a>) <span class="id" title="var">z</span> <span class="id" title="var">w</span> : <a class="idref" href="RegLang.regexp.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.languages.html#star"><span class="id" title="definition">star</span></a> (<a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^</span></a><a class="idref" href="RegLang.regexp.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="RegLang.regexp.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="RegLang.regexp.html#z"><span class="id" title="variable">z</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.regexp.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^(</span></a><a class="idref" href="RegLang.regexp.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#c07c66784631827a3968dee93baba0d0"><span class="id" title="notation">|:</span></a> <a class="idref" href="RegLang.regexp.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">)</span></a> <a class="idref" href="RegLang.regexp.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="RegLang.regexp.html#z"><span class="id" title="variable">z</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="RegLang.languages.html#starP"><span class="id" title="lemma">starP</span></a> =&gt; [<span class="id" title="var">vv</span> <span class="id" title="var">Hvv</span> -&gt;]. <span class="id" title="tactic">elim</span>: <span class="id" title="var">vv</span> <span class="id" title="var">Hvv</span> =&gt; [<span class="id" title="var">_</span>|<span class="id" title="var">r</span> <span class="id" title="var">vv</span> <span class="id" title="var">IHvv</span>]; <span class="id" title="tactic">first</span> <span class="id" title="tactic">exact</span>/<a class="idref" href="RegLang.regexp.html#L_nil"><span class="id" title="lemma">L_nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; /= /<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [/<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [<span class="id" title="var">_</span> <span class="id" title="var">H1</span>] <span class="id" title="var">H2</span>]. <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.regexp.html#L_catL"><span class="id" title="lemma">L_catL</span></a> <span class="id" title="var">H1</span> (<span class="id" title="var">IHvv</span> <span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Main Lemma - L satisfies a recursive equation that can be used
  to construct a regular expression 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="L_rec"><span class="id" title="lemma">L_rec</span></a> (<span class="id" title="var">X</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">{</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">set</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">}</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^(</span></a><a class="idref" href="RegLang.regexp.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#c07c66784631827a3968dee93baba0d0"><span class="id" title="notation">|:</span></a> <a class="idref" href="RegLang.regexp.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">)</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.regexp.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">i</span></a> <a class="idref" href="RegLang.languages.html#plus"><span class="id" title="definition">plus</span></a> (<a class="idref" href="RegLang.languages.html#conc"><span class="id" title="definition">conc</span></a> (<a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^</span></a><a class="idref" href="RegLang.regexp.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.regexp.html#z"><span class="id" title="variable">z</span></a>) (<a class="idref" href="RegLang.languages.html#conc"><span class="id" title="definition">conc</span></a> (<a class="idref" href="RegLang.languages.html#star"><span class="id" title="definition">star</span></a> (<a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^</span></a><a class="idref" href="RegLang.regexp.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="RegLang.regexp.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="RegLang.regexp.html#z"><span class="id" title="variable">z</span></a>)) (<a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^</span></a><a class="idref" href="RegLang.regexp.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="RegLang.regexp.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="RegLang.regexp.html#y"><span class="id" title="variable">y</span></a>))) (<a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^</span></a><a class="idref" href="RegLang.regexp.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.regexp.html#y"><span class="id" title="variable">y</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">w</span>. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>/<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>: <span class="id" title="var">w</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">apply</span>: (<a class="idref" href="RegLang.misc.html#size_induction"><span class="id" title="lemma">size_induction</span></a> (<span class="id" title="keyword">measure</span> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a>)) =&gt; <span class="id" title="var">w</span> <span class="id" title="var">IHw</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="RegLang.regexp.html#L_split"><span class="id" title="lemma">L_split</span></a> =&gt; [|[<span class="id" title="var">w1</span> [<span class="id" title="var">w2</span> [<span class="id" title="var">Hw'</span> <span class="id" title="var">H1</span> <span class="id" title="var">Hw1</span> <span class="id" title="var">Hw2</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> =&gt; -&gt;. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#orbT"><span class="id" title="lemma">orbT</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span>: (<span class="id" title="var">IHw</span> <span class="id" title="var">w2</span> <span class="id" title="var">H1</span> <span class="id" title="var">z</span> <span class="id" title="var">y</span> <span class="id" title="var">Hw2</span>) <span class="id" title="var">Hw'</span> =&gt; <span class="id" title="var">H4</span> -&gt; {<span class="id" title="var">IHw</span> <span class="id" title="var">H1</span>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> (<a class="idref" href="RegLang.languages.html#conc_cat"><span class="id" title="lemma">conc_cat</span></a> <span class="id" title="var">Hw1</span> <span class="id" title="var">_</span>) //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>/<a class="idref" href="RegLang.languages.html#plusP"><span class="id" title="lemma">plusP</span></a> : <span class="id" title="var">H4</span> =&gt; <span class="id" title="var">H</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -[<span class="id" title="var">w2</span>]<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#cat0s"><span class="id" title="lemma">cat0s</span></a> <a class="idref" href="RegLang.languages.html#conc_cat"><span class="id" title="lemma">conc_cat</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="RegLang.languages.html#concP"><span class="id" title="lemma">concP</span></a> : <span class="id" title="var">H</span> =&gt; [<span class="id" title="var">w21</span>] [<span class="id" title="var">w22</span>] [<span class="id" title="var">W1</span> [<span class="id" title="var">W2</span>]] /<a class="idref" href="RegLang.languages.html#concP"><span class="id" title="lemma">concP</span></a> [<span class="id" title="var">w221</span>] [<span class="id" title="var">w222</span>] [<span class="id" title="var">W3</span> [<span class="id" title="var">W4</span> <span class="id" title="var">W5</span>]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#catA"><span class="id" title="lemma">catA</span></a> <a class="idref" href="RegLang.languages.html#conc_cat"><span class="id" title="lemma">conc_cat</span></a> // <a class="idref" href="RegLang.languages.html#star_cat"><span class="id" title="lemma">star_cat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">case</span>/<a class="idref" href="RegLang.languages.html#plusP"><span class="id" title="lemma">plusP</span></a> ; <span class="id" title="var">last</span> <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.regexp.html#L_monotone"><span class="id" title="lemma">L_monotone</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="RegLang.languages.html#concP"><span class="id" title="lemma">concP</span></a> =&gt; [<span class="id" title="var">w1</span>] [<span class="id" title="var">w2</span>] [-&gt; [<span class="id" title="var">Hw1</span>]] /<a class="idref" href="RegLang.languages.html#concP"><span class="id" title="lemma">concP</span></a> [<span class="id" title="var">w3</span>] [<span class="id" title="var">w4</span>] [-&gt; [<span class="id" title="var">Hw3</span> <span class="id" title="var">Hw4</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="RegLang.regexp.html#L_catL"><span class="id" title="lemma">L_catL</span></a> <span class="id" title="var">Hw1</span>) // (<a class="idref" href="RegLang.regexp.html#L_catR"><span class="id" title="lemma">L_catR</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Hw4</span>) // <a class="idref" href="RegLang.regexp.html#L_star"><span class="id" title="lemma">L_star</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Construction of the regular expression 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="edges"><span class="id" title="definition">edges</span></a> (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a>) := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#1871917561e26284874cb982a8cc32df"><span class="id" title="notation">\</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#1871917561e26284874cb982a8cc32df"><span class="id" title="notation">big</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#1871917561e26284874cb982a8cc32df"><span class="id" title="notation">[</span></a><a class="idref" href="RegLang.regexp.html#Plus"><span class="id" title="constructor">Plus</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#1871917561e26284874cb982a8cc32df"><span class="id" title="notation">/</span></a><a class="idref" href="RegLang.regexp.html#22cadecb2f8a358ac30d6a4c52614063"><span class="id" title="notation">Void</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#1871917561e26284874cb982a8cc32df"><span class="id" title="notation">]</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#1871917561e26284874cb982a8cc32df"><span class="id" title="notation">_</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#1871917561e26284874cb982a8cc32df"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#1871917561e26284874cb982a8cc32df"><span class="id" title="notation">|</span></a> <a class="idref" href="RegLang.dfa.html#dfa_trans"><span class="id" title="projection">dfa_trans</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.regexp.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <a class="idref" href="RegLang.regexp.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#1871917561e26284874cb982a8cc32df"><span class="id" title="notation">)</span></a> <a class="idref" href="RegLang.regexp.html#Atom"><span class="id" title="constructor">Atom</span></a> <a class="idref" href="RegLang.regexp.html#a"><span class="id" title="variable">a</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="edgesP"><span class="id" title="definition">edgesP</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">w</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">exists2</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.regexp.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">[::</span></a><a class="idref" href="RegLang.regexp.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="RegLang.dfa.html#dfa_trans"><span class="id" title="projection">dfa_trans</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.regexp.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.regexp.html#y"><span class="id" title="variable">y</span></a>) (<a class="idref" href="RegLang.regexp.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#edges"><span class="id" title="definition">edges</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.regexp.html#y"><span class="id" title="variable">y</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> (<a class="idref" href="RegLang.regexp.html#big_plusP"><span class="id" title="lemma">big_plusP</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) =&gt; [|] [<span class="id" title="var">a</span>] /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> ? /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> ?; <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="R0"><span class="id" title="definition">R0</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> := <a class="idref" href="RegLang.regexp.html#Plus"><span class="id" title="constructor">Plus</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssreflect.html#00a1a5b58aac8f1e3f1abff064a39f9d"><span class="id" title="notation">if</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <a class="idref" href="RegLang.regexp.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssreflect.html#00a1a5b58aac8f1e3f1abff064a39f9d"><span class="id" title="notation">then</span></a> <a class="idref" href="RegLang.regexp.html#0ac2b8cf75e6fd4e7e08a9decdab75a5"><span class="id" title="notation">Eps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssreflect.html#00a1a5b58aac8f1e3f1abff064a39f9d"><span class="id" title="notation">else</span></a> <a class="idref" href="RegLang.regexp.html#22cadecb2f8a358ac30d6a4c52614063"><span class="id" title="notation">Void</span></a>) (<a class="idref" href="RegLang.regexp.html#edges"><span class="id" title="definition">edges</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.regexp.html#y"><span class="id" title="variable">y</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="mem_R0"><span class="id" title="lemma">mem_R0</span></a> <span class="id" title="var">w</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a> (<a class="idref" href="RegLang.regexp.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626"><span class="id" title="notation">[::]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><a class="idref" href="RegLang.regexp.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">exists2</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.regexp.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">[::</span></a><a class="idref" href="RegLang.regexp.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="RegLang.dfa.html#dfa_trans"><span class="id" title="projection">dfa_trans</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.regexp.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.regexp.html#y"><span class="id" title="variable">y</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="RegLang.regexp.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#R0"><span class="id" title="definition">R0</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.regexp.html#y"><span class="id" title="variable">y</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> <a class="idref" href="RegLang.languages.html#plusP"><span class="id" title="lemma">plusP</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">case</span> =&gt; [| /<a class="idref" href="RegLang.regexp.html#edgesP"><span class="id" title="definition">edgesP</span></a>]; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">case</span> <span class="id" title="var">e</span> : (<span class="id" title="var">x</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <span class="id" title="var">y</span>) =&gt; // /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> <span class="id" title="var">e</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">case</span> =&gt; [[-&gt; -&gt;]|/<a class="idref" href="RegLang.regexp.html#edgesP"><span class="id" title="definition">edgesP</span></a>];<span class="id" title="tactic">auto</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqxx"><span class="id" title="abbreviation">eqxx</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="R"><span class="id" title="definition">R</span></a> (<span class="id" title="var">X</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="RegLang.regexp.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="var">isn't</span> <span class="id" title="var">z</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#407cde5b61fbf27196d1a7c5a475e083"><span class="id" title="notation">::</span></a> <span class="id" title="var">X'</span> <span class="id" title="keyword">then</span> <a class="idref" href="RegLang.regexp.html#R0"><span class="id" title="definition">R0</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.regexp.html#y"><span class="id" title="variable">y</span></a> <span class="id" title="keyword">else</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.regexp.html#Plus"><span class="id" title="constructor">Plus</span></a> (<a class="idref" href="RegLang.regexp.html#Conc"><span class="id" title="constructor">Conc</span></a> (<a class="idref" href="RegLang.regexp.html#R"><span class="id" title="definition">R</span></a> <span class="id" title="var">X'</span> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="var">z</span>) (<a class="idref" href="RegLang.regexp.html#Conc"><span class="id" title="constructor">Conc</span></a> (<a class="idref" href="RegLang.regexp.html#Star"><span class="id" title="constructor">Star</span></a> (<a class="idref" href="RegLang.regexp.html#R"><span class="id" title="definition">R</span></a> <span class="id" title="var">X'</span> <span class="id" title="var">z</span> <span class="id" title="var">z</span>)) (<a class="idref" href="RegLang.regexp.html#R"><span class="id" title="definition">R</span></a> <span class="id" title="var">X'</span> <span class="id" title="var">z</span> <a class="idref" href="RegLang.regexp.html#y"><span class="id" title="variable">y</span></a>))) (<a class="idref" href="RegLang.regexp.html#R"><span class="id" title="definition">R</span></a> <span class="id" title="var">X'</span> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.regexp.html#y"><span class="id" title="variable">y</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="f479b52014d67b9b0e4c0398257014f2"><span class="id" title="notation">&quot;</span></a>'R^' X" := (<a class="idref" href="RegLang.regexp.html#R"><span class="id" title="definition">R</span></a> <span class="id" title="var">X</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 8, <span class="id" title="var">format</span> "'R^' X").<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="L_R"><span class="id" title="lemma">L_R</span></a> (<span class="id" title="var">X</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#6308ce91f23e15d48045c8a55b43b8f5"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#6308ce91f23e15d48045c8a55b43b8f5"><span class="id" title="notation">set</span></a> <span class="id" title="var">z</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#6308ce91f23e15d48045c8a55b43b8f5"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#6308ce91f23e15d48045c8a55b43b8f5"><span class="id" title="notation">]</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.regexp.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">i</span></a> <a class="idref" href="RegLang.regexp.html#f479b52014d67b9b0e4c0398257014f2"><span class="id" title="notation">R</span></a><a class="idref" href="RegLang.regexp.html#f479b52014d67b9b0e4c0398257014f2"><span class="id" title="notation">^</span></a><a class="idref" href="RegLang.regexp.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.regexp.html#y"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">X</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> =&gt; [|<span class="id" title="var">z</span> <span class="id" title="var">X'</span> <span class="id" title="var">IH</span>] <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssreflect.html#aed478b27f23b4f753c27c8ac393febc"><span class="id" title="notation">:</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#6308ce91f23e15d48045c8a55b43b8f5"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#6308ce91f23e15d48045c8a55b43b8f5"><span class="id" title="notation">set</span></a> <span class="id" title="var">z</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#6308ce91f23e15d48045c8a55b43b8f5"><span class="id" title="notation">in</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626"><span class="id" title="notation">[::]</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#6308ce91f23e15d48045c8a55b43b8f5"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#set0"><span class="id" title="definition">set0</span></a>) //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>/<a class="idref" href="RegLang.regexp.html#mem_R0"><span class="id" title="lemma">mem_R0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span>/<a class="idref" href="RegLang.regexp.html#L_set0"><span class="id" title="lemma">L_set0</span></a> =&gt; [[-&gt; -&gt;]|[<span class="id" title="var">a</span> -&gt; -&gt;]]; <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span> =&gt; [[-&gt; -&gt;]|[<span class="id" title="var">a</span> -&gt; &lt;-]]; <span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.regexp.html#LP"><span class="id" title="lemma">LP</span></a> =&gt; /=; <span class="id" title="tactic">split</span> =&gt; // [[|<span class="id" title="var">i</span>]] //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#set_cons"><span class="id" title="lemma">set_cons</span></a> /= (<a class="idref" href="RegLang.regexp.html#L_rec"><span class="id" title="lemma">L_rec</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) -2!<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#topredE"><span class="id" title="lemma">topredE</span></a> /= /<a class="idref" href="RegLang.languages.html#plus"><span class="id" title="definition">plus</span></a> /= <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.languages.html#conc_eq"><span class="id" title="lemma">conc_eq</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">exact</span>: <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.languages.html#conc_eq"><span class="id" title="lemma">conc_eq</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">exact</span>: <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.languages.html#star_eq"><span class="id" title="lemma">star_eq</span></a>. <span class="id" title="tactic">exact</span>: <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="dfa_to_re"><span class="id" title="definition">dfa_to_re</span></a> : <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.char"><span class="id" title="variable">char</span></a> := <a class="idref" href="RegLang.regexp.html#99715ae27b3e7216a233fea70a9f3491"><span class="id" title="notation">\</span></a><a class="idref" href="RegLang.regexp.html#99715ae27b3e7216a233fea70a9f3491"><span class="id" title="notation">sigma_</span></a><a class="idref" href="RegLang.regexp.html#99715ae27b3e7216a233fea70a9f3491"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span> <a class="idref" href="RegLang.regexp.html#99715ae27b3e7216a233fea70a9f3491"><span class="id" title="notation">|</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_fin"><span class="id" title="projection">dfa_fin</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a><a class="idref" href="RegLang.regexp.html#99715ae27b3e7216a233fea70a9f3491"><span class="id" title="notation">)</span></a> <a class="idref" href="RegLang.regexp.html#f479b52014d67b9b0e4c0398257014f2"><span class="id" title="notation">R</span></a><a class="idref" href="RegLang.regexp.html#f479b52014d67b9b0e4c0398257014f2"><span class="id" title="notation">^(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#enum"><span class="id" title="abbreviation">enum</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a><a class="idref" href="RegLang.regexp.html#f479b52014d67b9b0e4c0398257014f2"><span class="id" title="notation">)</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_s"><span class="id" title="projection">dfa_s</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a>) <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="dfa_to_re_correct"><span class="id" title="lemma">dfa_to_re_correct</span></a> : <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">i</span></a> <a class="idref" href="RegLang.regexp.html#dfa_to_re"><span class="id" title="definition">dfa_to_re</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">w</span>. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>/<a class="idref" href="RegLang.regexp.html#big_plusP"><span class="id" title="lemma">big_plusP</span></a> =&gt; [<span class="id" title="var">H</span>|[<span class="id" title="var">x</span> <span class="id" title="var">Hx</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> (<a class="idref" href="RegLang.dfa.html#delta_s"><span class="id" title="definition">delta_s</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">w</span>) =&gt; //. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="RegLang.regexp.html#L_R"><span class="id" title="lemma">L_R</span></a> <a class="idref" href="RegLang.misc.html#set_enum"><span class="id" title="lemma">set_enum</span></a> <a class="idref" href="RegLang.regexp.html#dfa_L"><span class="id" title="lemma">dfa_L</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="RegLang.regexp.html#L_R"><span class="id" title="lemma">L_R</span></a> <a class="idref" href="RegLang.misc.html#set_enum"><span class="id" title="lemma">set_enum</span></a> <a class="idref" href="RegLang.regexp.html#dfa_L"><span class="id" title="lemma">dfa_L</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> /<a class="idref" href="RegLang.dfa.html#dfa_accept"><span class="id" title="definition">dfa_accept</span></a> =&gt; /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> -&gt;.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab25"></a><h2 class="section">Size Bound for Kleene Theorem</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <a name="KleeneAlgorithm.c"><span class="id" title="variable">c</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#331a87f8f0f3c9336601c27f1e458dc3"><span class="id" title="notation">(</span></a>2 <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">*</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.char"><span class="id" title="variable">char</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#331a87f8f0f3c9336601c27f1e458dc3"><span class="id" title="notation">).+3</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="R0_size"><span class="id" title="lemma">R0_size</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="RegLang.regexp.html#re_size"><span class="id" title="definition">re_size</span></a> (<a class="idref" href="RegLang.regexp.html#R0"><span class="id" title="definition">R0</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.regexp.html#y"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.c"><span class="id" title="variable">c</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= [<span class="id" title="var">X</span> <span class="id" title="tactic">in</span> <a class="idref" href="RegLang.regexp.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">_</span>](<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssreflect.html#aed478b27f23b4f753c27c8ac393febc"><span class="id" title="notation">:</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1); <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span> (<span class="id" title="var">_</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#add1n"><span class="id" title="lemma">add1n</span></a> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltnS"><span class="id" title="lemma">ltnS</span></a>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="RegLang.regexp.html#edges"><span class="id" title="definition">edges</span></a> -<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#big_filter"><span class="id" title="lemma">big_filter</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#leq_trans"><span class="id" title="lemma">leq_trans</span></a> (<a class="idref" href="RegLang.regexp.html#big_plus_size"><span class="id" title="lemma">big_plus_size</span></a> (<span class="id" title="var">m</span> := 1) <span class="id" title="var">_</span>) <span class="id" title="var">_</span> =&gt; [//|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size_filter"><span class="id" title="lemma">size_filter</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltnS"><span class="id" title="lemma">ltnS</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mulnC"><span class="id" title="lemma">mulnC</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#leq_mul2l"><span class="id" title="lemma">leq_mul2l</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#leq_trans"><span class="id" title="lemma">leq_trans</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#count_size"><span class="id" title="lemma">count_size</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#index_enum"><span class="id" title="definition">index_enum</span></a> -<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#enumT"><span class="id" title="lemma">enumT</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#cardE"><span class="id" title="lemma">cardE</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="R_size_rec"><span class="id" title="definition">R_size_rec</span></a> (<span class="id" title="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) := <span class="id" title="keyword">if</span> <a class="idref" href="RegLang.regexp.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">n'</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a> <span class="id" title="keyword">then</span> 4 <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">*</span></a> <a class="idref" href="RegLang.regexp.html#R_size_rec"><span class="id" title="definition">R_size_rec</span></a> <span class="id" title="var">n'</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 4 <span class="id" title="keyword">else</span> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.c"><span class="id" title="variable">c</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="R_size"><span class="id" title="lemma">R_size</span></a> <span class="id" title="var">x</span> : <a class="idref" href="RegLang.regexp.html#re_size"><span class="id" title="definition">re_size</span></a> (<a class="idref" href="RegLang.regexp.html#f479b52014d67b9b0e4c0398257014f2"><span class="id" title="notation">R</span></a><a class="idref" href="RegLang.regexp.html#f479b52014d67b9b0e4c0398257014f2"><span class="id" title="notation">^(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#enum"><span class="id" title="abbreviation">enum</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a><a class="idref" href="RegLang.regexp.html#f479b52014d67b9b0e4c0398257014f2"><span class="id" title="notation">)</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_s"><span class="id" title="projection">dfa_s</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a>) <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="RegLang.regexp.html#R_size_rec"><span class="id" title="definition">R_size_rec</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a> .<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#cardE"><span class="id" title="lemma">cardE</span></a>. <span class="id" title="tactic">elim</span>: (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#enum"><span class="id" title="abbreviation">enum</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a>) (<a class="idref" href="RegLang.dfa.html#dfa_s"><span class="id" title="projection">dfa_s</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">x</span> =&gt; [|<span class="id" title="var">r</span> <span class="id" title="var">s</span> <span class="id" title="var">IH</span>] <span class="id" title="var">p</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.regexp.html#R0_size"><span class="id" title="lemma">R0_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /= 6!<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#addSn"><span class="id" title="lemma">addSn</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#addnS"><span class="id" title="lemma">addnS</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#addn4"><span class="id" title="lemma">addn4</span></a> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltnS"><span class="id" title="lemma">ltnS</span></a> !(<a class="idref" href="RegLang.setoid_leq.html#leqRW"><span class="id" title="definition">leqRW</span></a> (<span class="id" title="var">IH</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mulSn"><span class="id" title="lemma">mulSn</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mul0n"><span class="id" title="lemma">mul0n</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#addn0"><span class="id" title="lemma">addn0</span></a> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#addnA"><span class="id" title="lemma">addnA</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="R_size_low"><span class="id" title="lemma">R_size_low</span></a> (<span class="id" title="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : 3 <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="RegLang.regexp.html#R_size_rec"><span class="id" title="definition">R_size_rec</span></a> <a class="idref" href="RegLang.regexp.html#n"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">elim</span>: <span class="id" title="var">n</span> =&gt; // <span class="id" title="var">n</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="RegLang.setoid_leq.html#leqRW"><span class="id" title="definition">leqRW</span></a> <span class="id" title="var">IH</span>) /= -(<a class="idref" href="RegLang.setoid_leq.html#leqRW"><span class="id" title="definition">leqRW</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#leq_addr"><span class="id" title="lemma">leq_addr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#leq_pmull"><span class="id" title="lemma">leq_pmull</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="R_size_high"><span class="id" title="lemma">R_size_high</span></a> <span class="id" title="var">n</span> : <a class="idref" href="RegLang.regexp.html#R_size_rec"><span class="id" title="definition">R_size_rec</span></a> <a class="idref" href="RegLang.regexp.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.c"><span class="id" title="variable">c</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">*</span></a> 4<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^(</span></a>2 <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">*</span></a> <a class="idref" href="RegLang.regexp.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">n</span> =&gt; //= [|<span class="id" title="var">n</span> <span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mulnS"><span class="id" title="lemma">mulnS</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#muln0"><span class="id" title="lemma">muln0</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#addn0"><span class="id" title="lemma">addn0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> [<span class="id" title="tactic">in</span> <span class="id" title="var">X</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a><a class="idref" href="RegLang.regexp.html#X"><span class="id" title="variable">X</span></a>]<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mulnS"><span class="id" title="lemma">mulnS</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#expnD"><span class="id" title="lemma">expnD</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mulnA"><span class="id" title="lemma">mulnA</span></a> [<a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.c"><span class="id" title="variable">c</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">*</span></a> <span class="id" title="var">_</span>]<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mulnC"><span class="id" title="lemma">mulnC</span></a> -<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mulnA"><span class="id" title="lemma">mulnA</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="RegLang.setoid_leq.html#leqRW"><span class="id" title="definition">leqRW</span></a> <span class="id" title="var">IH</span>) -[4<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a>2]/(<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">(</span></a>1<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>3<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">)</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">*</span></a> 4) -<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mulnA"><span class="id" title="lemma">mulnA</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mulnDl"><span class="id" title="lemma">mulnDl</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mul1n"><span class="id" title="lemma">mul1n</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#leq_add"><span class="id" title="lemma">leq_add</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="RegLang.setoid_leq.html#leqRW"><span class="id" title="definition">leqRW</span></a> (<a class="idref" href="RegLang.regexp.html#R_size_low"><span class="id" title="lemma">R_size_low</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="dfa_to_re_size"><span class="id" title="lemma">dfa_to_re_size</span></a> : <a class="idref" href="RegLang.regexp.html#re_size"><span class="id" title="definition">re_size</span></a> <a class="idref" href="RegLang.regexp.html#dfa_to_re"><span class="id" title="definition">dfa_to_re</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">*</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.c"><span class="id" title="variable">c</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">*</span></a> 4 <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">(</span></a>2 <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">*</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">)</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">).+1).+1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="RegLang.regexp.html#dfa_to_re"><span class="id" title="definition">dfa_to_re</span></a> -<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#big_filter"><span class="id" title="lemma">big_filter</span></a> (<a class="idref" href="RegLang.setoid_leq.html#leqRW"><span class="id" title="definition">leqRW</span></a> (<a class="idref" href="RegLang.regexp.html#big_plus_size"><span class="id" title="lemma">big_plus_size</span></a> (<span class="id" title="var">m</span> := <a class="idref" href="RegLang.regexp.html#R_size_rec"><span class="id" title="definition">R_size_rec</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a>)<span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="RegLang.setoid_leq.html#leqRW"><span class="id" title="definition">leqRW</span></a> (<a class="idref" href="RegLang.regexp.html#R_size_high"><span class="id" title="lemma">R_size_high</span></a> <span class="id" title="var">_</span>)) <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size_filter"><span class="id" title="lemma">size_filter</span></a> (<a class="idref" href="RegLang.setoid_leq.html#leqRW"><span class="id" title="definition">leqRW</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#count_size"><span class="id" title="lemma">count_size</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltnS"><span class="id" title="lemma">ltnS</span></a> /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#index_enum"><span class="id" title="definition">index_enum</span></a> -<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#enumT"><span class="id" title="lemma">enumT</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#cardE"><span class="id" title="lemma">cardE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">q</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.regexp.html#R_size"><span class="id" title="lemma">R_size</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm"><span class="id" title="section">KleeneAlgorithm</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="regularP"><span class="id" title="lemma">regularP</span></a> (<span class="id" title="var">char</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) (<span class="id" title="var">L</span> : <a class="idref" href="RegLang.languages.html#lang"><span class="id" title="definition">lang</span></a> <a class="idref" href="RegLang.regexp.html#char"><span class="id" title="variable">char</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> <a class="idref" href="RegLang.regexp.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="RegLang.misc.html#1de2c6c9397232aa9997f10cc3519d54"><span class="id" title="notation">&lt;-</span></a><a class="idref" href="RegLang.misc.html#1de2c6c9397232aa9997f10cc3519d54"><span class="id" title="notation">T</span></a><a class="idref" href="RegLang.misc.html#1de2c6c9397232aa9997f10cc3519d54"><span class="id" title="notation">-&gt;</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a> <span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> <a class="idref" href="RegLang.regexp.html#char"><span class="id" title="variable">char</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <a class="idref" href="RegLang.regexp.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#4bfb4f2d0721ba668e3a802ab1b745a1"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> =&gt; [[<span class="id" title="var">A</span> <span class="id" title="var">HA</span>]|[<span class="id" title="var">e</span> <span class="id" title="var">He</span>]].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> (<a class="idref" href="RegLang.regexp.html#dfa_to_re"><span class="id" title="definition">dfa_to_re</span></a> <span class="id" title="var">A</span>) =&gt; <span class="id" title="var">x</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="RegLang.regexp.html#dfa_to_re_correct"><span class="id" title="lemma">dfa_to_re_correct</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> (<a class="idref" href="RegLang.regexp.html#re_to_dfa"><span class="id" title="definition">re_to_dfa</span></a> <span class="id" title="var">e</span>) =&gt; <span class="id" title="var">x</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.regexp.html#re_to_dfa_correct"><span class="id" title="lemma">re_to_dfa_correct</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Closure of Regular Expressions under intersection and complement 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="Inter"><span class="id" title="definition">Inter</span></a> (<span class="id" title="var">char</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) (<span class="id" title="var">r</span> <span class="id" title="var">s</span> : <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> <a class="idref" href="RegLang.regexp.html#char"><span class="id" title="variable">char</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="RegLang.regexp.html#dfa_to_re"><span class="id" title="definition">dfa_to_re</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_op"><span class="id" title="definition">dfa_op</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#andb"><span class="id" title="definition">andb</span></a> (<a class="idref" href="RegLang.regexp.html#re_to_dfa"><span class="id" title="definition">re_to_dfa</span></a> <a class="idref" href="RegLang.regexp.html#r"><span class="id" title="variable">r</span></a>) (<a class="idref" href="RegLang.regexp.html#re_to_dfa"><span class="id" title="definition">re_to_dfa</span></a> <a class="idref" href="RegLang.regexp.html#s"><span class="id" title="variable">s</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="Inter_correct"><span class="id" title="lemma">Inter_correct</span></a> (<span class="id" title="var">char</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) (<span class="id" title="var">r</span> <span class="id" title="var">s</span> : <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> <a class="idref" href="RegLang.regexp.html#char"><span class="id" title="variable">char</span></a>) <span class="id" title="var">w</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="RegLang.regexp.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#Inter"><span class="id" title="definition">Inter</span></a> <a class="idref" href="RegLang.regexp.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="RegLang.regexp.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.regexp.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#r"><span class="id" title="variable">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.regexp.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="RegLang.regexp.html#Inter"><span class="id" title="definition">Inter</span></a> -<a class="idref" href="RegLang.regexp.html#dfa_to_re_correct"><span class="id" title="lemma">dfa_to_re_correct</span></a> <a class="idref" href="RegLang.dfa.html#dfa_op_correct"><span class="id" title="lemma">dfa_op_correct</span></a> !<a class="idref" href="RegLang.regexp.html#re_to_dfa_correct"><span class="id" title="lemma">re_to_dfa_correct</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="Neg"><span class="id" title="definition">Neg</span></a> (<span class="id" title="var">char</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) (<span class="id" title="var">r</span> : <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> <a class="idref" href="RegLang.regexp.html#char"><span class="id" title="variable">char</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="RegLang.regexp.html#dfa_to_re"><span class="id" title="definition">dfa_to_re</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_compl"><span class="id" title="definition">dfa_compl</span></a> (<a class="idref" href="RegLang.regexp.html#re_to_dfa"><span class="id" title="definition">re_to_dfa</span></a> <a class="idref" href="RegLang.regexp.html#r"><span class="id" title="variable">r</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="Neg_correct"><span class="id" title="lemma">Neg_correct</span></a> (<span class="id" title="var">char</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) (<span class="id" title="var">r</span> : <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> <a class="idref" href="RegLang.regexp.html#char"><span class="id" title="variable">char</span></a>) <span class="id" title="var">w</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="RegLang.regexp.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#Neg"><span class="id" title="definition">Neg</span></a> <a class="idref" href="RegLang.regexp.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.regexp.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#c1ad6bcc76a6221225111f87bc3b0c3d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#c1ad6bcc76a6221225111f87bc3b0c3d"><span class="id" title="notation">notin</span></a> <a class="idref" href="RegLang.regexp.html#r"><span class="id" title="variable">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="RegLang.regexp.html#Neg"><span class="id" title="definition">Neg</span></a> -<a class="idref" href="RegLang.regexp.html#dfa_to_re_correct"><span class="id" title="lemma">dfa_to_re_correct</span></a> <a class="idref" href="RegLang.dfa.html#dfa_compl_correct"><span class="id" title="lemma">dfa_compl_correct</span></a> !<a class="idref" href="RegLang.regexp.html#re_to_dfa_correct"><span class="id" title="lemma">re_to_dfa_correct</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab26"></a><h2 class="section">Regular expression for images of homomorphimsms</h2>

</div>
<div class="code">

<br/>
<span class="id" title="var">Prenex</span> <span class="id" title="var">Implicits</span> <span class="id" title="var">Conc</span>.<br/>
<span class="id" title="keyword">Definition</span> <a name="String"><span class="id" title="definition">String</span></a> (<span class="id" title="var">char</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) (<span class="id" title="var">w</span> : <a class="idref" href="RegLang.languages.html#word"><span class="id" title="definition">word</span></a> <a class="idref" href="RegLang.regexp.html#char"><span class="id" title="variable">char</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#foldr"><span class="id" title="definition">foldr</span></a> <a class="idref" href="RegLang.regexp.html#Conc"><span class="id" title="constructor">Conc</span></a> <a class="idref" href="RegLang.regexp.html#0ac2b8cf75e6fd4e7e08a9decdab75a5"><span class="id" title="notation">Eps</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">seq</span></a> <a class="idref" href="RegLang.regexp.html#Atom"><span class="id" title="constructor">Atom</span></a> <a class="idref" href="RegLang.regexp.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">|</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="RegLang.regexp.html#w"><span class="id" title="variable">w</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">]</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="StringE"><span class="id" title="lemma">StringE</span></a> (<span class="id" title="var">char</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) (<span class="id" title="var">w</span> : <a class="idref" href="RegLang.languages.html#word"><span class="id" title="definition">word</span></a> <a class="idref" href="RegLang.regexp.html#char"><span class="id" title="variable">char</span></a>) : <a class="idref" href="RegLang.regexp.html#String"><span class="id" title="definition">String</span></a> <a class="idref" href="RegLang.regexp.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">i</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#pred1"><span class="id" title="definition">pred1</span></a> <a class="idref" href="RegLang.regexp.html#w"><span class="id" title="variable">w</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">w</span> =&gt; [|<span class="id" title="var">a</span> <span class="id" title="var">v</span> <span class="id" title="var">IHv</span>] <span class="id" title="var">w</span> //=. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> /<a class="idref" href="RegLang.regexp.html#String"><span class="id" title="definition">String</span></a> /=. <span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.languages.html#concP"><span class="id" title="lemma">concP</span></a>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">w1</span>] [<span class="id" title="var">w2</span>] [<span class="id" title="var">e</span> []]. <span class="id" title="tactic">set</span> <span class="id" title="var">r</span> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#foldr"><span class="id" title="definition">foldr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="RegLang.regexp.html#re_lang"><span class="id" title="definition">re_lang</span></a> <span class="id" title="var">r</span>) <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> <span class="id" title="var">e</span> =&gt; /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> -&gt; <span class="id" title="var">H</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHv</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">e</span>. <span class="id" title="tactic">exists</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">[::</span></a> <span class="id" title="var">a</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">]</span></a>; <span class="id" title="tactic">exists</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">split</span> =&gt; //; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHv</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqxx"><span class="id" title="abbreviation">eqxx</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="Image"><span class="id" title="section">Image</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variables</span> (<a name="Image.char"><span class="id" title="variable">char</span></a> <a name="Image.char'"><span class="id" title="variable">char'</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) (<a name="Image.h"><span class="id" title="variable">h</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> <a class="idref" href="RegLang.regexp.html#char"><span class="id" title="variable">char</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> <a class="idref" href="RegLang.regexp.html#char'"><span class="id" title="variable">char'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="Image.h_hom"><span class="id" title="variable">h_hom</span></a> : <a class="idref" href="RegLang.languages.html#homomorphism"><span class="id" title="definition">homomorphism</span></a> <a class="idref" href="RegLang.regexp.html#Image.h"><span class="id" title="variable">h</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="re_image"><span class="id" title="definition">re_image</span></a> (<span class="id" title="var">e</span> : <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> <a class="idref" href="RegLang.regexp.html#Image.char"><span class="id" title="variable">char</span></a>) : <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> <a class="idref" href="RegLang.regexp.html#Image.char'"><span class="id" title="variable">char'</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="RegLang.regexp.html#e"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#22cadecb2f8a358ac30d6a4c52614063"><span class="id" title="notation">Void</span></a> =&gt; <a class="idref" href="RegLang.regexp.html#22cadecb2f8a358ac30d6a4c52614063"><span class="id" title="notation">Void</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#0ac2b8cf75e6fd4e7e08a9decdab75a5"><span class="id" title="notation">Eps</span></a> =&gt; <a class="idref" href="RegLang.regexp.html#0ac2b8cf75e6fd4e7e08a9decdab75a5"><span class="id" title="notation">Eps</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#Atom"><span class="id" title="constructor">Atom</span></a> <span class="id" title="var">a</span> =&gt; <a class="idref" href="RegLang.regexp.html#String"><span class="id" title="definition">String</span></a> (<a class="idref" href="RegLang.regexp.html#Image.h"><span class="id" title="variable">h</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">[::</span></a> <span class="id" title="var">a</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">]</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#Star"><span class="id" title="constructor">Star</span></a> <span class="id" title="var">e</span> =&gt; <a class="idref" href="RegLang.regexp.html#Star"><span class="id" title="constructor">Star</span></a> (<a class="idref" href="RegLang.regexp.html#re_image"><span class="id" title="definition">re_image</span></a> <a class="idref" href="RegLang.regexp.html#e"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#Plus"><span class="id" title="constructor">Plus</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <a class="idref" href="RegLang.regexp.html#Plus"><span class="id" title="constructor">Plus</span></a> (<a class="idref" href="RegLang.regexp.html#re_image"><span class="id" title="definition">re_image</span></a> <span class="id" title="var">e1</span>) (<a class="idref" href="RegLang.regexp.html#re_image"><span class="id" title="definition">re_image</span></a> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#Conc"><span class="id" title="constructor">Conc</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <a class="idref" href="RegLang.regexp.html#Conc"><span class="id" title="constructor">Conc</span></a> (<a class="idref" href="RegLang.regexp.html#re_image"><span class="id" title="definition">re_image</span></a> <span class="id" title="var">e1</span>) (<a class="idref" href="RegLang.regexp.html#re_image"><span class="id" title="definition">re_image</span></a> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="re_imageP"><span class="id" title="lemma">re_imageP</span></a> <span class="id" title="var">e</span> <span class="id" title="var">v</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a> (<a class="idref" href="RegLang.languages.html#image"><span class="id" title="definition">image</span></a> <a class="idref" href="RegLang.regexp.html#Image.h"><span class="id" title="variable">h</span></a> (<a class="idref" href="RegLang.regexp.html#re_lang"><span class="id" title="definition">re_lang</span></a> <a class="idref" href="RegLang.regexp.html#e"><span class="id" title="variable">e</span></a>) <a class="idref" href="RegLang.regexp.html#v"><span class="id" title="variable">v</span></a>) (<a class="idref" href="RegLang.regexp.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#re_image"><span class="id" title="definition">re_image</span></a> <a class="idref" href="RegLang.regexp.html#e"><span class="id" title="variable">e</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">e</span> <span class="id" title="var">v</span> =&gt; [||<span class="id" title="var">a</span>|<span class="id" title="var">e</span> <span class="id" title="var">IHe</span>|<span class="id" title="var">e1</span> <span class="id" title="var">IHe1</span> <span class="id" title="var">e2</span> <span class="id" title="var">IHe2</span>|<span class="id" title="var">e1</span> <span class="id" title="var">IHe1</span> <span class="id" title="var">e2</span> <span class="id" title="var">IHe2</span>] <span class="id" title="var">v</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>; <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">u</span>]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>; <span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>) =&gt; [-&gt; |[<span class="id" title="var">w</span>] [] /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> -&gt; &lt;-]; <span class="id" title="var">last</span> <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.languages.html#h0"><span class="id" title="lemma">h0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626"><span class="id" title="notation">[::]</span></a>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="RegLang.languages.html#h0"><span class="id" title="lemma">h0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.regexp.html#StringE"><span class="id" title="lemma">StringE</span></a>. <span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>) =&gt; [-&gt;|[<span class="id" title="var">w</span> /=]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">[::</span></a><span class="id" title="var">a</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">]</span></a> =&gt; //. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="RegLang.languages.html#atom"><span class="id" title="definition">atom</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="RegLang.languages.html#atom"><span class="id" title="definition">atom</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> =&gt; [[]] /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> -&gt; &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>) =&gt; [/<a class="idref" href="RegLang.languages.html#starP"><span class="id" title="lemma">starP</span></a> [<span class="id" title="var">vv</span>] /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#allP"><span class="id" title="lemma">allP</span></a> <span class="id" title="var">Hvv</span> <span class="id" title="var">dev_v</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> {<span class="id" title="var">Hvv</span> <span class="id" title="var">IHe</span>} <span class="id" title="var">Hvv</span> <span class="id" title="var">v'</span> : <a class="idref" href="RegLang.regexp.html#v'"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <span class="id" title="var">vv</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.languages.html#image"><span class="id" title="definition">image</span></a> <a class="idref" href="RegLang.regexp.html#Image.h"><span class="id" title="variable">h</span></a> (<a class="idref" href="RegLang.regexp.html#re_lang"><span class="id" title="definition">re_lang</span></a> <span class="id" title="var">e</span>) <a class="idref" href="RegLang.regexp.html#v'"><span class="id" title="variable">v'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span> =&gt; /<span class="id" title="var">Hvv</span> /= /<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [<span class="id" title="var">_</span> /<span class="id" title="var">IHe</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">elim</span>: <span class="id" title="var">vv</span> <span class="id" title="var">Hvv</span> =&gt; [|<span class="id" title="var">v</span> <span class="id" title="var">vv</span> <span class="id" title="var">IHvv</span>] <span class="id" title="var">Hvv</span> /=; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626"><span class="id" title="notation">[::]</span></a>; <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="RegLang.languages.html#h0"><span class="id" title="lemma">h0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<span class="id" title="var">Hvv</span> <span class="id" title="var">v</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#mem_head"><span class="id" title="lemma">mem_head</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) =&gt; <span class="id" title="var">w</span> [<span class="id" title="var">Hw1</span> <span class="id" title="var">Hw2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>/<a class="idref" href="RegLang.misc.html#all1s"><span class="id" title="lemma">all1s</span></a>: <span class="id" title="var">Hvv</span> =&gt; <span class="id" title="var">Hv</span> /<span class="id" title="var">IHvv</span> [<span class="id" title="var">ww</span> [<span class="id" title="var">Hww1</span> <span class="id" title="var">Hww2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">w</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a><span class="id" title="var">ww</span>); <span class="id" title="tactic">split</span>; <span class="id" title="tactic">by</span> [<span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.languages.html#star_cat"><span class="id" title="lemma">star_cat</span></a> | <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.regexp.html#Image.h_hom"><span class="id" title="variable">h_hom</span></a> <span class="id" title="var">Hw2</span> <span class="id" title="var">Hww2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">case</span> =&gt; <span class="id" title="var">w</span> [] /<a class="idref" href="RegLang.languages.html#starP"><span class="id" title="lemma">starP</span></a> [<span class="id" title="var">ww</span>] /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#allP"><span class="id" title="lemma">allP</span></a> <span class="id" title="var">Hww1</span> -&gt; &lt;-. <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.languages.html#h_flatten"><span class="id" title="lemma">h_flatten</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.languages.html#starI"><span class="id" title="lemma">starI</span></a> =&gt; <span class="id" title="var">v'</span> /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#mapP"><span class="id" title="lemma">mapP</span></a> [<span class="id" title="var">w'</span> /<span class="id" title="var">Hww1</span> /= /<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [<span class="id" title="var">_</span> <span class="id" title="var">Hw'</span> -&gt;]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="var">IHe</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">w'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">case</span> =&gt; [/<span class="id" title="var">IHe1</span> | /<span class="id" title="var">IHe2</span>] [<span class="id" title="var">w</span>] [] <span class="id" title="var">H</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">w</span> =&gt; //. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="RegLang.languages.html#plus"><span class="id" title="definition">plus</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssreflect.html#aed478b27f23b4f753c27c8ac393febc"><span class="id" title="notation">:</span></a> <span class="id" title="var">w</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#re_lang"><span class="id" title="definition">re_lang</span></a> <span class="id" title="var">e1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">w</span> =&gt; //. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="RegLang.languages.html#plus"><span class="id" title="definition">plus</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssreflect.html#aed478b27f23b4f753c27c8ac393febc"><span class="id" title="notation">:</span></a> <span class="id" title="var">w</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#re_lang"><span class="id" title="definition">re_lang</span></a> <span class="id" title="var">e2</span>) ?<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#orbT"><span class="id" title="lemma">orbT</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">case</span> =&gt; <span class="id" title="var">w</span> []. <span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a> =&gt; <span class="id" title="var">H</span> &lt;-; [<span class="id" title="tactic">left</span>; <span class="id" title="tactic">apply</span>/<span class="id" title="var">IHe1</span> |<span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span>/<span class="id" title="var">IHe2</span>]; <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">case</span>/<a class="idref" href="RegLang.languages.html#concP"><span class="id" title="lemma">concP</span></a> =&gt; <span class="id" title="var">v1</span> [<span class="id" title="var">v2</span>] [<span class="id" title="var">e</span>] [/<span class="id" title="var">IHe1</span> [<span class="id" title="var">w</span> [<span class="id" title="var">Hw1</span> <span class="id" title="var">Hw2</span>]] /<span class="id" title="var">IHe2</span> [<span class="id" title="var">w'</span> [<span class="id" title="var">Hw1'</span> <span class="id" title="var">Hw2'</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">w</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a><span class="id" title="var">w'</span>); <span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.languages.html#conc_cat"><span class="id" title="lemma">conc_cat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.regexp.html#Image.h_hom"><span class="id" title="variable">h_hom</span></a> <span class="id" title="var">e</span> <span class="id" title="var">Hw2</span> <span class="id" title="var">Hw2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">case</span> =&gt; <span class="id" title="var">w</span> [] /<a class="idref" href="RegLang.languages.html#concP"><span class="id" title="lemma">concP</span></a> [<span class="id" title="var">w1</span>] [<span class="id" title="var">w2</span>] [-&gt; [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span> &lt;-]]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.regexp.html#Image.h_hom"><span class="id" title="variable">h_hom</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.languages.html#conc_cat"><span class="id" title="lemma">conc_cat</span></a>; [<span class="id" title="tactic">apply</span>/<span class="id" title="var">IHe1</span>|<span class="id" title="tactic">apply</span>/<span class="id" title="var">IHe2</span>]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">w1</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">w2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RegLang.regexp.html#Image"><span class="id" title="section">Image</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="im_regular"><span class="id" title="lemma">im_regular</span></a> (<span class="id" title="var">char</span> <span class="id" title="var">char'</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) (<span class="id" title="var">h</span> : <a class="idref" href="RegLang.languages.html#word"><span class="id" title="definition">word</span></a> <a class="idref" href="RegLang.regexp.html#char"><span class="id" title="variable">char</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.languages.html#word"><span class="id" title="definition">word</span></a> <a class="idref" href="RegLang.regexp.html#char'"><span class="id" title="variable">char'</span></a>) <span class="id" title="var">L</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="RegLang.languages.html#homomorphism"><span class="id" title="definition">homomorphism</span></a> <a class="idref" href="RegLang.regexp.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> <a class="idref" href="RegLang.regexp.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> (<a class="idref" href="RegLang.languages.html#image"><span class="id" title="definition">image</span></a> <a class="idref" href="RegLang.regexp.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="RegLang.regexp.html#L"><span class="id" title="variable">L</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">hom_h</span> /<a class="idref" href="RegLang.regexp.html#regularP"><span class="id" title="lemma">regularP</span></a> [<span class="id" title="var">e</span> <span class="id" title="var">He</span>]. <span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.regexp.html#regularP"><span class="id" title="lemma">regularP</span></a>. <span class="id" title="tactic">exists</span> (@<a class="idref" href="RegLang.regexp.html#re_image"><span class="id" title="definition">re_image</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span> <span class="id" title="var">e</span>) =&gt; <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="RegLang.languages.html#image"><span class="id" title="definition">image</span></a> <span class="id" title="var">h</span> (<a class="idref" href="RegLang.regexp.html#re_lang"><span class="id" title="definition">re_lang</span></a> <span class="id" title="var">e</span>) <span class="id" title="var">w</span>); <span class="id" title="tactic">first</span> <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.languages.html#image_ext"><span class="id" title="lemma">image_ext</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#rwP"><span class="id" title="lemma">rwP</span></a> (<a class="idref" href="RegLang.regexp.html#re_imageP"><span class="id" title="lemma">re_imageP</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab27"></a><h2 class="section">Regular Expression for word reversal</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="Rev"><span class="id" title="definition">Rev</span></a> (<span class="id" title="var">char</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) (<span class="id" title="var">e</span> : <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> <a class="idref" href="RegLang.regexp.html#char"><span class="id" title="variable">char</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="RegLang.regexp.html#e"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#Star"><span class="id" title="constructor">Star</span></a> <span class="id" title="var">e</span> =&gt; <a class="idref" href="RegLang.regexp.html#Star"><span class="id" title="constructor">Star</span></a> (<a class="idref" href="RegLang.regexp.html#Rev"><span class="id" title="definition">Rev</span></a> <a class="idref" href="RegLang.regexp.html#e"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#Plus"><span class="id" title="constructor">Plus</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <a class="idref" href="RegLang.regexp.html#Plus"><span class="id" title="constructor">Plus</span></a> (<a class="idref" href="RegLang.regexp.html#Rev"><span class="id" title="definition">Rev</span></a> <span class="id" title="var">e1</span>) (<a class="idref" href="RegLang.regexp.html#Rev"><span class="id" title="definition">Rev</span></a> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#Conc"><span class="id" title="constructor">Conc</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <a class="idref" href="RegLang.regexp.html#Conc"><span class="id" title="constructor">Conc</span></a> (<a class="idref" href="RegLang.regexp.html#Rev"><span class="id" title="definition">Rev</span></a> <span class="id" title="var">e2</span>) (<a class="idref" href="RegLang.regexp.html#Rev"><span class="id" title="definition">Rev</span></a> <span class="id" title="var">e1</span>)<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="RegLang.regexp.html#e"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="Rev_correct"><span class="id" title="lemma">Rev_correct</span></a> (<span class="id" title="var">char</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) (<span class="id" title="var">e</span> : <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> <a class="idref" href="RegLang.regexp.html#char"><span class="id" title="variable">char</span></a>) <span class="id" title="var">w</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="RegLang.regexp.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#Rev"><span class="id" title="definition">Rev</span></a> <a class="idref" href="RegLang.regexp.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="RegLang.regexp.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">e</span> <span class="id" title="var">w</span> =&gt; [||<span class="id" title="var">a</span>|<span class="id" title="var">e</span> <span class="id" title="var">IH</span>|<span class="id" title="var">e1</span> <span class="id" title="var">IH1</span> <span class="id" title="var">e2</span> <span class="id" title="var">IH2</span>|<span class="id" title="var">e1</span> <span class="id" title="var">IH1</span> <span class="id" title="var">e2</span> <span class="id" title="var">IH2</span>] <span class="id" title="var">w</span> //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>/<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>-&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#last_ind"><span class="id" title="lemma">last_ind</span></a>: <span class="id" title="var">w</span> =&gt; //= <span class="id" title="var">s</span> <span class="id" title="var">a</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#rev_rcons"><span class="id" title="lemma">rev_rcons</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>-&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">elim</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#last_ind"><span class="id" title="lemma">last_ind</span></a>: <span class="id" title="var">w</span> =&gt; //= <span class="id" title="var">w</span> ? <span class="id" title="var">_</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#rev_rcons"><span class="id" title="lemma">rev_rcons</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /=; <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>/<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>; <span class="id" title="tactic">case</span>/<a class="idref" href="RegLang.languages.html#starP"><span class="id" title="lemma">starP</span></a> =&gt; <span class="id" title="var">vv</span> /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#allP"><span class="id" title="lemma">allP</span></a> /= <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span>-&gt;. <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.misc.html#rev_flatten"><span class="id" title="lemma">rev_flatten</span></a>. <span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.languages.html#starI"><span class="id" title="lemma">starI</span></a> =&gt; <span class="id" title="var">v'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#mem_rev"><span class="id" title="lemma">mem_rev</span></a> =&gt; /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#mapP"><span class="id" title="lemma">mapP</span></a> [<span class="id" title="var">v</span> <span class="id" title="var">V1</span> -&gt;]. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">IH</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">V1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> -{2}[<span class="id" title="var">w</span>]<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#revK"><span class="id" title="lemma">revK</span></a> =&gt; -&gt;. <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.misc.html#rev_flatten"><span class="id" title="lemma">rev_flatten</span></a>. <span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.languages.html#starI"><span class="id" title="lemma">starI</span></a> =&gt; <span class="id" title="var">v'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#mem_rev"><span class="id" title="lemma">mem_rev</span></a> =&gt; /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#mapP"><span class="id" title="lemma">mapP</span></a> [<span class="id" title="var">v</span> <span class="id" title="var">V1</span> -&gt;]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IH</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#revK"><span class="id" title="lemma">revK</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">V1</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /= !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> -!/(<a class="idref" href="RegLang.regexp.html#re_lang"><span class="id" title="definition">re_lang</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">IH1</span> <span class="id" title="var">IH2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /=. <span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.languages.html#concP"><span class="id" title="lemma">concP</span></a>/<a class="idref" href="RegLang.languages.html#concP"><span class="id" title="lemma">concP</span></a> =&gt; [] [<span class="id" title="var">w1</span>] [<span class="id" title="var">w2</span>]; <span class="id" title="tactic">rewrite</span> -!/(<a class="idref" href="RegLang.regexp.html#re_lang"><span class="id" title="definition">re_lang</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span> =&gt; [-&gt; [<span class="id" title="var">A</span> <span class="id" title="var">B</span>]]. <span class="id" title="tactic">exists</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#rev"><span class="id" title="definition">rev</span></a> <span class="id" title="var">w2</span>); <span class="id" title="tactic">exists</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#rev"><span class="id" title="definition">rev</span></a> <span class="id" title="var">w1</span>). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#rev_cat"><span class="id" title="lemma">rev_cat</span></a> -<span class="id" title="var">IH1</span> -<span class="id" title="var">IH2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> -{2}[<span class="id" title="var">w</span>]<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#revK"><span class="id" title="lemma">revK</span></a>. <span class="id" title="tactic">move</span> =&gt; [-&gt; [<span class="id" title="var">A</span> <span class="id" title="var">B</span>]]. <span class="id" title="tactic">exists</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#rev"><span class="id" title="definition">rev</span></a> <span class="id" title="var">w2</span>); <span class="id" title="tactic">exists</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#rev"><span class="id" title="definition">rev</span></a> <span class="id" title="var">w1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#rev_cat"><span class="id" title="lemma">rev_cat</span></a> <span class="id" title="var">IH1</span> <span class="id" title="var">IH2</span> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#revK"><span class="id" title="lemma">revK</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="regular_rev"><span class="id" title="lemma">regular_rev</span></a> (<span class="id" title="var">char</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) (<span class="id" title="var">L</span> : <a class="idref" href="RegLang.languages.html#lang"><span class="id" title="definition">lang</span></a> <a class="idref" href="RegLang.regexp.html#char"><span class="id" title="variable">char</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> <a class="idref" href="RegLang.regexp.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <a class="idref" href="RegLang.regexp.html#L"><span class="id" title="variable">L</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="RegLang.regexp.html#x"><span class="id" title="variable">x</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">case</span>/<a class="idref" href="RegLang.regexp.html#regularP"><span class="id" title="lemma">regularP</span></a> =&gt; <span class="id" title="var">e</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.regexp.html#regularP"><span class="id" title="lemma">regularP</span></a>. <span class="id" title="tactic">exists</span> (<a class="idref" href="RegLang.regexp.html#Rev"><span class="id" title="definition">Rev</span></a> <span class="id" title="var">e</span>) =&gt; <span class="id" title="var">x</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.regexp.html#Rev_correct"><span class="id" title="lemma">Rev_correct</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/coq-community/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
