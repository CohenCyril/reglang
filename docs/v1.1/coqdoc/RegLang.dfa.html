<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../../..">Project Website</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="comment">(*&nbsp;Authors:&nbsp;Christian&nbsp;Doczkal&nbsp;and&nbsp;Jan-Oliver&nbsp;Kaiser&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;Distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;CeCILL-B.&nbsp;*)</span><br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">mathcomp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.all_ssreflect.html#"><span class="id" title="library">all_ssreflect</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="RegLang.misc.html#"><span class="id" title="library">misc</span></a> <a class="idref" href="RegLang.languages.html#"><span class="id" title="library">languages</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Printing</span> <span class="id" title="keyword">Implicit</span> <span class="id" title="var">Defensive</span>.<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Strict</span> <span class="id" title="keyword">Implicit</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="FA"><span class="id" title="section">FA</span></a>.<br/>
<span class="id" title="keyword">Variable</span> <a name="FA.char"><span class="id" title="variable">char</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <a name="word"><span class="id" title="abbreviation">word</span></a> := (<a class="idref" href="RegLang.languages.html#word"><span class="id" title="definition">word</span></a> <a class="idref" href="RegLang.dfa.html#FA.char"><span class="id" title="variable">char</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab7"></a><h1 class="section">Deterministic Finite Automata</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Record</span> <a name="dfa"><span class="id" title="record">dfa</span></a> : <span class="id" title="keyword">Type</span> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="dfa_state"><span class="id" title="projection">dfa_state</span></a> :&gt; <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="dfa_s"><span class="id" title="projection">dfa_s</span></a> : <a class="idref" href="RegLang.dfa.html#dfa_state"><span class="id" title="method">dfa_state</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="dfa_fin"><span class="id" title="projection">dfa_fin</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">{</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">set</span></a> <a class="idref" href="RegLang.dfa.html#dfa_state"><span class="id" title="method">dfa_state</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">}</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="dfa_trans"><span class="id" title="projection">dfa_trans</span></a> : <a class="idref" href="RegLang.dfa.html#dfa_state"><span class="id" title="method">dfa_state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.dfa.html#FA.char"><span class="id" title="variable">char</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.dfa.html#dfa_state"><span class="id" title="method">dfa_state</span></a> }.<br/>

<br/>
<span class="comment">(*&nbsp;Arguments&nbsp;dfa_fin&nbsp;d&nbsp;_&nbsp;:&nbsp;clear&nbsp;implicits.&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
We define acceptance for every state of a DFA. The language of a
DFA is then just the language of the starting state. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a name="FA.DFA_Acceptance"><span class="id" title="section">DFA_Acceptance</span></a>.<br/>
<span class="id" title="keyword">Variable</span> <a name="FA.DFA_Acceptance.A"><span class="id" title="variable">A</span></a> : <a class="idref" href="RegLang.dfa.html#dfa"><span class="id" title="record">dfa</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">p</span> <span class="id" title="var">q</span> : <a class="idref" href="RegLang.dfa.html#FA.DFA_Acceptance.A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="RegLang.dfa.html#word"><span class="id" title="abbreviation">word</span></a>).<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="delta"><span class="id" title="definition">delta</span></a> (<span class="id" title="var">p</span> : <a class="idref" href="RegLang.dfa.html#FA.DFA_Acceptance.A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">x</span> := <br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">a</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#407cde5b61fbf27196d1a7c5a475e083"><span class="id" title="notation">::</span></a> <span class="id" title="var">x'</span> <span class="id" title="keyword">then</span> <a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_trans"><span class="id" title="projection">dfa_trans</span></a> <a class="idref" href="RegLang.dfa.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="var">a</span>) <span class="id" title="var">x'</span> <span class="id" title="keyword">else</span> <a class="idref" href="RegLang.dfa.html#p"><span class="id" title="variable">p</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="delta_cons"><span class="id" title="lemma">delta_cons</span></a> <span class="id" title="var">p</span> <span class="id" title="var">a</span> <span class="id" title="var">x</span> : <a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_trans"><span class="id" title="projection">dfa_trans</span></a> <a class="idref" href="RegLang.dfa.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.dfa.html#a"><span class="id" title="variable">a</span></a>) <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> <a class="idref" href="RegLang.dfa.html#p"><span class="id" title="variable">p</span></a> (<a class="idref" href="RegLang.dfa.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#407cde5b61fbf27196d1a7c5a475e083"><span class="id" title="notation">::</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> []. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="delta_cat"><span class="id" title="lemma">delta_cat</span></a> <span class="id" title="var">p</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> <a class="idref" href="RegLang.dfa.html#p"><span class="id" title="variable">p</span></a> (<a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <a class="idref" href="RegLang.dfa.html#y"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> (<a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> <a class="idref" href="RegLang.dfa.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="RegLang.dfa.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">elim</span>: <span class="id" title="var">x</span> <span class="id" title="var">p</span> =&gt; // <span class="id" title="var">a</span> <span class="id" title="var">x</span> /= <span class="id" title="var">IH</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IH</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="dfa_accept"><span class="id" title="definition">dfa_accept</span></a> (<span class="id" title="var">p</span> : <a class="idref" href="RegLang.dfa.html#FA.DFA_Acceptance.A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">x</span> := <a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> <a class="idref" href="RegLang.dfa.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_fin"><span class="id" title="projection">dfa_fin</span></a> <a class="idref" href="RegLang.dfa.html#FA.DFA_Acceptance.A"><span class="id" title="variable">A</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="delta_s"><span class="id" title="definition">delta_s</span></a> <span class="id" title="var">w</span> := <a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_s"><span class="id" title="projection">dfa_s</span></a> <a class="idref" href="RegLang.dfa.html#FA.DFA_Acceptance.A"><span class="id" title="variable">A</span></a>) <a class="idref" href="RegLang.dfa.html#w"><span class="id" title="variable">w</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="dfa_lang"><span class="id" title="definition">dfa_lang</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#27dabc72ea2c2c768f2db80a79f42524"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#27dabc72ea2c2c768f2db80a79f42524"><span class="id" title="notation">pred</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#27dabc72ea2c2c768f2db80a79f42524"><span class="id" title="notation">|</span></a> <a class="idref" href="RegLang.dfa.html#dfa_accept"><span class="id" title="definition">dfa_accept</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_s"><span class="id" title="projection">dfa_s</span></a> <a class="idref" href="RegLang.dfa.html#FA.DFA_Acceptance.A"><span class="id" title="variable">A</span></a>) <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#27dabc72ea2c2c768f2db80a79f42524"><span class="id" title="notation">]</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="accept_nil"><span class="id" title="lemma">accept_nil</span></a> <span class="id" title="var">p</span> : <a class="idref" href="RegLang.dfa.html#dfa_accept"><span class="id" title="definition">dfa_accept</span></a> <a class="idref" href="RegLang.dfa.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626"><span class="id" title="notation">[::]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.dfa.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_fin"><span class="id" title="projection">dfa_fin</span></a> <a class="idref" href="RegLang.dfa.html#FA.DFA_Acceptance.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> []. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="accept_cons"><span class="id" title="lemma">accept_cons</span></a> (<span class="id" title="var">x</span> : <a class="idref" href="RegLang.dfa.html#FA.DFA_Acceptance.A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">a</span> <span class="id" title="var">w</span> : <br/>
&nbsp;&nbsp;<a class="idref" href="RegLang.dfa.html#dfa_accept"><span class="id" title="definition">dfa_accept</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="RegLang.dfa.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#407cde5b61fbf27196d1a7c5a475e083"><span class="id" title="notation">::</span></a> <a class="idref" href="RegLang.dfa.html#w"><span class="id" title="variable">w</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.dfa.html#dfa_accept"><span class="id" title="definition">dfa_accept</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_trans"><span class="id" title="projection">dfa_trans</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.dfa.html#a"><span class="id" title="variable">a</span></a>) <a class="idref" href="RegLang.dfa.html#w"><span class="id" title="variable">w</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> []. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="delta_lang"><span class="id" title="lemma">delta_lang</span></a> <span class="id" title="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.dfa.html#delta_s"><span class="id" title="definition">delta_s</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_fin"><span class="id" title="projection">dfa_fin</span></a> <a class="idref" href="RegLang.dfa.html#FA.DFA_Acceptance.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> []. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="accE"><span class="id" title="definition">accE</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.dfa.html#accept_nil"><span class="id" title="lemma">accept_nil</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="RegLang.dfa.html#accept_cons"><span class="id" title="lemma">accept_cons</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RegLang.dfa.html#FA.DFA_Acceptance"><span class="id" title="section">DFA_Acceptance</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab8"></a><h2 class="section">Regularity</h2>


<div class="paragraph"> </div>

We formalize the notion of regularity as the type of DFAs accpepting
the language under consideration. This allows closure properties to be
used for the construction of translation functions. Where required,
the propositional variant of regularity is obtained as <span class="inlinecode"><span class="id" title="var">inhabited</span></span> <span class="inlinecode">(<span class="id" title="var">regular</span></span> <span class="inlinecode"><span class="id" title="var">L</span>)</span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="regular"><span class="id" title="definition">regular</span></a> (<span class="id" title="var">L</span> : <a class="idref" href="RegLang.languages.html#lang"><span class="id" title="definition">lang</span></a> <a class="idref" href="RegLang.dfa.html#FA.char"><span class="id" title="variable">char</span></a>) := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a> <span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="RegLang.dfa.html#dfa"><span class="id" title="record">dfa</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <a class="idref" href="RegLang.dfa.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#4bfb4f2d0721ba668e3a802ab1b745a1"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.dfa.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="regular_ext"><span class="id" title="lemma">regular_ext</span></a> <span class="id" title="var">L1</span> <span class="id" title="var">L2</span> : <a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> <a class="idref" href="RegLang.dfa.html#L2"><span class="id" title="variable">L2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.dfa.html#L1"><span class="id" title="variable">L1</span></a> <a class="idref" href="RegLang.misc.html#703d07e7c46c749a39e9403454a8d48f"><span class="id" title="notation">=</span></a><a class="idref" href="RegLang.misc.html#703d07e7c46c749a39e9403454a8d48f"><span class="id" title="notation">p</span></a> <a class="idref" href="RegLang.dfa.html#L2"><span class="id" title="variable">L2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> <a class="idref" href="RegLang.dfa.html#L1"><span class="id" title="variable">L1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">case</span> =&gt; <span class="id" title="var">A</span> <span class="id" title="var">HA</span> <span class="id" title="var">B</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">A</span> =&gt; <span class="id" title="var">w</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">B</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab9"></a><h2 class="section">Operations on DFAs</h2>


<div class="paragraph"> </div>

To prepare the translation from regular expresstions to DFAs, we show
that finite automata are closed under all regular operations. We build
the primitive automata, complement and boolean combinations using
DFAs. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="dfa_void"><span class="id" title="definition">dfa_void</span></a> := <br/>
&nbsp;&nbsp;{| <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_s</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">:=</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">tt</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">;</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_fin</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">:=</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">set0</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">;</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_trans</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">x</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">a</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">:=</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">tt</span></a> |}.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="dfa_void_correct"><span class="id" title="lemma">dfa_void_correct</span></a> (<span class="id" title="var">x</span>: <a class="idref" href="RegLang.dfa.html#dfa_void"><span class="id" title="definition">dfa_void</span></a>) <span class="id" title="var">w</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="RegLang.dfa.html#dfa_accept"><span class="id" title="definition">dfa_accept</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.dfa.html#w"><span class="id" title="variable">w</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="RegLang.dfa.html#dfa_accept"><span class="id" title="definition">dfa_accept</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="FA.DFAOps"><span class="id" title="section">DFAOps</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="FA.DFAOps.op"><span class="id" title="variable">op</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>.<br/>
<span class="id" title="keyword">Variable</span> <a name="FA.DFAOps.A1"><span class="id" title="variable">A1</span></a> <a name="FA.DFAOps.A2"><span class="id" title="variable">A2</span></a> : <a class="idref" href="RegLang.dfa.html#dfa"><span class="id" title="record">dfa</span></a>.<br/>

<br/>
</div>

<div class="doc">
Complement automaton 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="dfa_compl"><span class="id" title="definition">dfa_compl</span></a> :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_s</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">:=</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_s</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">A1</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_fin</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">:=</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">~:</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">(</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_fin</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">A1</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">);</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_trans</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">:=</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">(@</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_trans</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">A1</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">)</span></a> |}.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="dfa_compl_correct"><span class="id" title="lemma">dfa_compl_correct</span></a> <span class="id" title="var">w</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="RegLang.dfa.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.dfa.html#dfa_compl"><span class="id" title="definition">dfa_compl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.dfa.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#c1ad6bcc76a6221225111f87bc3b0c3d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#c1ad6bcc76a6221225111f87bc3b0c3d"><span class="id" title="notation">notin</span></a> <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.dfa.html#FA.DFAOps.A1"><span class="id" title="variable">A1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> {2}/<a class="idref" href="RegLang.dfa.html#dfa_compl"><span class="id" title="definition">dfa_compl</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="RegLang.dfa.html#dfa_accept"><span class="id" title="definition">dfa_accept</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
BinOp Automaton 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="dfa_op"><span class="id" title="definition">dfa_op</span></a>  :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_s</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">:=</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">(</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_s</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">A1</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">,</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_s</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">A2</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">);</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_fin</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">:=</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">[</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">set</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">q</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">|</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">op</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">(</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">q</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">.1</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">\</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">in</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_fin</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">A1</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">)</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">(</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">q</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">.2</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">\</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">in</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_fin</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">A2</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">)];</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_trans</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">x</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">a</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">:=</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">(</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_trans</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">x</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">.1</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">a</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">,</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_trans</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">x</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">.2</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">a</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">)</span></a> |}.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="dfa_op_correct"><span class="id" title="lemma">dfa_op_correct</span></a> <span class="id" title="var">w</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="RegLang.dfa.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.dfa.html#dfa_op"><span class="id" title="definition">dfa_op</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.dfa.html#FA.DFAOps.op"><span class="id" title="variable">op</span></a> (<a class="idref" href="RegLang.dfa.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.dfa.html#FA.DFAOps.A1"><span class="id" title="variable">A1</span></a>) (<a class="idref" href="RegLang.dfa.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.dfa.html#FA.DFAOps.A2"><span class="id" title="variable">A2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> {2}/<a class="idref" href="RegLang.dfa.html#dfa_op"><span class="id" title="definition">dfa_op</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">w</span> (<a class="idref" href="RegLang.dfa.html#dfa_s"><span class="id" title="projection">dfa_s</span></a> <a class="idref" href="RegLang.dfa.html#FA.DFAOps.A1"><span class="id" title="variable">A1</span></a>) (<a class="idref" href="RegLang.dfa.html#dfa_s"><span class="id" title="projection">dfa_s</span></a> <a class="idref" href="RegLang.dfa.html#FA.DFAOps.A2"><span class="id" title="variable">A2</span></a>) =&gt; [| <span class="id" title="var">a</span> <span class="id" title="var">w</span> <span class="id" title="var">IHw</span>] <span class="id" title="var">x</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="RegLang.dfa.html#accE"><span class="id" title="definition">accE</span></a> ?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> /=.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="dfa0"><span class="id" title="definition">dfa0</span></a> := {| <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_s</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">:=</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">tt</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">;</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_trans</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">q</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">a</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">:=</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">tt</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">;</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_fin</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">:=</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">set0</span></a> |}.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="dfa0_correct"><span class="id" title="lemma">dfa0_correct</span></a> <span class="id" title="var">x</span> : <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.dfa.html#dfa0"><span class="id" title="definition">dfa0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="RegLang.dfa.html#delta_lang"><span class="id" title="lemma">delta_lang</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RegLang.dfa.html#FA.DFAOps"><span class="id" title="section">DFAOps</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="regular_inter"><span class="id" title="lemma">regular_inter</span></a> (<span class="id" title="var">L1</span> <span class="id" title="var">L2</span> : <a class="idref" href="RegLang.languages.html#lang"><span class="id" title="definition">lang</span></a> <a class="idref" href="RegLang.dfa.html#FA.char"><span class="id" title="variable">char</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> <a class="idref" href="RegLang.dfa.html#L1"><span class="id" title="variable">L1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> <a class="idref" href="RegLang.dfa.html#L2"><span class="id" title="variable">L2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <a class="idref" href="RegLang.dfa.html#L1"><span class="id" title="variable">L1</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="RegLang.dfa.html#L2"><span class="id" title="variable">L2</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">A</span> <span class="id" title="var">LA</span>] [<span class="id" title="var">B</span> <span class="id" title="var">LB</span>]. <span class="id" title="tactic">exists</span> (<a class="idref" href="RegLang.dfa.html#dfa_op"><span class="id" title="definition">dfa_op</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#andb"><span class="id" title="definition">andb</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) =&gt; <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.dfa.html#dfa_op_correct"><span class="id" title="lemma">dfa_op_correct</span></a> <span class="id" title="var">LA</span> <span class="id" title="var">LB</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#rwP"><span class="id" title="lemma">rwP</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="regular0"><span class="id" title="lemma">regular0</span></a> : <a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> : <a class="idref" href="RegLang.dfa.html#word"><span class="id" title="abbreviation">word</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">exists</span> (<a class="idref" href="RegLang.dfa.html#dfa0"><span class="id" title="definition">dfa0</span></a>) =&gt; <span class="id" title="var">x</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.dfa.html#dfa0_correct"><span class="id" title="lemma">dfa0_correct</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="regularU"><span class="id" title="lemma">regularU</span></a> (<span class="id" title="var">L1</span> <span class="id" title="var">L2</span> : <a class="idref" href="RegLang.languages.html#lang"><span class="id" title="definition">lang</span></a> <a class="idref" href="RegLang.dfa.html#FA.char"><span class="id" title="variable">char</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> <a class="idref" href="RegLang.dfa.html#L1"><span class="id" title="variable">L1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> <a class="idref" href="RegLang.dfa.html#L2"><span class="id" title="variable">L2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <a class="idref" href="RegLang.dfa.html#L1"><span class="id" title="variable">L1</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="RegLang.dfa.html#L2"><span class="id" title="variable">L2</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">A1</span> <span class="id" title="var">acc_L1</span>] [<span class="id" title="var">A2</span> <span class="id" title="var">acc_L2</span>]. <span class="id" title="tactic">exists</span> (<a class="idref" href="RegLang.dfa.html#dfa_op"><span class="id" title="definition">dfa_op</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#orb"><span class="id" title="definition">orb</span></a> <span class="id" title="var">A1</span> <span class="id" title="var">A2</span>) =&gt; <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.dfa.html#dfa_op_correct"><span class="id" title="lemma">dfa_op_correct</span></a> -(<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#rwP"><span class="id" title="lemma">rwP</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>) -<span class="id" title="var">acc_L1</span> -<span class="id" title="var">acc_L2</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="regular_bigU"><span class="id" title="lemma">regular_bigU</span></a> (<span class="id" title="var">T</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.Exports.eqType"><span class="id" title="abbreviation">eqType</span></a>) (<span class="id" title="var">L</span> : <a class="idref" href="RegLang.dfa.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.languages.html#lang"><span class="id" title="definition">lang</span></a> <a class="idref" href="RegLang.dfa.html#FA.char"><span class="id" title="variable">char</span></a>) (<span class="id" title="var">s</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> <a class="idref" href="RegLang.dfa.html#T"><span class="id" title="variable">T</span></a>) : <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">a</span>, <a class="idref" href="RegLang.dfa.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> (<a class="idref" href="RegLang.dfa.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="RegLang.dfa.html#a"><span class="id" title="variable">a</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">exists2</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.dfa.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="RegLang.dfa.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="RegLang.dfa.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">s</span> =&gt; //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">_</span>. <span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.dfa.html#regular_ext"><span class="id" title="lemma">regular_ext</span></a> <a class="idref" href="RegLang.dfa.html#regular0"><span class="id" title="lemma">regular0</span></a> <span class="id" title="var">_</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span> =&gt; // [[<span class="id" title="var">a</span>]].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">a</span> <span class="id" title="var">s</span> <span class="id" title="var">IH</span> /<a class="idref" href="RegLang.misc.html#all1sT"><span class="id" title="lemma">all1sT</span></a> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">L'</span> := (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">L</span> <span class="id" title="var">a</span> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> : <a class="idref" href="RegLang.dfa.html#word"><span class="id" title="abbreviation">word</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#59ba2b47d2814e66f8210a649ae6e6bc"><span class="id" title="notation">exists2</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#59ba2b47d2814e66f8210a649ae6e6bc"><span class="id" title="notation">:</span></a> <span class="id" title="var">T</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#59ba2b47d2814e66f8210a649ae6e6bc"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.dfa.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#59ba2b47d2814e66f8210a649ae6e6bc"><span class="id" title="notation">&amp;</span></a> <span class="id" title="var">L</span> <a class="idref" href="RegLang.dfa.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<a class="idref" href="RegLang.dfa.html#regular_ext"><span class="id" title="lemma">regular_ext</span></a> (<span class="id" title="var">L2</span> := <span class="id" title="var">L'</span>)); <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.dfa.html#regularU"><span class="id" title="lemma">regularU</span></a> =&gt; //; <span class="id" title="tactic">exact</span>: <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span>. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">L'</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.misc.html#ex1s"><span class="id" title="lemma">ex1s</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab10"></a><h2 class="section">Cut-Off Criterion</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a name="FA.CutOff"><span class="id" title="section">CutOff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variables</span> (<a name="FA.CutOff.aT"><span class="id" title="variable">aT</span></a> <a name="FA.CutOff.rT"><span class="id" title="variable">rT</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) (<a name="FA.CutOff.f"><span class="id" title="variable">f</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> <a class="idref" href="RegLang.dfa.html#aT"><span class="id" title="variable">aT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.dfa.html#rT"><span class="id" title="variable">rT</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="FA.CutOff.RC_f"><span class="id" title="variable">RC_f</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">a</span>, <a class="idref" href="RegLang.dfa.html#FA.CutOff.f"><span class="id" title="variable">f</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.dfa.html#FA.CutOff.f"><span class="id" title="variable">f</span></a> <a class="idref" href="RegLang.dfa.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.dfa.html#FA.CutOff.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">[::</span></a><a class="idref" href="RegLang.dfa.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">]</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.dfa.html#FA.CutOff.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="RegLang.dfa.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">[::</span></a><a class="idref" href="RegLang.dfa.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">]</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="RC_seq"><span class="id" title="lemma">RC_seq</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <a class="idref" href="RegLang.dfa.html#FA.CutOff.f"><span class="id" title="variable">f</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.dfa.html#FA.CutOff.f"><span class="id" title="variable">f</span></a> <a class="idref" href="RegLang.dfa.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.dfa.html#FA.CutOff.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a><a class="idref" href="RegLang.dfa.html#z"><span class="id" title="variable">z</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.dfa.html#FA.CutOff.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="RegLang.dfa.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a><a class="idref" href="RegLang.dfa.html#z"><span class="id" title="variable">z</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">z</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> =&gt; [|<span class="id" title="var">a</span> <span class="id" title="var">z</span> <span class="id" title="var">IHz</span>] <span class="id" title="var">x</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#cats0"><span class="id" title="lemma">cats0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#cat1s"><span class="id" title="lemma">cat1s</span></a> <span class="id" title="var">a</span>) (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#catA"><span class="id" title="lemma">catA</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">[::</span></a><span class="id" title="var">a</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">]</span></a>) (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#catA"><span class="id" title="lemma">catA</span></a> <span class="id" title="var">y</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">[::</span></a><span class="id" title="var">a</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">]</span></a>). <span class="id" title="tactic">move</span>/(<a class="idref" href="RegLang.dfa.html#FA.CutOff.RC_f"><span class="id" title="variable">RC_f</span></a> <span class="id" title="var">a</span>). <span class="id" title="tactic">exact</span>: <span class="id" title="var">IHz</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="RC_rep"><span class="id" title="lemma">RC_rep</span></a> <span class="id" title="var">x</span> (<span class="id" title="var">i</span> <span class="id" title="var">j</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">'</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">I_</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">)</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.dfa.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#00fe0eaf5e6949f0a31725357afa4bba"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="RegLang.dfa.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.dfa.html#FA.CutOff.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#take"><span class="id" title="definition">take</span></a> <a class="idref" href="RegLang.dfa.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.dfa.html#FA.CutOff.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#take"><span class="id" title="definition">take</span></a> <a class="idref" href="RegLang.dfa.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.dfa.html#FA.CutOff.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#take"><span class="id" title="definition">take</span></a> <a class="idref" href="RegLang.dfa.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#drop"><span class="id" title="definition">drop</span></a> <a class="idref" href="RegLang.dfa.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.dfa.html#FA.CutOff.f"><span class="id" title="variable">f</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">Hij</span> <span class="id" title="var">Hfij</span>. <span class="id" title="tactic">rewrite</span> -{5}(<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#cat_take_drop"><span class="id" title="lemma">cat_take_drop</span></a> <span class="id" title="var">j</span> <span class="id" title="var">x</span>). <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.dfa.html#RC_seq"><span class="id" title="lemma">RC_seq</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="exseqb"><span class="id" title="definition">exseqb</span></a> (<span class="id" title="var">p</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="RegLang.dfa.html#FA.CutOff.rT"><span class="id" title="variable">rT</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#9b7547477b3531f14d89d6b13ad78482"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#9b7547477b3531f14d89d6b13ad78482"><span class="id" title="notation">exists</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#9b7547477b3531f14d89d6b13ad78482"><span class="id" title="notation">:</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">'</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">I_</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="RegLang.dfa.html#FA.CutOff.rT"><span class="id" title="variable">rT</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#5675e9c5cf174e09b1b7005056e9bd89"><span class="id" title="notation">,</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#5675e9c5cf174e09b1b7005056e9bd89"><span class="id" title="notation">exists</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#5675e9c5cf174e09b1b7005056e9bd89"><span class="id" title="notation">:</span></a> <a class="idref" href="RegLang.dfa.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.tuple.html#c3913abe839346eb60d82da74b0b1f67"><span class="id" title="notation">.-</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.tuple.html#c3913abe839346eb60d82da74b0b1f67"><span class="id" title="notation">tuple</span></a> <a class="idref" href="RegLang.dfa.html#FA.CutOff.aT"><span class="id" title="variable">aT</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#f3be25edeb0349b0a76405eded9d0b98"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.dfa.html#p"><span class="id" title="variable">p</span></a> (<a class="idref" href="RegLang.dfa.html#FA.CutOff.f"><span class="id" title="variable">f</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a>)<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#9b7547477b3531f14d89d6b13ad78482"><span class="id" title="notation">]</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="exseqP"><span class="id" title="lemma">exseqP</span></a> (<span class="id" title="var">p</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="RegLang.dfa.html#FA.CutOff.rT"><span class="id" title="variable">rT</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.dfa.html#p"><span class="id" title="variable">p</span></a> (<a class="idref" href="RegLang.dfa.html#FA.CutOff.f"><span class="id" title="variable">f</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a>)) (<a class="idref" href="RegLang.dfa.html#exseqb"><span class="id" title="definition">exseqb</span></a> <a class="idref" href="RegLang.dfa.html#p"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>); <span class="id" title="var">last</span> <span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">case</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#existsP"><span class="id" title="lemma">existsP</span></a> =&gt; <span class="id" title="var">n</span>. <span class="id" title="tactic">case</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#existsP"><span class="id" title="lemma">existsP</span></a> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>: (<a class="idref" href="RegLang.misc.html#size_induction"><span class="id" title="lemma">size_induction</span></a> (<span class="id" title="keyword">measure</span> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a>)) =&gt; <span class="id" title="var">x</span> <span class="id" title="var">IHx</span> <span class="id" title="var">px</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">H</span>: (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#00fe0eaf5e6949f0a31725357afa4bba"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="RegLang.dfa.html#FA.CutOff.rT"><span class="id" title="variable">rT</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#existsP"><span class="id" title="lemma">existsP</span></a>. <span class="id" title="tactic">exists</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Ordinal"><span class="id" title="constructor">Ordinal</span></a> <span class="id" title="var">H</span>). <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#existsP"><span class="id" title="lemma">existsP</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.tuple.html#in_tuple"><span class="id" title="definition">in_tuple</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">have</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrfun.html#injective"><span class="id" title="definition">injective</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">i</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">'</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">I_</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <span class="id" title="var">x</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="RegLang.dfa.html#FA.CutOff.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#take"><span class="id" title="definition">take</span></a> <a class="idref" href="RegLang.dfa.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">move</span>/<a class="idref" href="RegLang.misc.html#card_leq_inj"><span class="id" title="lemma">card_leq_inj</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltnS"><span class="id" title="lemma">ltnS</span></a> /= <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#card_ord"><span class="id" title="lemma">card_ord</span></a> <span class="id" title="var">H</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#injectiveP"><span class="id" title="lemma">injectiveP</span></a>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#injectivePn"><span class="id" title="lemma">injectivePn</span></a> =&gt; [<span class="id" title="var">i</span> [<span class="id" title="var">j</span>]] <span class="id" title="var">Hij</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wlog</span> <span class="id" title="var">ltn_ij</span> : <span class="id" title="var">i</span> <span class="id" title="var">j</span> {<span class="id" title="var">Hij</span>} / <span class="id" title="var">i</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#00fe0eaf5e6949f0a31725357afa4bba"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">j</span> =&gt; [<span class="id" title="var">W</span>|] <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">move</span>: <span class="id" title="var">Hij</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#neq_ltn"><span class="id" title="lemma">neq_ltn</span></a>. <span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a> =&gt; <span class="id" title="var">l</span>; <span class="id" title="tactic">exact</span>: <span class="id" title="var">W</span> <span class="id" title="var">l</span> <span class="id" title="var">_</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<span class="id" title="var">IHx</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#take"><span class="id" title="definition">take</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#drop"><span class="id" title="definition">drop</span></a> <span class="id" title="var">j</span> <span class="id" title="var">x</span>)); <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.dfa.html#RC_rep"><span class="id" title="lemma">RC_rep</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size_cat"><span class="id" title="lemma">size_cat</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size_take"><span class="id" title="lemma">size_take</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size_drop"><span class="id" title="lemma">size_drop</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ltn_ord"><span class="id" title="lemma">ltn_ord</span></a> -<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltn_subRL"><span class="id" title="lemma">ltn_subRL</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltn_sub2l"><span class="id" title="lemma">ltn_sub2l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="exseq_dec"><span class="id" title="lemma">exseq_dec</span></a> (<span class="id" title="var">p</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="RegLang.dfa.html#FA.CutOff.rT"><span class="id" title="variable">rT</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#decidable"><span class="id" title="definition">decidable</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.dfa.html#p"><span class="id" title="variable">p</span></a> (<a class="idref" href="RegLang.dfa.html#FA.CutOff.f"><span class="id" title="variable">f</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#decP"><span class="id" title="definition">decP</span></a>. <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.dfa.html#exseqP"><span class="id" title="lemma">exseqP</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="allseq_dec"><span class="id" title="lemma">allseq_dec</span></a> (<span class="id" title="var">p</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="RegLang.dfa.html#FA.CutOff.rT"><span class="id" title="variable">rT</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#decidable"><span class="id" title="definition">decidable</span></a> (<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <a class="idref" href="RegLang.dfa.html#p"><span class="id" title="variable">p</span></a> (<a class="idref" href="RegLang.dfa.html#FA.CutOff.f"><span class="id" title="variable">f</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="RegLang.dfa.html#exseq_dec"><span class="id" title="lemma">exseq_dec</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#predC"><span class="id" title="definition">predC</span></a> <span class="id" title="var">p</span>)) =&gt; <span class="id" title="var">H</span>;[<span class="id" title="tactic">right</span>|<span class="id" title="tactic">left</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">A</span>. <span class="id" title="tactic">case</span>: <span class="id" title="var">H</span> =&gt; [<span class="id" title="var">x</span> /= <span class="id" title="var">Hx</span>]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">A</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span>. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#negPn"><span class="id" title="lemma">negPn</span></a>/<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a> =&gt; <span class="id" title="var">C</span>. <span class="id" title="tactic">apply</span>: <span class="id" title="var">H</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Construction of Image 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="image_type"><span class="id" title="definition">image_type</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="RegLang.dfa.html#FA.CutOff.rT"><span class="id" title="variable">rT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <a class="idref" href="RegLang.dfa.html#exseq_dec"><span class="id" title="lemma">exseq_dec</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#pred1"><span class="id" title="definition">pred1</span></a> <a class="idref" href="RegLang.dfa.html#a"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="image_fun_proof"><span class="id" title="lemma">image_fun_proof</span></a> (<span class="id" title="var">x</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> <a class="idref" href="RegLang.dfa.html#FA.CutOff.aT"><span class="id" title="variable">aT</span></a>) : <a class="idref" href="RegLang.dfa.html#exseq_dec"><span class="id" title="lemma">exseq_dec</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#pred1"><span class="id" title="definition">pred1</span></a> (<a class="idref" href="RegLang.dfa.html#FA.CutOff.f"><span class="id" title="variable">f</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.misc.html#dec_eq"><span class="id" title="lemma">dec_eq</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span> =&gt; /=. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="image_fun"><span class="id" title="definition">image_fun</span></a> (<span class="id" title="var">x</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> <a class="idref" href="RegLang.dfa.html#FA.CutOff.aT"><span class="id" title="variable">aT</span></a>) : <a class="idref" href="RegLang.dfa.html#image_type"><span class="id" title="definition">image_type</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Sub"><span class="id" title="projection">Sub</span></a> (<a class="idref" href="RegLang.dfa.html#FA.CutOff.f"><span class="id" title="variable">f</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a>) (<a class="idref" href="RegLang.dfa.html#image_fun_proof"><span class="id" title="lemma">image_fun_proof</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="surjective_image_fun"><span class="id" title="lemma">surjective_image_fun</span></a> : <a class="idref" href="RegLang.misc.html#surjective"><span class="id" title="definition">surjective</span></a> (<a class="idref" href="RegLang.dfa.html#image_fun"><span class="id" title="definition">image_fun</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">y</span> <span class="id" title="var">Py</span>]. <span class="id" title="tactic">case</span>/<a class="idref" href="RegLang.misc.html#dec_eq"><span class="id" title="lemma">dec_eq</span></a> : (<span class="id" title="var">Py</span>) =&gt; /= <span class="id" title="var">x</span> ?. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RegLang.dfa.html#FA.CutOff"><span class="id" title="section">CutOff</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab11"></a><h2 class="section">Decidability of Language Equivalence</h2>


<div class="paragraph"> </div>

Language emptiness and inhabitation of DFAs is deciadable since the <span class="inlinecode"><span class="id" title="keyword">delta</span></span>
function is right congruent 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a name="FA.Emptyness"><span class="id" title="section">Emptyness</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="FA.Emptyness.A"><span class="id" title="variable">A</span></a> : <a class="idref" href="RegLang.dfa.html#dfa"><span class="id" title="record">dfa</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="delta_rc"><span class="id" title="lemma">delta_rc</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">a</span> : <span class="id" title="keyword">let</span> <span class="id" title="var">s</span> := <a class="idref" href="RegLang.dfa.html#dfa_s"><span class="id" title="projection">dfa_s</span></a> <a class="idref" href="RegLang.dfa.html#FA.Emptyness.A"><span class="id" title="variable">A</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> <a class="idref" href="RegLang.dfa.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> <a class="idref" href="RegLang.dfa.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="RegLang.dfa.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> <a class="idref" href="RegLang.dfa.html#s"><span class="id" title="variable">s</span></a> (<a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">[::</span></a><a class="idref" href="RegLang.dfa.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">]</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> <a class="idref" href="RegLang.dfa.html#s"><span class="id" title="variable">s</span></a> (<a class="idref" href="RegLang.dfa.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">[::</span></a><a class="idref" href="RegLang.dfa.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /= !<a class="idref" href="RegLang.dfa.html#delta_cat"><span class="id" title="lemma">delta_cat</span></a> =&gt; &lt;-. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="dfa_inhab"><span class="id" title="definition">dfa_inhab</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#decidable"><span class="id" title="definition">decidable</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.dfa.html#FA.Emptyness.A"><span class="id" title="variable">A</span></a>) := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.dfa.html#exseq_dec"><span class="id" title="lemma">exseq_dec</span></a> <a class="idref" href="RegLang.dfa.html#delta_rc"><span class="id" title="lemma">delta_rc</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_fin"><span class="id" title="projection">dfa_fin</span></a> <a class="idref" href="RegLang.dfa.html#FA.Emptyness.A"><span class="id" title="variable">A</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="dfa_inhabP"><span class="id" title="lemma">dfa_inhabP</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.dfa.html#FA.Emptyness.A"><span class="id" title="variable">A</span></a>) (<a class="idref" href="RegLang.dfa.html#dfa_inhab"><span class="id" title="definition">dfa_inhab</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>); <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.misc.html#dec_eq"><span class="id" title="lemma">dec_eq</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="dfa_empty"><span class="id" title="definition">dfa_empty</span></a> := <a class="idref" href="RegLang.dfa.html#allseq_dec"><span class="id" title="lemma">allseq_dec</span></a> <a class="idref" href="RegLang.dfa.html#delta_rc"><span class="id" title="lemma">delta_rc</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#c1ad6bcc76a6221225111f87bc3b0c3d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#c1ad6bcc76a6221225111f87bc3b0c3d"><span class="id" title="notation">notin</span></a> <a class="idref" href="RegLang.dfa.html#dfa_fin"><span class="id" title="projection">dfa_fin</span></a> <a class="idref" href="RegLang.dfa.html#FA.Emptyness.A"><span class="id" title="variable">A</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="dfa_emptyP"><span class="id" title="lemma">dfa_emptyP</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.dfa.html#FA.Emptyness.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#pred0"><span class="id" title="definition">pred0</span></a>) (<a class="idref" href="RegLang.dfa.html#dfa_empty"><span class="id" title="definition">dfa_empty</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>) =&gt; [/<a class="idref" href="RegLang.misc.html#dec_eq"><span class="id" title="lemma">dec_eq</span></a> <span class="id" title="var">H</span> <span class="id" title="var">x</span>|<span class="id" title="var">H</span>]; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> /<a class="idref" href="RegLang.dfa.html#dfa_accept"><span class="id" title="definition">dfa_accept</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#negbTE"><span class="id" title="lemma">negbTE</span></a> (<span class="id" title="var">H</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.misc.html#dec_eq"><span class="id" title="lemma">dec_eq</span></a> =&gt; <span class="id" title="var">x</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -[<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#c1ad6bcc76a6221225111f87bc3b0c3d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#c1ad6bcc76a6221225111f87bc3b0c3d"><span class="id" title="notation">notin</span></a> <span class="id" title="var">_</span>]/(<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#c1ad6bcc76a6221225111f87bc3b0c3d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#c1ad6bcc76a6221225111f87bc3b0c3d"><span class="id" title="notation">notin</span></a> <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.dfa.html#FA.Emptyness.A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RegLang.dfa.html#FA.Emptyness"><span class="id" title="section">Emptyness</span></a>.<br/>

<br/>
</div>

<div class="doc">
The problem of deciding language eqivalence reduces to the problem
of deciding emptiness of <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode">[+]</span> <span class="inlinecode"><span class="id" title="var">B</span></span> 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="dfa_equiv"><span class="id" title="definition">dfa_equiv</span></a> <span class="id" title="var">A1</span> <span class="id" title="var">A2</span> := <a class="idref" href="RegLang.dfa.html#dfa_empty"><span class="id" title="definition">dfa_empty</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_op"><span class="id" title="definition">dfa_op</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#addb"><span class="id" title="definition">addb</span></a> <a class="idref" href="RegLang.dfa.html#A1"><span class="id" title="variable">A1</span></a> <a class="idref" href="RegLang.dfa.html#A2"><span class="id" title="variable">A2</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="dfa_equiv_correct"><span class="id" title="lemma">dfa_equiv_correct</span></a> <span class="id" title="var">A1</span> <span class="id" title="var">A2</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.dfa.html#A1"><span class="id" title="variable">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">i</span></a> <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.dfa.html#A2"><span class="id" title="variable">A2</span></a>) (<a class="idref" href="RegLang.dfa.html#dfa_equiv"><span class="id" title="definition">dfa_equiv</span></a> <a class="idref" href="RegLang.dfa.html#A1"><span class="id" title="variable">A1</span></a> <a class="idref" href="RegLang.dfa.html#A2"><span class="id" title="variable">A2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_emptyP"><span class="id" title="lemma">dfa_emptyP</span></a> <span class="id" title="var">_</span>)) =&gt; <span class="id" title="var">H</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#negbT"><span class="id" title="lemma">negbT</span></a>: (<span class="id" title="var">H</span> <span class="id" title="var">w</span>). <span class="id" title="tactic">rewrite</span> !<a class="idref" href="RegLang.dfa.html#dfa_op_correct"><span class="id" title="lemma">dfa_op_correct</span></a> -<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#addNb"><span class="id" title="lemma">addNb</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#addbP"><span class="id" title="lemma">addbP</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#negbK"><span class="id" title="lemma">negbK</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#negbTE"><span class="id" title="lemma">negbTE</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="RegLang.dfa.html#dfa_op_correct"><span class="id" title="lemma">dfa_op_correct</span></a> <span class="id" title="var">H</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#addbb"><span class="id" title="lemma">addbb</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="dfa_incl"><span class="id" title="definition">dfa_incl</span></a> <span class="id" title="var">A1</span> <span class="id" title="var">A2</span> := <a class="idref" href="RegLang.dfa.html#dfa_empty"><span class="id" title="definition">dfa_empty</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_op"><span class="id" title="definition">dfa_op</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> =&gt; <a class="idref" href="RegLang.dfa.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="RegLang.dfa.html#b"><span class="id" title="variable">b</span></a>) <a class="idref" href="RegLang.dfa.html#A1"><span class="id" title="variable">A1</span></a> <a class="idref" href="RegLang.dfa.html#A2"><span class="id" title="variable">A2</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="dfa_incl_correct"><span class="id" title="lemma">dfa_incl_correct</span></a> <span class="id" title="var">A1</span> <span class="id" title="var">A2</span> : <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">subset</span></a> <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.dfa.html#A1"><span class="id" title="variable">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.dfa.html#A2"><span class="id" title="variable">A2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">}</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_incl"><span class="id" title="definition">dfa_incl</span></a> <a class="idref" href="RegLang.dfa.html#A1"><span class="id" title="variable">A1</span></a> <a class="idref" href="RegLang.dfa.html#A2"><span class="id" title="variable">A2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_emptyP"><span class="id" title="lemma">dfa_emptyP</span></a> <span class="id" title="var">_</span>)) =&gt; <span class="id" title="var">H</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#negbT"><span class="id" title="lemma">negbT</span></a>: (<span class="id" title="var">H</span> <span class="id" title="var">w</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.dfa.html#dfa_op_correct"><span class="id" title="lemma">dfa_op_correct</span></a> -<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#negb_imply"><span class="id" title="lemma">negb_imply</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#negbK"><span class="id" title="lemma">negbK</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#implyP"><span class="id" title="lemma">implyP</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.dfa.html#dfa_op_correct"><span class="id" title="lemma">dfa_op_correct</span></a> -<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#negb_imply"><span class="id" title="lemma">negb_imply</span></a>. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#negbTE"><span class="id" title="lemma">negbTE</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#negbK"><span class="id" title="lemma">negbK</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#implyP"><span class="id" title="lemma">implyP</span></a>. <span class="id" title="tactic">exact</span>: <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RegLang.dfa.html#FA"><span class="id" title="section">FA</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab12"></a><h2 class="section">DFA for preimages of homomorphisms</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a name="Preimage"><span class="id" title="section">Preimage</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variables</span> (<a name="Preimage.char"><span class="id" title="variable">char</span></a> <a name="Preimage.char'"><span class="id" title="variable">char'</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a name="Preimage.h"><span class="id" title="variable">h</span></a> : <a class="idref" href="RegLang.languages.html#word"><span class="id" title="definition">word</span></a> <a class="idref" href="RegLang.dfa.html#Preimage.char"><span class="id" title="variable">char</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.languages.html#word"><span class="id" title="definition">word</span></a> <a class="idref" href="RegLang.dfa.html#Preimage.char'"><span class="id" title="variable">char'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="Preimage.h_hom"><span class="id" title="variable">h_hom</span></a> : <a class="idref" href="RegLang.languages.html#homomorphism"><span class="id" title="definition">homomorphism</span></a> <a class="idref" href="RegLang.dfa.html#Preimage.h"><span class="id" title="variable">h</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="dfa_preim"><span class="id" title="definition">dfa_preim</span></a> (<span class="id" title="var">A</span> : <a class="idref" href="RegLang.dfa.html#dfa"><span class="id" title="record">dfa</span></a> <a class="idref" href="RegLang.dfa.html#Preimage.char'"><span class="id" title="variable">char'</span></a>) : <a class="idref" href="RegLang.dfa.html#dfa"><span class="id" title="record">dfa</span></a> <a class="idref" href="RegLang.dfa.html#Preimage.char"><span class="id" title="variable">char</span></a> :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_s</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">:=</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_s</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">A</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_fin</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">:=</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_fin</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">A</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_trans</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">x</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">a</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">:=</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">delta</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">x</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">(</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">h</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">[::</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">a</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">])</span></a> |}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="dfa_preimP"><span class="id" title="lemma">dfa_preimP</span></a> <span class="id" title="var">A</span> : <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_preim"><span class="id" title="definition">dfa_preim</span></a> <a class="idref" href="RegLang.dfa.html#A"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#preim"><span class="id" title="definition">preim</span></a> <a class="idref" href="RegLang.dfa.html#Preimage.h"><span class="id" title="variable">h</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.dfa.html#A"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">w</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> /<a class="idref" href="RegLang.dfa.html#dfa_accept"><span class="id" title="definition">dfa_accept</span></a> /<a class="idref" href="RegLang.dfa.html#dfa_preim"><span class="id" title="definition">dfa_preim</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">w</span> (<a class="idref" href="RegLang.dfa.html#dfa_s"><span class="id" title="projection">dfa_s</span></a> <span class="id" title="var">A</span>) =&gt; [|<span class="id" title="var">a</span> <span class="id" title="var">w</span> <span class="id" title="var">IHw</span>] <span class="id" title="var">x</span> /= ; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.languages.html#h0"><span class="id" title="lemma">h0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -[<span class="id" title="var">a</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#407cde5b61fbf27196d1a7c5a475e083"><span class="id" title="notation">::</span></a> <span class="id" title="var">w</span>]<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#cat1s"><span class="id" title="lemma">cat1s</span></a> <a class="idref" href="RegLang.dfa.html#Preimage.h_hom"><span class="id" title="variable">h_hom</span></a> !<a class="idref" href="RegLang.dfa.html#delta_cat"><span class="id" title="lemma">delta_cat</span></a> -<span class="id" title="var">IHw</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RegLang.dfa.html#Preimage"><span class="id" title="section">Preimage</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="preim_regular"><span class="id" title="lemma">preim_regular</span></a> (<span class="id" title="var">char</span> <span class="id" title="var">char'</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) (<span class="id" title="var">h</span> : <a class="idref" href="RegLang.languages.html#word"><span class="id" title="definition">word</span></a> <a class="idref" href="RegLang.dfa.html#char"><span class="id" title="variable">char</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.languages.html#word"><span class="id" title="definition">word</span></a> <a class="idref" href="RegLang.dfa.html#char'"><span class="id" title="variable">char'</span></a>) <span class="id" title="var">L</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="RegLang.languages.html#homomorphism"><span class="id" title="definition">homomorphism</span></a> <a class="idref" href="RegLang.dfa.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> <a class="idref" href="RegLang.dfa.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> (<a class="idref" href="RegLang.languages.html#preimage"><span class="id" title="definition">preimage</span></a> <a class="idref" href="RegLang.dfa.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="RegLang.dfa.html#L"><span class="id" title="variable">L</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">hom_h</span> [<span class="id" title="var">A</span> <span class="id" title="var">HA</span>]. <span class="id" title="tactic">exists</span> (<a class="idref" href="RegLang.dfa.html#dfa_preim"><span class="id" title="definition">dfa_preim</span></a> <span class="id" title="var">h</span> <span class="id" title="var">A</span>) =&gt; <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.dfa.html#dfa_preimP"><span class="id" title="lemma">dfa_preimP</span></a> // <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#unfold_in"><span class="id" title="lemma">unfold_in</span></a> /= -<span class="id" title="var">HA</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab13"></a><h2 class="section">Closure under Right Quotients</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a name="RightQuotient"><span class="id" title="section">RightQuotient</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variables</span> (<a name="RightQuotient.char"><span class="id" title="variable">char</span></a>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) (<a name="RightQuotient.L1"><span class="id" title="variable">L1</span></a> <a name="RightQuotient.L2"><span class="id" title="variable">L2</span></a> : <a class="idref" href="RegLang.languages.html#lang"><span class="id" title="definition">lang</span></a> <a class="idref" href="RegLang.dfa.html#char"><span class="id" title="variable">char</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="quotR"><span class="id" title="definition">quotR</span></a> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">exists2</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.dfa.html#RightQuotient.L2"><span class="id" title="variable">L2</span></a> <a class="idref" href="RegLang.dfa.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="RegLang.dfa.html#RightQuotient.L1"><span class="id" title="variable">L1</span></a> (<a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a><a class="idref" href="RegLang.dfa.html#y"><span class="id" title="variable">y</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a name="RightQuotient.A"><span class="id" title="variable">A</span></a> : <a class="idref" href="RegLang.dfa.html#dfa"><span class="id" title="record">dfa</span></a> <a class="idref" href="RegLang.dfa.html#RightQuotient.char"><span class="id" title="variable">char</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="RightQuotient.acc_L1"><span class="id" title="variable">acc_L1</span></a> : <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.dfa.html#RightQuotient.A"><span class="id" title="variable">A</span></a> <a class="idref" href="RegLang.misc.html#703d07e7c46c749a39e9403454a8d48f"><span class="id" title="notation">=</span></a><a class="idref" href="RegLang.misc.html#703d07e7c46c749a39e9403454a8d48f"><span class="id" title="notation">p</span></a> <a class="idref" href="RegLang.dfa.html#RightQuotient.L1"><span class="id" title="variable">L1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="RightQuotient.dec_L2"><span class="id" title="variable">dec_L2</span></a> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">q</span>:<a class="idref" href="RegLang.dfa.html#RightQuotient.A"><span class="id" title="variable">A</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#decidable"><span class="id" title="definition">decidable</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">exists2</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.dfa.html#RightQuotient.L2"><span class="id" title="variable">L2</span></a> <a class="idref" href="RegLang.dfa.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> <a class="idref" href="RegLang.dfa.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="RegLang.dfa.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_fin"><span class="id" title="projection">dfa_fin</span></a> <a class="idref" href="RegLang.dfa.html#RightQuotient.A"><span class="id" title="variable">A</span></a>).<br/>

<br/>
</div>

<div class="doc">
It would be better to not make the DFA explicit and require
  decidabiliy of <span class="inlinecode">(<span class="id" title="var">exists2</span></span> <span class="inlinecode"><span class="id" title="var">y</span>,</span> <span class="inlinecode"><span class="id" title="var">L2</span></span> <span class="inlinecode"><span class="id" title="var">y</span></span> <span class="inlinecode">&amp;</span> <span class="inlinecode"><span class="id" title="var">L1</span></span> <span class="inlinecode">(<span class="id" title="var">x</span></span> <span class="inlinecode">++</span> <span class="inlinecode"><span class="id" title="var">y</span>))</span> but that would
  require a connected DFA in order to define the final states via
  canonical words 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="dfa_quot"><span class="id" title="definition">dfa_quot</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_s</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">:=</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_s</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">A</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_trans</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">:=</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">@</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_trans</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">_</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">A</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_fin</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">:=</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">[</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">set</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">q</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">|</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dec_L2</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">q</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">]</span></a> |}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="dfa_quotP"><span class="id" title="lemma">dfa_quotP</span></a> <span class="id" title="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a> (<a class="idref" href="RegLang.dfa.html#quotR"><span class="id" title="definition">quotR</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a>) (<a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.dfa.html#dfa_quot"><span class="id" title="definition">dfa_quot</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> /<a class="idref" href="RegLang.dfa.html#dfa_accept"><span class="id" title="definition">dfa_accept</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>. <span class="id" title="tactic">case</span>/<a class="idref" href="RegLang.misc.html#dec_eq"><span class="id" title="lemma">dec_eq</span></a> =&gt; <span class="id" title="var">y</span> <span class="id" title="var">inL2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="RegLang.dfa.html#delta_cat"><span class="id" title="lemma">delta_cat</span></a> =&gt; <span class="id" title="var">H</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">y</span> =&gt; //. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="RegLang.dfa.html#RightQuotient.acc_L1"><span class="id" title="variable">acc_L1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">case</span> =&gt; <span class="id" title="var">y</span> <span class="id" title="var">y1</span> <span class="id" title="var">y2</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> /<a class="idref" href="RegLang.dfa.html#dfa_accept"><span class="id" title="definition">dfa_accept</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> /= <a class="idref" href="RegLang.misc.html#dec_eq"><span class="id" title="lemma">dec_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">y</span> =&gt; //. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="RegLang.dfa.html#delta_cat"><span class="id" title="lemma">delta_cat</span></a> <a class="idref" href="RegLang.dfa.html#RightQuotient.acc_L1"><span class="id" title="variable">acc_L1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RegLang.dfa.html#RightQuotient"><span class="id" title="section">RightQuotient</span></a>.<br/>

<br/>
</div>

<div class="doc">
Useful special case of the right-quotient construction. Other
special cases would be where <span class="inlinecode"><span class="id" title="var">L2</span></span> is context free, the case for
arbitrary <span class="inlinecode"><span class="id" title="var">L2</span></span> is non-constructive. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a name="regular_quotR"><span class="id" title="lemma">regular_quotR</span></a> (<span class="id" title="var">char</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) (<span class="id" title="var">L1</span> <span class="id" title="var">L2</span> : <a class="idref" href="RegLang.languages.html#lang"><span class="id" title="definition">lang</span></a> <a class="idref" href="RegLang.dfa.html#char"><span class="id" title="variable">char</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> <a class="idref" href="RegLang.dfa.html#L1"><span class="id" title="variable">L1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> <a class="idref" href="RegLang.dfa.html#L2"><span class="id" title="variable">L2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> (<a class="idref" href="RegLang.dfa.html#quotR"><span class="id" title="definition">quotR</span></a> <a class="idref" href="RegLang.dfa.html#L1"><span class="id" title="variable">L1</span></a> <a class="idref" href="RegLang.dfa.html#L2"><span class="id" title="variable">L2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">A</span> <span class="id" title="var">LA</span>] <span class="id" title="var">reg2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">suff</span> <span class="id" title="var">dec_L1</span> <span class="id" title="var">q</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#decidable"><span class="id" title="definition">decidable</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">exists2</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">,</span></a> <span class="id" title="var">L2</span> <a class="idref" href="RegLang.dfa.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> <a class="idref" href="RegLang.dfa.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="RegLang.dfa.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_fin"><span class="id" title="projection">dfa_fin</span></a> <span class="id" title="var">A</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">exists</span> (<a class="idref" href="RegLang.dfa.html#dfa_quot"><span class="id" title="definition">dfa_quot</span></a> <span class="id" title="var">dec_L1</span>) =&gt; <span class="id" title="var">x</span>. <span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#rwP"><span class="id" title="lemma">rwP</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_quotP"><span class="id" title="lemma">dfa_quotP</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) =&gt; {<span class="id" title="var">x</span>} <span class="id" title="var">x</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">LA</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <span class="id" title="var">reg2</span> =&gt; {<span class="id" title="var">LA</span>} [<span class="id" title="var">B</span> <span class="id" title="var">LB</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">C</span> := {| <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_s</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">:=</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">q</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">;</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_fin</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">:=</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_fin</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">A</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">;</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_trans</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">:=</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">@</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_trans</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">_</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">A</span></a> |}.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">dec</span> := <a class="idref" href="RegLang.dfa.html#dfa_inhab"><span class="id" title="definition">dfa_inhab</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_op"><span class="id" title="definition">dfa_op</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#andb"><span class="id" title="definition">andb</span></a> <span class="id" title="var">B</span> <span class="id" title="var">C</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<a class="idref" href="RegLang.misc.html#dec_iff"><span class="id" title="lemma">dec_iff</span></a> <span class="id" title="var">dec</span>); <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">x</span> <span class="id" title="var">X1</span> <span class="id" title="var">X2</span>]. <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.dfa.html#dfa_op_correct"><span class="id" title="lemma">dfa_op_correct</span></a>. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>;<span class="id" title="tactic">split</span> =&gt; //. <span class="id" title="tactic">exact</span>/<span class="id" title="var">LB</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">x</span>]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.dfa.html#dfa_op_correct"><span class="id" title="lemma">dfa_op_correct</span></a>. <span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> =&gt; *. <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span> =&gt; //. <span class="id" title="tactic">exact</span>/<span class="id" title="var">LB</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab14"></a><h2 class="section">Closure under Left Quotients</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a name="LeftQuotient"><span class="id" title="section">LeftQuotient</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variables</span> (<a name="LeftQuotient.char"><span class="id" title="variable">char</span></a>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) (<a name="LeftQuotient.L1"><span class="id" title="variable">L1</span></a> <a name="LeftQuotient.L2"><span class="id" title="variable">L2</span></a> : <a class="idref" href="RegLang.languages.html#lang"><span class="id" title="definition">lang</span></a> <a class="idref" href="RegLang.dfa.html#char"><span class="id" title="variable">char</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="quotL"><span class="id" title="definition">quotL</span></a> := <span class="id" title="keyword">fun</span> <span class="id" title="var">y</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">exists2</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.dfa.html#LeftQuotient.L1"><span class="id" title="variable">L1</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="RegLang.dfa.html#LeftQuotient.L2"><span class="id" title="variable">L2</span></a> (<a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a><a class="idref" href="RegLang.dfa.html#y"><span class="id" title="variable">y</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a name="LeftQuotient.A"><span class="id" title="variable">A</span></a> : <a class="idref" href="RegLang.dfa.html#dfa"><span class="id" title="record">dfa</span></a> <a class="idref" href="RegLang.dfa.html#LeftQuotient.char"><span class="id" title="variable">char</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="LeftQuotient.acc_L2"><span class="id" title="variable">acc_L2</span></a> : <a class="idref" href="RegLang.dfa.html#LeftQuotient.L2"><span class="id" title="variable">L2</span></a> <a class="idref" href="RegLang.misc.html#703d07e7c46c749a39e9403454a8d48f"><span class="id" title="notation">=</span></a><a class="idref" href="RegLang.misc.html#703d07e7c46c749a39e9403454a8d48f"><span class="id" title="notation">p</span></a> <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.dfa.html#LeftQuotient.A"><span class="id" title="variable">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="LeftQuotient.dec_L1"><span class="id" title="variable">dec_L1</span></a> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">q</span>:<a class="idref" href="RegLang.dfa.html#LeftQuotient.A"><span class="id" title="variable">A</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#decidable"><span class="id" title="definition">decidable</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">exists2</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.dfa.html#LeftQuotient.L1"><span class="id" title="variable">L1</span></a> <a class="idref" href="RegLang.dfa.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="RegLang.dfa.html#delta_s"><span class="id" title="definition">delta_s</span></a> <a class="idref" href="RegLang.dfa.html#LeftQuotient.A"><span class="id" title="variable">A</span></a> <a class="idref" href="RegLang.dfa.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.dfa.html#q"><span class="id" title="variable">q</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <a name="LeftQuotient.A_start"><span class="id" title="variable">A_start</span></a> <span class="id" title="var">q</span> := {| <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_s</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">:=</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">q</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">;</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_fin</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">:=</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_fin</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">A</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">;</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_trans</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">:=</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">@</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_trans</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">_</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">A</span></a> |}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="A_start_cat"><span class="id" title="lemma">A_start_cat</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <a class="idref" href="RegLang.dfa.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.dfa.html#LeftQuotient.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.dfa.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> (<a class="idref" href="RegLang.dfa.html#LeftQuotient.A_start"><span class="id" title="variable">A_start</span></a> (<a class="idref" href="RegLang.dfa.html#delta_s"><span class="id" title="definition">delta_s</span></a> <a class="idref" href="RegLang.dfa.html#LeftQuotient.A"><span class="id" title="variable">A</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> /<a class="idref" href="RegLang.dfa.html#delta_s"><span class="id" title="definition">delta_s</span></a>. <span class="id" title="tactic">elim</span>: <span class="id" title="var">x</span> (<a class="idref" href="RegLang.dfa.html#dfa_s"><span class="id" title="projection">dfa_s</span></a> <a class="idref" href="RegLang.dfa.html#LeftQuotient.A"><span class="id" title="variable">A</span></a>)=&gt; //= <span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">IH</span> <span class="id" title="var">q</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.dfa.html#accE"><span class="id" title="definition">accE</span></a> <span class="id" title="var">IH</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="regular_quotL_aux"><span class="id" title="lemma">regular_quotL_aux</span></a> : <a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> <a class="idref" href="RegLang.dfa.html#quotL"><span class="id" title="definition">quotL</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">S</span> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#3f8af8f1c43d737adb935ffe24912c2b"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#3f8af8f1c43d737adb935ffe24912c2b"><span class="id" title="notation">seq</span></a> <a class="idref" href="RegLang.dfa.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#3f8af8f1c43d737adb935ffe24912c2b"><span class="id" title="notation">|</span></a> <span class="id" title="var">q</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#3f8af8f1c43d737adb935ffe24912c2b"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#enum"><span class="id" title="abbreviation">enum</span></a> <a class="idref" href="RegLang.dfa.html#LeftQuotient.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#3f8af8f1c43d737adb935ffe24912c2b"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="RegLang.dfa.html#LeftQuotient.dec_L1"><span class="id" title="variable">dec_L1</span></a> <a class="idref" href="RegLang.dfa.html#q"><span class="id" title="variable">q</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#3f8af8f1c43d737adb935ffe24912c2b"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">L</span> (<span class="id" title="var">q</span>:<a class="idref" href="RegLang.dfa.html#LeftQuotient.A"><span class="id" title="variable">A</span></a>) := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#mem"><span class="id" title="definition">mem</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> (<a class="idref" href="RegLang.dfa.html#LeftQuotient.A_start"><span class="id" title="variable">A_start</span></a> <a class="idref" href="RegLang.dfa.html#q"><span class="id" title="variable">q</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">exists2</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.dfa.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <span class="id" title="var">S</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">&amp;</span></a> <span class="id" title="var">L</span> <a class="idref" href="RegLang.dfa.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">suff</span>: <a class="idref" href="RegLang.dfa.html#quotL"><span class="id" title="definition">quotL</span></a> <a class="idref" href="RegLang.misc.html#703d07e7c46c749a39e9403454a8d48f"><span class="id" title="notation">=</span></a><a class="idref" href="RegLang.misc.html#703d07e7c46c749a39e9403454a8d48f"><span class="id" title="notation">p</span></a> <span class="id" title="var">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.dfa.html#regular_ext"><span class="id" title="lemma">regular_ext</span></a>. <span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.dfa.html#regular_bigU"><span class="id" title="lemma">regular_bigU</span></a> =&gt; <span class="id" title="var">q</span> <span class="id" title="var">qS</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> (<a class="idref" href="RegLang.dfa.html#LeftQuotient.A_start"><span class="id" title="variable">A_start</span></a> <span class="id" title="var">q</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">y</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">case</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">H1</span> /<a class="idref" href="RegLang.dfa.html#LeftQuotient.acc_L2"><span class="id" title="variable">acc_L2</span></a> <span class="id" title="var">H2</span>. <span class="id" title="tactic">exists</span> (<a class="idref" href="RegLang.dfa.html#delta_s"><span class="id" title="definition">delta_s</span></a> <a class="idref" href="RegLang.dfa.html#LeftQuotient.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#mapP"><span class="id" title="lemma">mapP</span></a>. <span class="id" title="tactic">exists</span> (<a class="idref" href="RegLang.dfa.html#delta_s"><span class="id" title="definition">delta_s</span></a> <a class="idref" href="RegLang.dfa.html#LeftQuotient.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">x</span>) =&gt; //. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#mem_filter"><span class="id" title="lemma">mem_filter</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#mem_enum"><span class="id" title="lemma">mem_enum</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#andbT"><span class="id" title="lemma">andbT</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.misc.html#dec_eq"><span class="id" title="lemma">dec_eq</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">L</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#topredE"><span class="id" title="lemma">topredE</span></a> -<a class="idref" href="RegLang.dfa.html#A_start_cat"><span class="id" title="lemma">A_start_cat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">case</span> =&gt; ? /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#mapP"><span class="id" title="lemma">mapP</span></a> [<span class="id" title="var">q</span>]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#mem_filter"><span class="id" title="lemma">mem_filter</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#mem_enum"><span class="id" title="lemma">mem_enum</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#andbT"><span class="id" title="lemma">andbT</span></a> =&gt; /<a class="idref" href="RegLang.misc.html#dec_eq"><span class="id" title="lemma">dec_eq</span></a> [<span class="id" title="var">x</span> <span class="id" title="var">L1_x</span> &lt;- -&gt;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="var">L</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#topredE"><span class="id" title="lemma">topredE</span></a> -<a class="idref" href="RegLang.dfa.html#A_start_cat"><span class="id" title="lemma">A_start_cat</span></a> =&gt; <span class="id" title="var">Hxy</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span> =&gt; //. <span class="id" title="tactic">exact</span>/<a class="idref" href="RegLang.dfa.html#LeftQuotient.acc_L2"><span class="id" title="variable">acc_L2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RegLang.dfa.html#LeftQuotient"><span class="id" title="section">LeftQuotient</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="regular_quotL"><span class="id" title="lemma">regular_quotL</span></a> (<span class="id" title="var">char</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) (<span class="id" title="var">L1</span> <span class="id" title="var">L2</span> : <a class="idref" href="RegLang.languages.html#lang"><span class="id" title="definition">lang</span></a> <a class="idref" href="RegLang.dfa.html#char"><span class="id" title="variable">char</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> <a class="idref" href="RegLang.dfa.html#L1"><span class="id" title="variable">L1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> <a class="idref" href="RegLang.dfa.html#L2"><span class="id" title="variable">L2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> (<a class="idref" href="RegLang.dfa.html#quotL"><span class="id" title="definition">quotL</span></a> <a class="idref" href="RegLang.dfa.html#L1"><span class="id" title="variable">L1</span></a> <a class="idref" href="RegLang.dfa.html#L2"><span class="id" title="variable">L2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">A</span> <span class="id" title="var">acc_L1</span>] [<span class="id" title="var">B</span> <span class="id" title="var">acc_L2</span>]. <span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.dfa.html#regular_quotL_aux"><span class="id" title="lemma">regular_quotL_aux</span></a> <span class="id" title="var">acc_L2</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">B_q</span> := {| <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_s</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">:=</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_s</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">B</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">;</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_fin</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">:=</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">[</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">set</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">q</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">]</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">;</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_trans</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">:=</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">@</span></a><a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">dfa_trans</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">_</span></a> <a class="idref" href="RegLang.dfa.html#Build_dfa"><span class="id" title="constructor">B</span></a> |}.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">B_qP</span> <span class="id" title="var">y</span> : <a class="idref" href="RegLang.dfa.html#delta_s"><span class="id" title="definition">delta_s</span></a> <span class="id" title="var">B</span> <a class="idref" href="RegLang.dfa.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">q</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#4bfb4f2d0721ba668e3a802ab1b745a1"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="RegLang.dfa.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <span class="id" title="var">B_q</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> -<a class="idref" href="RegLang.dfa.html#delta_lang"><span class="id" title="lemma">delta_lang</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span> =&gt; ?; <span class="id" title="tactic">exact</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">dec</span> := <a class="idref" href="RegLang.dfa.html#dfa_inhab"><span class="id" title="definition">dfa_inhab</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_op"><span class="id" title="definition">dfa_op</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#andb"><span class="id" title="definition">andb</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B_q</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.misc.html#dec_iff"><span class="id" title="lemma">dec_iff</span></a> <span class="id" title="var">dec</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">y</span>] <span class="id" title="var">H1</span> <span class="id" title="var">Hq</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.dfa.html#dfa_op_correct"><span class="id" title="lemma">dfa_op_correct</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">exact</span>/<span class="id" title="var">acc_L1</span>. <span class="id" title="tactic">exact</span>/<span class="id" title="var">B_qP</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">y</span>]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.dfa.html#dfa_op_correct"><span class="id" title="lemma">dfa_op_correct</span></a> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>]. <span class="id" title="tactic">exists</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">exact</span>/<span class="id" title="var">acc_L1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span>/<span class="id" title="var">B_qP</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
regular languages are logically determined and since propositions
    can be embedded into languages, there are some languages that are regular
    iff we assume excluded middle. (take <span class="inlinecode"><span class="id" title="var">P</span></span> to be any independent proposition) 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a name="regular_det"><span class="id" title="lemma">regular_det</span></a> (<span class="id" title="var">char</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) <span class="id" title="var">L</span> (<span class="id" title="var">w</span> : <a class="idref" href="RegLang.languages.html#word"><span class="id" title="definition">word</span></a> <a class="idref" href="RegLang.dfa.html#char"><span class="id" title="variable">char</span></a>): <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#inhabited"><span class="id" title="inductive">inhabited</span></a> (<a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> <a class="idref" href="RegLang.dfa.html#L"><span class="id" title="variable">L</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.dfa.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="RegLang.dfa.html#w"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="RegLang.dfa.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="RegLang.dfa.html#w"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">case</span>. <span class="id" title="tactic">case</span> =&gt; <span class="id" title="var">A</span> -&gt;. <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>: (<span class="id" title="var">w</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <span class="id" title="var">A</span>); [<span class="id" title="tactic">left</span>|<span class="id" title="tactic">right</span>]. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="regular_xm"><span class="id" title="lemma">regular_xm</span></a> (<span class="id" title="var">char</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) : <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#4bfb4f2d0721ba668e3a802ab1b745a1"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">P</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#inhabited"><span class="id" title="inductive">inhabited</span></a> (<a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> : <a class="idref" href="RegLang.languages.html#word"><span class="id" title="definition">word</span></a> <a class="idref" href="RegLang.dfa.html#char"><span class="id" title="variable">char</span></a> =&gt; <a class="idref" href="RegLang.dfa.html#P"><span class="id" title="variable">P</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#4bfb4f2d0721ba668e3a802ab1b745a1"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#4bfb4f2d0721ba668e3a802ab1b745a1"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#4bfb4f2d0721ba668e3a802ab1b745a1"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">P</span>, <a class="idref" href="RegLang.dfa.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="RegLang.dfa.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#4bfb4f2d0721ba668e3a802ab1b745a1"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> =&gt; [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>] <span class="id" title="var">P</span> ; <span class="id" title="tactic">first</span> <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.dfa.html#regular_det"><span class="id" title="lemma">regular_det</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626"><span class="id" title="notation">[::]</span></a> (<span class="id" title="var">H</span> <span class="id" title="var">P</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<span class="id" title="var">H</span> <span class="id" title="var">P</span>) =&gt; <span class="id" title="var">HP</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> (<a class="idref" href="RegLang.dfa.html#dfa_compl"><span class="id" title="definition">dfa_compl</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_void"><span class="id" title="definition">dfa_void</span></a> <span class="id" title="var">char</span>)) =&gt; <span class="id" title="var">x</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.dfa.html#dfa_compl_correct"><span class="id" title="lemma">dfa_compl_correct</span></a> <a class="idref" href="RegLang.dfa.html#dfa_void_correct"><span class="id" title="lemma">dfa_void_correct</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> (<a class="idref" href="RegLang.dfa.html#dfa_void"><span class="id" title="definition">dfa_void</span></a> <span class="id" title="var">char</span>) =&gt; <span class="id" title="var">w</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#negbTE"><span class="id" title="lemma">negbTE</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_void_correct"><span class="id" title="lemma">dfa_void_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab15"></a><h2 class="section">Residucal Criterion</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a name="NonRegular"><span class="id" title="section">NonRegular</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variables</span> (<a name="NonRegular.char"><span class="id" title="variable">char</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) .<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">L</span> : <a class="idref" href="RegLang.languages.html#lang"><span class="id" title="definition">lang</span></a> <a class="idref" href="RegLang.dfa.html#NonRegular.char"><span class="id" title="variable">char</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="residual"><span class="id" title="definition">residual</span></a> <span class="id" title="var">L</span> <span class="id" title="var">x</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">y</span> =&gt; <a class="idref" href="RegLang.dfa.html#L"><span class="id" title="variable">L</span></a> (<a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <a class="idref" href="RegLang.dfa.html#y"><span class="id" title="variable">y</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="residualP"><span class="id" title="lemma">residualP</span></a> (<span class="id" title="var">f</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.languages.html#word"><span class="id" title="definition">word</span></a> <a class="idref" href="RegLang.dfa.html#NonRegular.char"><span class="id" title="variable">char</span></a>) (<span class="id" title="var">L</span> : <a class="idref" href="RegLang.languages.html#lang"><span class="id" title="definition">lang</span></a> <a class="idref" href="RegLang.dfa.html#NonRegular.char"><span class="id" title="variable">char</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>, <a class="idref" href="RegLang.dfa.html#residual"><span class="id" title="definition">residual</span></a> <a class="idref" href="RegLang.dfa.html#L"><span class="id" title="variable">L</span></a> (<a class="idref" href="RegLang.dfa.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="RegLang.dfa.html#n1"><span class="id" title="variable">n1</span></a>) <a class="idref" href="RegLang.misc.html#703d07e7c46c749a39e9403454a8d48f"><span class="id" title="notation">=</span></a><a class="idref" href="RegLang.misc.html#703d07e7c46c749a39e9403454a8d48f"><span class="id" title="notation">p</span></a> <a class="idref" href="RegLang.dfa.html#residual"><span class="id" title="definition">residual</span></a> <a class="idref" href="RegLang.dfa.html#L"><span class="id" title="variable">L</span></a> (<a class="idref" href="RegLang.dfa.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="RegLang.dfa.html#n2"><span class="id" title="variable">n2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.dfa.html#n1"><span class="id" title="variable">n1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.dfa.html#n2"><span class="id" title="variable">n2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#inhabited"><span class="id" title="inductive">inhabited</span></a> (<a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> <a class="idref" href="RegLang.dfa.html#L"><span class="id" title="variable">L</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">f_spec</span> [[<span class="id" title="var">A</span> <span class="id" title="var">E</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">f'</span> (<span class="id" title="var">n</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">'</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">I_</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><span class="id" title="var">A</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a>) := <a class="idref" href="RegLang.dfa.html#delta_s"><span class="id" title="definition">delta_s</span></a> <span class="id" title="var">A</span> (<span class="id" title="var">f</span> <a class="idref" href="RegLang.dfa.html#n"><span class="id" title="variable">n</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">suff</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrfun.html#injective"><span class="id" title="definition">injective</span></a> <span class="id" title="var">f'</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>/<a class="idref" href="RegLang.misc.html#card_leq_inj"><span class="id" title="lemma">card_leq_inj</span></a> ; <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#card_ord"><span class="id" title="lemma">card_ord</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltnn"><span class="id" title="lemma">ltnn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">n1</span> <span class="id" title="var">H1</span>] [<span class="id" title="var">n2</span> <span class="id" title="var">H2</span>]. <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">f'</span> /<a class="idref" href="RegLang.dfa.html#delta_s"><span class="id" title="definition">delta_s</span></a> /= =&gt; <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>; <span class="id" title="tactic">change</span> (<span class="id" title="var">n1</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <span class="id" title="var">n2</span>); <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>. <span class="id" title="tactic">apply</span>: <span class="id" title="var">f_spec</span> =&gt; <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="RegLang.dfa.html#residual"><span class="id" title="definition">residual</span></a> !<span class="id" title="var">E</span> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> /<a class="idref" href="RegLang.dfa.html#dfa_accept"><span class="id" title="definition">dfa_accept</span></a> !<a class="idref" href="RegLang.dfa.html#delta_cat"><span class="id" title="lemma">delta_cat</span></a> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> (<a name="NonRegular.a"><span class="id" title="variable">a</span></a> <a name="NonRegular.b"><span class="id" title="variable">b</span></a> : <a class="idref" href="RegLang.dfa.html#NonRegular.char"><span class="id" title="variable">char</span></a>) (<a name="NonRegular.Hab"><span class="id" title="variable">Hab</span></a> : <a class="idref" href="RegLang.dfa.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#c385a484ee9d1b4e0615924561a9b75e"><span class="id" title="notation">!=</span></a> <a class="idref" href="RegLang.dfa.html#b"><span class="id" title="variable">b</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Lab"><span class="id" title="definition">Lab</span></a> <span class="id" title="var">w</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.dfa.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#nseq"><span class="id" title="definition">nseq</span></a> <a class="idref" href="RegLang.dfa.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="RegLang.dfa.html#NonRegular.a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#nseq"><span class="id" title="definition">nseq</span></a> <a class="idref" href="RegLang.dfa.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="RegLang.dfa.html#NonRegular.b"><span class="id" title="variable">b</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="count_nseq"><span class="id" title="lemma">count_nseq</span></a> (<span class="id" title="var">T</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.Exports.eqType"><span class="id" title="abbreviation">eqType</span></a>) (<span class="id" title="var">c</span> <span class="id" title="var">d</span> : <a class="idref" href="RegLang.dfa.html#T"><span class="id" title="variable">T</span></a>) <span class="id" title="var">n</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#count"><span class="id" title="definition">count</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#pred1"><span class="id" title="definition">pred1</span></a> <a class="idref" href="RegLang.dfa.html#c"><span class="id" title="variable">c</span></a>) (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#nseq"><span class="id" title="definition">nseq</span></a> <a class="idref" href="RegLang.dfa.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="RegLang.dfa.html#d"><span class="id" title="variable">d</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.dfa.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <a class="idref" href="RegLang.dfa.html#d"><span class="id" title="variable">d</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">)</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">*</span></a> <a class="idref" href="RegLang.dfa.html#n"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">n</span> =&gt; [|<span class="id" title="var">n</span>] /=; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#muln0"><span class="id" title="lemma">muln0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<span class="id" title="var">d</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <span class="id" title="var">c</span>]<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span> <span class="id" title="var">e</span>: (<span class="id" title="var">c</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <span class="id" title="var">d</span>) =&gt; /= -&gt;.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="countL"><span class="id" title="lemma">countL</span></a> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#count"><span class="id" title="definition">count</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#pred1"><span class="id" title="definition">pred1</span></a> <a class="idref" href="RegLang.dfa.html#NonRegular.a"><span class="id" title="variable">a</span></a>) (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#nseq"><span class="id" title="definition">nseq</span></a> <a class="idref" href="RegLang.dfa.html#n1"><span class="id" title="variable">n1</span></a> <a class="idref" href="RegLang.dfa.html#NonRegular.a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#nseq"><span class="id" title="definition">nseq</span></a> <a class="idref" href="RegLang.dfa.html#n2"><span class="id" title="variable">n2</span></a> <a class="idref" href="RegLang.dfa.html#NonRegular.b"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.dfa.html#n1"><span class="id" title="variable">n1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#count_cat"><span class="id" title="lemma">count_cat</span></a> !<a class="idref" href="RegLang.dfa.html#count_nseq"><span class="id" title="lemma">count_nseq</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#negbTE"><span class="id" title="lemma">negbTE</span></a> <a class="idref" href="RegLang.dfa.html#NonRegular.Hab"><span class="id" title="variable">Hab</span></a>) <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqxx"><span class="id" title="abbreviation">eqxx</span></a> //= <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mul1n"><span class="id" title="lemma">mul1n</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mul0n"><span class="id" title="lemma">mul0n</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#addn0"><span class="id" title="lemma">addn0</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="countR"><span class="id" title="lemma">countR</span></a> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#count"><span class="id" title="definition">count</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#pred1"><span class="id" title="definition">pred1</span></a> <a class="idref" href="RegLang.dfa.html#NonRegular.b"><span class="id" title="variable">b</span></a>) (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#nseq"><span class="id" title="definition">nseq</span></a> <a class="idref" href="RegLang.dfa.html#n1"><span class="id" title="variable">n1</span></a> <a class="idref" href="RegLang.dfa.html#NonRegular.a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#nseq"><span class="id" title="definition">nseq</span></a> <a class="idref" href="RegLang.dfa.html#n2"><span class="id" title="variable">n2</span></a> <a class="idref" href="RegLang.dfa.html#NonRegular.b"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.dfa.html#n2"><span class="id" title="variable">n2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#count_cat"><span class="id" title="lemma">count_cat</span></a> !<a class="idref" href="RegLang.dfa.html#count_nseq"><span class="id" title="lemma">count_nseq</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#negbTE"><span class="id" title="lemma">negbTE</span></a> <a class="idref" href="RegLang.dfa.html#NonRegular.Hab"><span class="id" title="variable">Hab</span></a>) <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqxx"><span class="id" title="abbreviation">eqxx</span></a> //= <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mul1n"><span class="id" title="lemma">mul1n</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mul0n"><span class="id" title="lemma">mul0n</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Lab_eq"><span class="id" title="lemma">Lab_eq</span></a> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span> : <a class="idref" href="RegLang.dfa.html#Lab"><span class="id" title="definition">Lab</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#nseq"><span class="id" title="definition">nseq</span></a> <a class="idref" href="RegLang.dfa.html#n1"><span class="id" title="variable">n1</span></a> <a class="idref" href="RegLang.dfa.html#NonRegular.a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#nseq"><span class="id" title="definition">nseq</span></a> <a class="idref" href="RegLang.dfa.html#n2"><span class="id" title="variable">n2</span></a> <a class="idref" href="RegLang.dfa.html#NonRegular.b"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.dfa.html#n1"><span class="id" title="variable">n1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.dfa.html#n2"><span class="id" title="variable">n2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">n</span> <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -[<span class="id" title="var">n1</span>](<a class="idref" href="RegLang.dfa.html#countL"><span class="id" title="lemma">countL</span></a> <span class="id" title="var">_</span> <span class="id" title="var">n2</span>) -{2}[<span class="id" title="var">n2</span>](<a class="idref" href="RegLang.dfa.html#countR"><span class="id" title="lemma">countR</span></a> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>) <span class="id" title="var">H</span> <a class="idref" href="RegLang.dfa.html#countL"><span class="id" title="lemma">countL</span></a> <a class="idref" href="RegLang.dfa.html#countR"><span class="id" title="lemma">countR</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Lab_not_regular"><span class="id" title="lemma">Lab_not_regular</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#inhabited"><span class="id" title="inductive">inhabited</span></a> (<a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> <a class="idref" href="RegLang.dfa.html#Lab"><span class="id" title="definition">Lab</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">f</span> <span class="id" title="var">n</span> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#nseq"><span class="id" title="definition">nseq</span></a> <a class="idref" href="RegLang.dfa.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="RegLang.dfa.html#NonRegular.a"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (@<a class="idref" href="RegLang.dfa.html#residualP"><span class="id" title="lemma">residualP</span></a> <span class="id" title="var">f</span>) =&gt; <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>. <span class="id" title="tactic">move</span>/(<span class="id" title="var">_</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#nseq"><span class="id" title="definition">nseq</span></a> <span class="id" title="var">n2</span> <a class="idref" href="RegLang.dfa.html#NonRegular.b"><span class="id" title="variable">b</span></a>)) =&gt; <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.dfa.html#Lab_eq"><span class="id" title="lemma">Lab_eq</span></a>. <span class="id" title="tactic">apply</span>/<span class="id" title="var">H</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">n2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RegLang.dfa.html#NonRegular"><span class="id" title="section">NonRegular</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab16"></a><h2 class="section">Pumping Lemma</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a name="Pumping"><span class="id" title="section">Pumping</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="sub"><span class="id" title="definition">sub</span></a> (<span class="id" title="var">T</span>:<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.Exports.eqType"><span class="id" title="abbreviation">eqType</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">j</span> (<span class="id" title="var">s</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> <a class="idref" href="RegLang.dfa.html#T"><span class="id" title="variable">T</span></a>) := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#take"><span class="id" title="definition">take</span></a> (<a class="idref" href="RegLang.dfa.html#j"><span class="id" title="variable">j</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#7825ccc99f23b0d30c9d40c317ba7af0"><span class="id" title="notation">-</span></a><a class="idref" href="RegLang.dfa.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#drop"><span class="id" title="definition">drop</span></a> <a class="idref" href="RegLang.dfa.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="RegLang.dfa.html#s"><span class="id" title="variable">s</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="rep"><span class="id" title="definition">rep</span></a> (<span class="id" title="var">T</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.Exports.eqType"><span class="id" title="abbreviation">eqType</span></a>) (<span class="id" title="var">s</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> <a class="idref" href="RegLang.dfa.html#T"><span class="id" title="variable">T</span></a>) <span class="id" title="var">n</span> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#iter"><span class="id" title="definition">iter</span></a> <a class="idref" href="RegLang.dfa.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#cat"><span class="id" title="definition">cat</span></a> <a class="idref" href="RegLang.dfa.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626"><span class="id" title="notation">[::]</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="Pumping.char"><span class="id" title="variable">char</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="delta_rep"><span class="id" title="lemma">delta_rep</span></a> (<span class="id" title="var">A</span> : <a class="idref" href="RegLang.dfa.html#dfa"><span class="id" title="record">dfa</span></a> <a class="idref" href="RegLang.dfa.html#Pumping.char"><span class="id" title="variable">char</span></a>) (<span class="id" title="var">p</span> : <a class="idref" href="RegLang.dfa.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">i</span> : <a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> <a class="idref" href="RegLang.dfa.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.dfa.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> <a class="idref" href="RegLang.dfa.html#p"><span class="id" title="variable">p</span></a> (<a class="idref" href="RegLang.dfa.html#rep"><span class="id" title="definition">rep</span></a> <a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.dfa.html#i"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.dfa.html#p"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">elim</span>: <span class="id" title="var">i</span> =&gt; //= <span class="id" title="var">i</span> <span class="id" title="var">IH</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.dfa.html#delta_cat"><span class="id" title="lemma">delta_cat</span></a> <span class="id" title="var">H</span> <span class="id" title="var">IH</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="pump_dfa"><span class="id" title="lemma">pump_dfa</span></a> (<span class="id" title="var">A</span> : <a class="idref" href="RegLang.dfa.html#dfa"><span class="id" title="record">dfa</span></a> <a class="idref" href="RegLang.dfa.html#Pumping.char"><span class="id" title="variable">char</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <a class="idref" href="RegLang.dfa.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <a class="idref" href="RegLang.dfa.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.dfa.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="RegLang.dfa.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#00fe0eaf5e6949f0a31725357afa4bba"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="RegLang.dfa.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">w</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681"><span class="id" title="notation">[/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#nilp"><span class="id" title="definition">nilp</span></a> <a class="idref" href="RegLang.dfa.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.dfa.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.dfa.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <a class="idref" href="RegLang.dfa.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <a class="idref" href="RegLang.dfa.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681"><span class="id" title="notation">&amp;</span></a> <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <a class="idref" href="RegLang.dfa.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <a class="idref" href="RegLang.dfa.html#rep"><span class="id" title="definition">rep</span></a> <a class="idref" href="RegLang.dfa.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="RegLang.dfa.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <a class="idref" href="RegLang.dfa.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <a class="idref" href="RegLang.dfa.html#z"><span class="id" title="variable">z</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.dfa.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="RegLang.dfa.html#delta_lang"><span class="id" title="lemma">delta_lang</span></a> =&gt; <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#injectivePn"><span class="id" title="lemma">injectivePn</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#injectiveb"><span class="id" title="definition">injectiveb</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">i</span> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">'</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">I_</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <span class="id" title="var">y</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> (<a class="idref" href="RegLang.dfa.html#delta_s"><span class="id" title="definition">delta_s</span></a> <span class="id" title="var">A</span> <span class="id" title="var">x</span>) (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#take"><span class="id" title="definition">take</span></a> <a class="idref" href="RegLang.dfa.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="var">y</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#contraL"><span class="id" title="lemma">contraL</span></a> <span class="id" title="var">H2</span> =&gt; /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#injectiveP"><span class="id" title="lemma">injectiveP</span></a>/<a class="idref" href="RegLang.misc.html#card_leq_inj"><span class="id" title="lemma">card_leq_inj</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#leqNgt"><span class="id" title="lemma">leqNgt</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#card_ord"><span class="id" title="lemma">card_ord</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">i</span>] [<span class="id" title="var">j</span>] <span class="id" title="var">ij</span> <span class="id" title="var">fij</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">wlog</span> {<span class="id" title="var">ij</span>} <span class="id" title="var">ij</span> : <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">fij</span> / <span class="id" title="var">i</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#00fe0eaf5e6949f0a31725357afa4bba"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">j</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#neq_ltn"><span class="id" title="lemma">neq_ltn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ij</span>. <span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a> : <span class="id" title="var">ij</span> =&gt; <span class="id" title="var">ij</span> <span class="id" title="var">W</span>; <span class="id" title="tactic">exact</span>: <span class="id" title="var">W</span> <span class="id" title="var">_</span> <span class="id" title="var">ij</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#take"><span class="id" title="definition">take</span></a> <span class="id" title="var">i</span> <span class="id" title="var">y</span>). <span class="id" title="tactic">exists</span> (<a class="idref" href="RegLang.dfa.html#sub"><span class="id" title="definition">sub</span></a> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">y</span>). <span class="id" title="tactic">exists</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#drop"><span class="id" title="definition">drop</span></a> <span class="id" title="var">j</span> <span class="id" title="var">y</span>). <span class="id" title="tactic">split</span> =&gt; [||<span class="id" title="var">k</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#contraL"><span class="id" title="lemma">contraL</span></a> <span class="id" title="var">ij</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#nilp"><span class="id" title="definition">nilp</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size_take"><span class="id" title="lemma">size_take</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size_drop"><span class="id" title="lemma">size_drop</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltn_sub2r"><span class="id" title="lemma">ltn_sub2r</span></a> ?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ltn_ord"><span class="id" title="lemma">ltn_ord</span></a> // <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#subn_eq0"><span class="id" title="lemma">subn_eq0</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#leqNgt"><span class="id" title="lemma">leqNgt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#catA"><span class="id" title="lemma">catA</span></a> -<a class="idref" href="RegLang.misc.html#take_addn"><span class="id" title="lemma">take_addn</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#subnKC"><span class="id" title="lemma">subnKC</span></a> 1?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltnW"><span class="id" title="lemma">ltnW</span></a> // <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#cat_take_drop"><span class="id" title="lemma">cat_take_drop</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> /<a class="idref" href="RegLang.dfa.html#dfa_accept"><span class="id" title="definition">dfa_accept</span></a> !<a class="idref" href="RegLang.dfa.html#delta_cat"><span class="id" title="lemma">delta_cat</span></a> <a class="idref" href="RegLang.dfa.html#delta_rep"><span class="id" title="lemma">delta_rep</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">fij</span> -!<a class="idref" href="RegLang.dfa.html#delta_cat"><span class="id" title="lemma">delta_cat</span></a> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#catA"><span class="id" title="lemma">catA</span></a> -[<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <span class="id" title="var">_</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">)</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <span class="id" title="var">_</span>]<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#catA"><span class="id" title="lemma">catA</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#cat_take_drop"><span class="id" title="lemma">cat_take_drop</span></a> -!<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#catA"><span class="id" title="lemma">catA</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="RegLang.dfa.html#delta_cat"><span class="id" title="lemma">delta_cat</span></a> -<a class="idref" href="RegLang.misc.html#take_addn"><span class="id" title="lemma">take_addn</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#subnKC"><span class="id" title="lemma">subnKC</span></a> //. <span class="id" title="tactic">exact</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltnW"><span class="id" title="lemma">ltnW</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="pumping"><span class="id" title="lemma">pumping</span></a> (<span class="id" title="var">L</span> : <a class="idref" href="RegLang.languages.html#word"><span class="id" title="definition">word</span></a> <a class="idref" href="RegLang.dfa.html#Pumping.char"><span class="id" title="variable">char</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">k</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.dfa.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="RegLang.dfa.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="RegLang.dfa.html#L"><span class="id" title="variable">L</span></a> (<a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <a class="idref" href="RegLang.dfa.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <a class="idref" href="RegLang.dfa.html#z"><span class="id" title="variable">z</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">w</span>, <a class="idref" href="RegLang.dfa.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.dfa.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <a class="idref" href="RegLang.dfa.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <a class="idref" href="RegLang.dfa.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#nilp"><span class="id" title="definition">nilp</span></a> <a class="idref" href="RegLang.dfa.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.dfa.html#L"><span class="id" title="variable">L</span></a> (<a class="idref" href="RegLang.dfa.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <a class="idref" href="RegLang.dfa.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <a class="idref" href="RegLang.dfa.html#rep"><span class="id" title="definition">rep</span></a> <a class="idref" href="RegLang.dfa.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="RegLang.dfa.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <a class="idref" href="RegLang.dfa.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <a class="idref" href="RegLang.dfa.html#z"><span class="id" title="variable">z</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#inhabited"><span class="id" title="inductive">inhabited</span></a> (<a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> <a class="idref" href="RegLang.dfa.html#L"><span class="id" title="variable">L</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">H</span> [[<span class="id" title="var">A</span> <span class="id" title="var">LA</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/(<span class="id" title="var">_</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><span class="id" title="var">A</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a>) : <span class="id" title="var">H</span> =&gt; [<span class="id" title="var">x</span>] [<span class="id" title="var">y</span>] [<span class="id" title="var">z</span>] [<span class="id" title="var">size_y</span> [/<span class="id" title="var">LA</span> <span class="id" title="var">Lxyz</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="RegLang.dfa.html#pump_dfa"><span class="id" title="lemma">pump_dfa</span></a> <span class="id" title="var">Lxyz</span> <span class="id" title="var">size_y</span>) =&gt; [<span class="id" title="var">u</span>] [<span class="id" title="var">v</span>] [<span class="id" title="var">w</span>] [<span class="id" title="var">Hn</span> <span class="id" title="var">Hy</span> <span class="id" title="var">Hv</span>] /(<span class="id" title="var">_</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span> <span class="id" title="var">w</span> <span class="id" title="var">Hy</span> <span class="id" title="var">Hn</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">i</span>]. <span class="id" title="tactic">apply</span>. <span class="id" title="tactic">exact</span>/<span class="id" title="var">LA</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="cat_nseq_eq"><span class="id" title="lemma">cat_nseq_eq</span></a> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span> (<span class="id" title="var">a</span> : <a class="idref" href="RegLang.dfa.html#Pumping.char"><span class="id" title="variable">char</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#nseq"><span class="id" title="definition">nseq</span></a> <a class="idref" href="RegLang.dfa.html#n1"><span class="id" title="variable">n1</span></a> <a class="idref" href="RegLang.dfa.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#nseq"><span class="id" title="definition">nseq</span></a> <a class="idref" href="RegLang.dfa.html#n2"><span class="id" title="variable">n2</span></a> <a class="idref" href="RegLang.dfa.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#nseq"><span class="id" title="definition">nseq</span></a> (<a class="idref" href="RegLang.dfa.html#n1"><span class="id" title="variable">n1</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="RegLang.dfa.html#n2"><span class="id" title="variable">n2</span></a>) <a class="idref" href="RegLang.dfa.html#a"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">elim</span>: <span class="id" title="var">n1</span> =&gt; [|<span class="id" title="var">n1</span> <span class="id" title="var">IHn1</span>] //=. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#cat1s"><span class="id" title="lemma">cat1s</span></a> <span class="id" title="var">IHn1</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a name="pump_Lab"><span class="id" title="definition">pump_Lab</span></a> (<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <a class="idref" href="RegLang.dfa.html#Pumping.char"><span class="id" title="variable">char</span></a>) : <a class="idref" href="RegLang.dfa.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#c385a484ee9d1b4e0615924561a9b75e"><span class="id" title="notation">!=</span></a> <a class="idref" href="RegLang.dfa.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#inhabited"><span class="id" title="inductive">inhabited</span></a> (<a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> (<a class="idref" href="RegLang.dfa.html#Lab"><span class="id" title="definition">Lab</span></a> <a class="idref" href="RegLang.dfa.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="RegLang.dfa.html#b"><span class="id" title="variable">b</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">neq</span>. <span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.dfa.html#pumping"><span class="id" title="lemma">pumping</span></a> =&gt; <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626"><span class="id" title="notation">[::]</span></a>. <span class="id" title="tactic">exists</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#nseq"><span class="id" title="definition">nseq</span></a> <span class="id" title="var">k</span> <span class="id" title="var">a</span>). <span class="id" title="tactic">exists</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#nseq"><span class="id" title="definition">nseq</span></a> <span class="id" title="var">k</span> <span class="id" title="var">b</span>). <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size_nseq"><span class="id" title="lemma">size_nseq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">u</span> [|<span class="id" title="var">c</span> <span class="id" title="var">v</span>] <span class="id" title="var">w</span> // /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> <span class="id" title="var">e</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">exists</span> 0 =&gt; /= <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hk</span>: <span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> (<span class="id" title="var">u</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">(</span></a><span class="id" title="var">c</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#407cde5b61fbf27196d1a7c5a475e083"><span class="id" title="notation">::</span></a><span class="id" title="var">v</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">)</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <span class="id" title="var">w</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -[<span class="id" title="var">k</span>](@<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size_nseq"><span class="id" title="lemma">size_nseq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">a</span>) (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hk</span> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size_cat"><span class="id" title="lemma">size_cat</span></a> -!<a class="idref" href="RegLang.dfa.html#cat_nseq_eq"><span class="id" title="lemma">cat_nseq_eq</span></a> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#eqseq_cat"><span class="id" title="lemma">eqseq_cat</span></a> ?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size_nseq"><span class="id" title="lemma">size_nseq</span></a> // <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.ssr.ssrbool.html#and3P"><span class="id" title="lemma">and3P</span></a> : <span class="id" title="var">e</span> =&gt; [/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> <span class="id" title="var">Hu</span> /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> <span class="id" title="var">Hv</span> /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> <span class="id" title="var">Hw</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hu</span> -<span class="id" title="var">Hw</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#catA"><span class="id" title="lemma">catA</span></a> <a class="idref" href="RegLang.dfa.html#cat_nseq_eq"><span class="id" title="lemma">cat_nseq_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">move</span>/(<a class="idref" href="RegLang.dfa.html#Lab_eq"><span class="id" title="lemma">Lab_eq</span></a> <span class="id" title="var">neq</span>) : <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hk</span> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size_cat"><span class="id" title="lemma">size_cat</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#eqn_add2l"><span class="id" title="lemma">eqn_add2l</span></a> -{1}[<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <span class="id" title="var">w</span>]<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#add0n"><span class="id" title="lemma">add0n</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#eqn_add2r"><span class="id" title="lemma">eqn_add2r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RegLang.dfa.html#Pumping"><span class="id" title="section">Pumping</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/coq-community/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
