<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../../..">Project Website</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="comment">(*&nbsp;Authors:&nbsp;Christian&nbsp;Doczkal&nbsp;and&nbsp;Jan-Oliver&nbsp;Kaiser&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;Distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;CeCILL-B.&nbsp;*)</span><br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">mathcomp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssreflect.html#"><span class="id" title="library">ssreflect</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrfun.html#"><span class="id" title="library">ssrfun</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrbool.html#"><span class="id" title="library">ssrbool</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#"><span class="id" title="library">eqtype</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#"><span class="id" title="library">ssrnat</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#"><span class="id" title="library">seq</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#"><span class="id" title="library">choice</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">mathcomp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#"><span class="id" title="library">fintype</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.path.html#"><span class="id" title="library">path</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fingraph.html#"><span class="id" title="library">fingraph</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finfun.html#"><span class="id" title="library">finfun</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#"><span class="id" title="library">finset</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#"><span class="id" title="library">generic_quotient</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">RegLang</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="RegLang.misc.html#"><span class="id" title="library">misc</span></a> <a class="idref" href="RegLang.languages.html#"><span class="id" title="library">languages</span></a> <a class="idref" href="RegLang.dfa.html#"><span class="id" title="library">dfa</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span> "Type".<br/>

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Printing</span> <span class="id" title="keyword">Implicit</span> <span class="id" title="var">Defensive</span>.<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Strict</span> <span class="id" title="keyword">Implicit</span>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">quotient_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab28"></a><h1 class="section">DFA Minimization</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="Minimization" class="idref" href="#Minimization"><span class="id" title="section">Minimization</span></a>.<br/>
<span class="id" title="keyword">Variable</span> (<a id="Minimization.char" class="idref" href="#Minimization.char"><span class="id" title="variable">char</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>).<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <a id="word" class="idref" href="#word"><span class="id" title="abbreviation">word</span></a> := (<a class="idref" href="RegLang.languages.html#word"><span class="id" title="definition">word</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.char"><span class="id" title="variable">char</span></a>).<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <a id="dfa" class="idref" href="#dfa"><span class="id" title="abbreviation">dfa</span></a> := (<a class="idref" href="RegLang.dfa.html#dfa"><span class="id" title="record">dfa</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.char"><span class="id" title="variable">char</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="coll" class="idref" href="#coll"><span class="id" title="definition">coll</span></a> (<a id="A:2" class="idref" href="#A:2"><span class="id" title="binder">A</span></a> : <a class="idref" href="RegLang.minimization.html#dfa"><span class="id" title="abbreviation">dfa</span></a>) <a id="x:3" class="idref" href="#x:3"><span class="id" title="binder">x</span></a> <a id="y:4" class="idref" href="#y:4"><span class="id" title="binder">y</span></a> := <span class="id" title="keyword">forall</span> <a id="w:5" class="idref" href="#w:5"><span class="id" title="binder">w</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> <a class="idref" href="RegLang.minimization.html#x:3"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.minimization.html#w:5"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_fin"><span class="id" title="projection">dfa_fin</span></a> <a class="idref" href="RegLang.minimization.html#A:2"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> <a class="idref" href="RegLang.minimization.html#y:4"><span class="id" title="variable">y</span></a> <a class="idref" href="RegLang.minimization.html#w:5"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_fin"><span class="id" title="projection">dfa_fin</span></a> <a class="idref" href="RegLang.minimization.html#A:2"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="connected" class="idref" href="#connected"><span class="id" title="definition">connected</span></a> (<a id="A:6" class="idref" href="#A:6"><span class="id" title="binder">A</span></a> : <a class="idref" href="RegLang.minimization.html#dfa"><span class="id" title="abbreviation">dfa</span></a>) := <a class="idref" href="RegLang.misc.html#surjective"><span class="id" title="definition">surjective</span></a> (<a class="idref" href="RegLang.dfa.html#delta_s"><span class="id" title="definition">delta_s</span></a> <a class="idref" href="RegLang.minimization.html#A:6"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a id="collapsed" class="idref" href="#collapsed"><span class="id" title="definition">collapsed</span></a> (<a id="A:7" class="idref" href="#A:7"><span class="id" title="binder">A</span></a> : <a class="idref" href="RegLang.minimization.html#dfa"><span class="id" title="abbreviation">dfa</span></a>) := <span class="id" title="keyword">forall</span> <a id="x:8" class="idref" href="#x:8"><span class="id" title="binder">x</span></a> <a id="y:9" class="idref" href="#y:9"><span class="id" title="binder">y</span></a>: <a class="idref" href="RegLang.minimization.html#A:7"><span class="id" title="variable">A</span></a>, <a class="idref" href="RegLang.minimization.html#coll"><span class="id" title="definition">coll</span></a> <a class="idref" href="RegLang.minimization.html#x:8"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.minimization.html#y:9"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="RegLang.minimization.html#x:8"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.minimization.html#y:9"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="minimal" class="idref" href="#minimal"><span class="id" title="definition">minimal</span></a> (<a id="A:10" class="idref" href="#A:10"><span class="id" title="binder">A</span></a> : <a class="idref" href="RegLang.minimization.html#dfa"><span class="id" title="abbreviation">dfa</span></a>) := <span class="id" title="keyword">forall</span> <a id="B:11" class="idref" href="#B:11"><span class="id" title="binder">B</span></a>, <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.minimization.html#A:10"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">i</span></a> <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.minimization.html#B:11"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="RegLang.minimization.html#A:10"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="RegLang.minimization.html#B:11"><span class="id" title="variable">B</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab29"></a><h2 class="section">Uniqueness of connected and collapsed automata</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="dfa_iso" class="idref" href="#dfa_iso"><span class="id" title="definition">dfa_iso</span></a> (<a id="A1:12" class="idref" href="#A1:12"><span class="id" title="binder">A1</span></a> <a id="A2:13" class="idref" href="#A2:13"><span class="id" title="binder">A2</span></a> : <a class="idref" href="RegLang.minimization.html#dfa"><span class="id" title="abbreviation">dfa</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="i:14" class="idref" href="#i:14"><span class="id" title="binder">i</span></a>: <a class="idref" href="RegLang.minimization.html#A1:12"><span class="id" title="variable">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.minimization.html#A2:13"><span class="id" title="variable">A2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#554fc3f3cf0a27fe0863b7741d119014"><span class="id" title="notation">[/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrfun.html#bijective"><span class="id" title="inductive">bijective</span></a> <a class="idref" href="RegLang.minimization.html#i:14"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#554fc3f3cf0a27fe0863b7741d119014"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="x:15" class="idref" href="#x:15"><span class="id" title="binder">x</span></a> <a id="a:16" class="idref" href="#a:16"><span class="id" title="binder">a</span></a>, <a class="idref" href="RegLang.minimization.html#i:14"><span class="id" title="variable">i</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_trans"><span class="id" title="projection">dfa_trans</span></a> <a class="idref" href="RegLang.minimization.html#x:15"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.minimization.html#a:16"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.dfa.html#dfa_trans"><span class="id" title="projection">dfa_trans</span></a> (<a class="idref" href="RegLang.minimization.html#i:14"><span class="id" title="variable">i</span></a> <a class="idref" href="RegLang.minimization.html#x:15"><span class="id" title="variable">x</span></a>) <a class="idref" href="RegLang.minimization.html#a:16"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#554fc3f3cf0a27fe0863b7741d119014"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="x:17" class="idref" href="#x:17"><span class="id" title="binder">x</span></a>, <a class="idref" href="RegLang.minimization.html#i:14"><span class="id" title="variable">i</span></a> (<a class="idref" href="RegLang.minimization.html#x:17"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_fin"><span class="id" title="projection">dfa_fin</span></a> <a class="idref" href="RegLang.minimization.html#A2:13"><span class="id" title="variable">A2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.minimization.html#x:17"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_fin"><span class="id" title="projection">dfa_fin</span></a> <a class="idref" href="RegLang.minimization.html#A1:12"><span class="id" title="variable">A1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#554fc3f3cf0a27fe0863b7741d119014"><span class="id" title="notation">&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.minimization.html#i:14"><span class="id" title="variable">i</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_s"><span class="id" title="projection">dfa_s</span></a> <a class="idref" href="RegLang.minimization.html#A1:12"><span class="id" title="variable">A1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.dfa.html#dfa_s"><span class="id" title="projection">dfa_s</span></a> <a class="idref" href="RegLang.minimization.html#A2:13"><span class="id" title="variable">A2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#554fc3f3cf0a27fe0863b7741d119014"><span class="id" title="notation">]</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Minimization.Isomopism" class="idref" href="#Minimization.Isomopism"><span class="id" title="section">Isomopism</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variables</span> (<a id="Minimization.Isomopism.A" class="idref" href="#Minimization.Isomopism.A"><span class="id" title="variable">A</span></a> <a id="Minimization.Isomopism.B" class="idref" href="#Minimization.Isomopism.B"><span class="id" title="variable">B</span></a> : <a class="idref" href="RegLang.minimization.html#dfa"><span class="id" title="abbreviation">dfa</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a id="Minimization.Isomopism.L_AB" class="idref" href="#Minimization.Isomopism.L_AB"><span class="id" title="variable">L_AB</span></a> : <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.Isomopism.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">i</span></a> <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.Isomopism.B"><span class="id" title="variable">B</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> (<a id="Minimization.Isomopism.A_coll" class="idref" href="#Minimization.Isomopism.A_coll"><span class="id" title="variable">A_coll</span></a>: <a class="idref" href="RegLang.minimization.html#collapsed"><span class="id" title="definition">collapsed</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.Isomopism.A"><span class="id" title="variable">A</span></a>) (<a id="Minimization.Isomopism.B_coll" class="idref" href="#Minimization.Isomopism.B_coll"><span class="id" title="variable">B_coll</span></a>: <a class="idref" href="RegLang.minimization.html#collapsed"><span class="id" title="definition">collapsed</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.Isomopism.B"><span class="id" title="variable">B</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> (<a id="Minimization.Isomopism.A_conn" class="idref" href="#Minimization.Isomopism.A_conn"><span class="id" title="variable">A_conn</span></a> : <a class="idref" href="RegLang.minimization.html#connected"><span class="id" title="definition">connected</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.Isomopism.A"><span class="id" title="variable">A</span></a>) (<a id="Minimization.Isomopism.B_conn" class="idref" href="#Minimization.Isomopism.B_conn"><span class="id" title="variable">B_conn</span></a> : <a class="idref" href="RegLang.minimization.html#connected"><span class="id" title="definition">connected</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.Isomopism.B"><span class="id" title="variable">B</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="iso" class="idref" href="#iso"><span class="id" title="definition">iso</span></a> := <a class="idref" href="RegLang.dfa.html#delta_s"><span class="id" title="definition">delta_s</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.Isomopism.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e"><span class="id" title="notation">o</span></a> <a class="idref" href="RegLang.misc.html#cr"><span class="id" title="definition">cr</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.Isomopism.A_conn"><span class="id" title="variable">A_conn</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="iso_inv" class="idref" href="#iso_inv"><span class="id" title="definition">iso_inv</span></a> := <a class="idref" href="RegLang.dfa.html#delta_s"><span class="id" title="definition">delta_s</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.Isomopism.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e"><span class="id" title="notation">o</span></a> <a class="idref" href="RegLang.misc.html#cr"><span class="id" title="definition">cr</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.Isomopism.B_conn"><span class="id" title="variable">B_conn</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="delta_iso" class="idref" href="#delta_iso"><span class="id" title="lemma">delta_iso</span></a> <a id="w:25" class="idref" href="#w:25"><span class="id" title="binder">w</span></a> <a id="x:26" class="idref" href="#x:26"><span class="id" title="binder">x</span></a> : <a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> (<a class="idref" href="RegLang.minimization.html#iso"><span class="id" title="definition">iso</span></a> <a class="idref" href="RegLang.minimization.html#x:26"><span class="id" title="variable">x</span></a>) <a class="idref" href="RegLang.minimization.html#w:25"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_fin"><span class="id" title="projection">dfa_fin</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.Isomopism.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> <a class="idref" href="RegLang.minimization.html#x:26"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.minimization.html#w:25"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_fin"><span class="id" title="projection">dfa_fin</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.Isomopism.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">L_AB</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -{2}[<span class="id" title="var">x</span>](<a class="idref" href="RegLang.misc.html#crK"><span class="id" title="lemma">crK</span></a> (<span class="id" title="var">Sf</span> := <a class="idref" href="RegLang.minimization.html#Minimization.Isomopism.A_conn"><span class="id" title="variable">A_conn</span></a>)) -!<a class="idref" href="RegLang.dfa.html#delta_cat"><span class="id" title="lemma">delta_cat</span></a> !<a class="idref" href="RegLang.dfa.html#delta_lang"><span class="id" title="lemma">delta_lang</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.Isomopism.L_AB"><span class="id" title="variable">L_AB</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="delta_iso_inv" class="idref" href="#delta_iso_inv"><span class="id" title="lemma">delta_iso_inv</span></a> <a id="w:27" class="idref" href="#w:27"><span class="id" title="binder">w</span></a> <a id="x:28" class="idref" href="#x:28"><span class="id" title="binder">x</span></a> : <a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> (<a class="idref" href="RegLang.minimization.html#iso_inv"><span class="id" title="definition">iso_inv</span></a> <a class="idref" href="RegLang.minimization.html#x:28"><span class="id" title="variable">x</span></a>) <a class="idref" href="RegLang.minimization.html#w:27"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_fin"><span class="id" title="projection">dfa_fin</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.Isomopism.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> <a class="idref" href="RegLang.minimization.html#x:28"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.minimization.html#w:27"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_fin"><span class="id" title="projection">dfa_fin</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.Isomopism.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">L_AB</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -{2}[<span class="id" title="var">x</span>](<a class="idref" href="RegLang.misc.html#crK"><span class="id" title="lemma">crK</span></a> (<span class="id" title="var">Sf</span> := <a class="idref" href="RegLang.minimization.html#Minimization.Isomopism.B_conn"><span class="id" title="variable">B_conn</span></a>)) -!<a class="idref" href="RegLang.dfa.html#delta_cat"><span class="id" title="lemma">delta_cat</span></a> !<a class="idref" href="RegLang.dfa.html#delta_lang"><span class="id" title="lemma">delta_lang</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.Isomopism.L_AB"><span class="id" title="variable">L_AB</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="can_iso" class="idref" href="#can_iso"><span class="id" title="lemma">can_iso</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrfun.html#cancel"><span class="id" title="definition">cancel</span></a> <a class="idref" href="RegLang.minimization.html#iso_inv"><span class="id" title="definition">iso_inv</span></a> <a class="idref" href="RegLang.minimization.html#iso"><span class="id" title="definition">iso</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">B_coll</span> <span class="id" title="var">L_AB</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span>. <span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.minimization.html#Minimization.Isomopism.B_coll"><span class="id" title="variable">B_coll</span></a> =&gt; <span class="id" title="var">w</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.minimization.html#delta_iso"><span class="id" title="lemma">delta_iso</span></a> <a class="idref" href="RegLang.minimization.html#delta_iso_inv"><span class="id" title="lemma">delta_iso_inv</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="can_iso_inv" class="idref" href="#can_iso_inv"><span class="id" title="lemma">can_iso_inv</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrfun.html#cancel"><span class="id" title="definition">cancel</span></a> <a class="idref" href="RegLang.minimization.html#iso"><span class="id" title="definition">iso</span></a> <a class="idref" href="RegLang.minimization.html#iso_inv"><span class="id" title="definition">iso_inv</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">A_coll</span> <span class="id" title="var">L_AB</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span>. <span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.minimization.html#Minimization.Isomopism.A_coll"><span class="id" title="variable">A_coll</span></a> =&gt; <span class="id" title="var">w</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.minimization.html#delta_iso_inv"><span class="id" title="lemma">delta_iso_inv</span></a> <a class="idref" href="RegLang.minimization.html#delta_iso"><span class="id" title="lemma">delta_iso</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="coll_iso" class="idref" href="#coll_iso"><span class="id" title="lemma">coll_iso</span></a> : <a class="idref" href="RegLang.minimization.html#dfa_iso"><span class="id" title="definition">dfa_iso</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.Isomopism.A"><span class="id" title="variable">A</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.Isomopism.B"><span class="id" title="variable">B</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">A_coll</span> <span class="id" title="var">B_coll</span> <span class="id" title="var">A_conn</span> <span class="id" title="var">B_conn</span> <span class="id" title="var">L_AB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="RegLang.minimization.html#iso"><span class="id" title="definition">iso</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrfun.html#Bijective"><span class="id" title="constructor">Bijective</span></a> <a class="idref" href="RegLang.minimization.html#can_iso_inv"><span class="id" title="lemma">can_iso_inv</span></a> <a class="idref" href="RegLang.minimization.html#can_iso"><span class="id" title="lemma">can_iso</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.minimization.html#Minimization.Isomopism.B_coll"><span class="id" title="variable">B_coll</span></a> =&gt; <span class="id" title="var">w</span>. <span class="id" title="tactic">rewrite</span> -[<span class="id" title="var">_</span> (<a class="idref" href="RegLang.minimization.html#iso"><span class="id" title="definition">iso</span></a> <span class="id" title="var">x</span>) <span class="id" title="var">a</span>]/(<a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> (<a class="idref" href="RegLang.minimization.html#iso"><span class="id" title="definition">iso</span></a> <span class="id" title="var">x</span>) <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">[::</span></a><span class="id" title="var">a</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="RegLang.dfa.html#delta_cat"><span class="id" title="lemma">delta_cat</span></a> -!<a class="idref" href="RegLang.minimization.html#delta_iso_inv"><span class="id" title="lemma">delta_iso_inv</span></a> !<a class="idref" href="RegLang.minimization.html#can_iso_inv"><span class="id" title="lemma">can_iso_inv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -[<a class="idref" href="RegLang.minimization.html#iso"><span class="id" title="definition">iso</span></a> <span class="id" title="var">x</span>]/(<a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626"><span class="id" title="notation">[::]</span></a>) <a class="idref" href="RegLang.minimization.html#delta_iso"><span class="id" title="lemma">delta_iso</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.minimization.html#Minimization.Isomopism.B_coll"><span class="id" title="variable">B_coll</span></a> =&gt; <span class="id" title="var">w</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.minimization.html#delta_iso"><span class="id" title="lemma">delta_iso</span></a> !<a class="idref" href="RegLang.dfa.html#delta_lang"><span class="id" title="lemma">delta_lang</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dfa_iso_size" class="idref" href="#dfa_iso_size"><span class="id" title="lemma">dfa_iso_size</span></a> : <a class="idref" href="RegLang.minimization.html#dfa_iso"><span class="id" title="definition">dfa_iso</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.Isomopism.A"><span class="id" title="variable">A</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.Isomopism.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="RegLang.minimization.html#Minimization.Isomopism.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="RegLang.minimization.html#Minimization.Isomopism.B"><span class="id" title="variable">B</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">iso</span> [<span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>]]. <span class="id" title="tactic">exact</span> (<a class="idref" href="RegLang.misc.html#bij_card"><span class="id" title="lemma">bij_card</span></a> <span class="id" title="var">H</span>). <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RegLang.minimization.html#Minimization.Isomopism"><span class="id" title="section">Isomopism</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="abstract_minimization" class="idref" href="#abstract_minimization"><span class="id" title="lemma">abstract_minimization</span></a> <a id="A:29" class="idref" href="#A:29"><span class="id" title="binder">A</span></a> <a id="f:30" class="idref" href="#f:30"><span class="id" title="binder">f</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="B:31" class="idref" href="#B:31"><span class="id" title="binder">B</span></a>, <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> (<a class="idref" href="RegLang.minimization.html#f:30"><span class="id" title="variable">f</span></a> <a class="idref" href="RegLang.minimization.html#B:31"><span class="id" title="variable">B</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">i</span></a> <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.minimization.html#B:31"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="RegLang.minimization.html#f:30"><span class="id" title="variable">f</span></a> <a class="idref" href="RegLang.minimization.html#B:31"><span class="id" title="variable">B</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="RegLang.minimization.html#B:31"><span class="id" title="variable">B</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="RegLang.minimization.html#connected"><span class="id" title="definition">connected</span></a> (<a class="idref" href="RegLang.minimization.html#f:30"><span class="id" title="variable">f</span></a> <a class="idref" href="RegLang.minimization.html#B:31"><span class="id" title="variable">B</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="RegLang.minimization.html#collapsed"><span class="id" title="definition">collapsed</span></a> (<a class="idref" href="RegLang.minimization.html#f:30"><span class="id" title="variable">f</span></a> <a class="idref" href="RegLang.minimization.html#B:31"><span class="id" title="variable">B</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.minimization.html#minimal"><span class="id" title="definition">minimal</span></a> (<a class="idref" href="RegLang.minimization.html#f:30"><span class="id" title="variable">f</span></a> <a class="idref" href="RegLang.minimization.html#A:29"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">H</span> <span class="id" title="var">B</span> <span class="id" title="var">L_AB</span>. <span class="id" title="tactic">apply</span>: (@<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#leq_trans"><span class="id" title="lemma">leq_trans</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><span class="id" title="var">f</span> <span class="id" title="var">B</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a>); <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">firstorder</span>. <span class="id" title="tactic">apply</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#eq_leq"><span class="id" title="lemma">eq_leq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.minimization.html#dfa_iso_size"><span class="id" title="lemma">dfa_iso_size</span></a>. (<span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.minimization.html#coll_iso"><span class="id" title="lemma">coll_iso</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>) =&gt; <span class="id" title="var">w</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">L_AB</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span> (<span class="id" title="var">H</span> <span class="id" title="var">B</span>) =&gt; -&gt;.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab30"></a><h2 class="section">Construction of the Connected Sub-Automaton</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="Minimization.Prune" class="idref" href="#Minimization.Prune"><span class="id" title="section">Prune</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="Minimization.Prune.A" class="idref" href="#Minimization.Prune.A"><span class="id" title="variable">A</span></a> : <a class="idref" href="RegLang.minimization.html#dfa"><span class="id" title="abbreviation">dfa</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="reachable" class="idref" href="#reachable"><span class="id" title="definition">reachable</span></a>  (<a id="q:33" class="idref" href="#q:33"><span class="id" title="binder">q</span></a>:<a class="idref" href="RegLang.minimization.html#Minimization.Prune.A"><span class="id" title="variable">A</span></a>) := <a class="idref" href="RegLang.dfa.html#exseq_dec"><span class="id" title="lemma">exseq_dec</span></a> (@<a class="idref" href="RegLang.dfa.html#delta_rc"><span class="id" title="lemma">delta_rc</span></a> <span class="id" title="var">_</span> <a class="idref" href="RegLang.minimization.html#Minimization.Prune.A"><span class="id" title="variable">A</span></a>) (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#pred1"><span class="id" title="definition">pred1</span></a> <a class="idref" href="RegLang.minimization.html#q:33"><span class="id" title="variable">q</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="connectedb" class="idref" href="#connectedb"><span class="id" title="definition">connectedb</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#fb0199913c9911d56fa87965a9a828a3"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#fb0199913c9911d56fa87965a9a828a3"><span class="id" title="notation">forall</span></a> <a id="x:34" class="idref" href="#x:34"><span class="id" title="binder">x</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#fb0199913c9911d56fa87965a9a828a3"><span class="id" title="notation">:</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.Prune.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#f3be25edeb0349b0a76405eded9d0b98"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.minimization.html#reachable"><span class="id" title="definition">reachable</span></a> <a class="idref" href="RegLang.minimization.html#x:34"><span class="id" title="variable">x</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#fb0199913c9911d56fa87965a9a828a3"><span class="id" title="notation">]</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="connectedP" class="idref" href="#connectedP"><span class="id" title="lemma">connectedP</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a> (<a class="idref" href="RegLang.minimization.html#connected"><span class="id" title="definition">connected</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.Prune.A"><span class="id" title="variable">A</span></a>) (<a class="idref" href="RegLang.minimization.html#connectedb"><span class="id" title="definition">connectedb</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#forallP"><span class="id" title="lemma">forallP</span></a>) =&gt; <span class="id" title="var">H</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>/<a class="idref" href="RegLang.misc.html#dec_eq"><span class="id" title="lemma">dec_eq</span></a>: (<span class="id" title="var">H</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.misc.html#dec_eq"><span class="id" title="lemma">dec_eq</span></a>. <span class="id" title="tactic">case</span> (<span class="id" title="var">H</span> <span class="id" title="var">y</span>) =&gt; <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="reachable_type" class="idref" href="#reachable_type"><span class="id" title="definition">reachable_type</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a> <a id="x:35" class="idref" href="#x:35"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a><a class="idref" href="RegLang.minimization.html#Minimization.Prune.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <a class="idref" href="RegLang.minimization.html#reachable"><span class="id" title="definition">reachable</span></a> <a class="idref" href="RegLang.minimization.html#x:35"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="reachable_trans_proof" class="idref" href="#reachable_trans_proof"><span class="id" title="lemma">reachable_trans_proof</span></a> (<a id="x:36" class="idref" href="#x:36"><span class="id" title="binder">x</span></a> : <a class="idref" href="RegLang.minimization.html#reachable_type"><span class="id" title="definition">reachable_type</span></a>) <a id="a:37" class="idref" href="#a:37"><span class="id" title="binder">a</span></a> : <a class="idref" href="RegLang.minimization.html#reachable"><span class="id" title="definition">reachable</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_trans"><span class="id" title="projection">dfa_trans</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="RegLang.minimization.html#x:36"><span class="id" title="variable">x</span></a>) <a class="idref" href="RegLang.minimization.html#a:37"><span class="id" title="variable">a</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.misc.html#dec_eq"><span class="id" title="lemma">dec_eq</span></a>. <span class="id" title="tactic">case</span>/<a class="idref" href="RegLang.misc.html#dec_eq"><span class="id" title="lemma">dec_eq</span></a> : (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#svalP"><span class="id" title="lemma">svalP</span></a> <span class="id" title="var">x</span>) =&gt;  /= <span class="id" title="var">y</span> /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">y</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">[::</span></a><span class="id" title="var">a</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">]</span></a>). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.dfa.html#delta_cat"><span class="id" title="lemma">delta_cat</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="reachable_trans" class="idref" href="#reachable_trans"><span class="id" title="definition">reachable_trans</span></a> (<a id="x:38" class="idref" href="#x:38"><span class="id" title="binder">x</span></a> : <a class="idref" href="RegLang.minimization.html#reachable_type"><span class="id" title="definition">reachable_type</span></a>) <a id="a:39" class="idref" href="#a:39"><span class="id" title="binder">a</span></a> : <a class="idref" href="RegLang.minimization.html#reachable_type"><span class="id" title="definition">reachable_type</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Sub"><span class="id" title="projection">Sub</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_trans"><span class="id" title="projection">dfa_trans</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="RegLang.minimization.html#x:38"><span class="id" title="variable">x</span></a>) <a class="idref" href="RegLang.minimization.html#a:39"><span class="id" title="variable">a</span></a>) (<a class="idref" href="RegLang.minimization.html#reachable_trans_proof"><span class="id" title="lemma">reachable_trans_proof</span></a> <a class="idref" href="RegLang.minimization.html#x:38"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.minimization.html#a:39"><span class="id" title="variable">a</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="reachabe_s_proof" class="idref" href="#reachabe_s_proof"><span class="id" title="lemma">reachabe_s_proof</span></a> : <a class="idref" href="RegLang.minimization.html#reachable"><span class="id" title="definition">reachable</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_s"><span class="id" title="projection">dfa_s</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.Prune.A"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.misc.html#dec_eq"><span class="id" title="lemma">dec_eq</span></a>. <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>. <span class="id" title="tactic">exact</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqxx"><span class="id" title="abbreviation">eqxx</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="reachable_s" class="idref" href="#reachable_s"><span class="id" title="definition">reachable_s</span></a> : <a class="idref" href="RegLang.minimization.html#reachable_type"><span class="id" title="definition">reachable_type</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Sub"><span class="id" title="projection">Sub</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_s"><span class="id" title="projection">dfa_s</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.Prune.A"><span class="id" title="variable">A</span></a>) <a class="idref" href="RegLang.minimization.html#reachabe_s_proof"><span class="id" title="lemma">reachabe_s_proof</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="dfa_prune" class="idref" href="#dfa_prune"><span class="id" title="definition">dfa_prune</span></a> := {|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.dfa.html#dfa_s"><span class="id" title="projection">dfa_s</span></a> := <a class="idref" href="RegLang.minimization.html#reachable_s"><span class="id" title="definition">reachable_s</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.dfa.html#dfa_fin"><span class="id" title="projection">dfa_fin</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#9e3f1d0cf47c39e3927b1f03a0797327"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#9e3f1d0cf47c39e3927b1f03a0797327"><span class="id" title="notation">set</span></a> <a id="x:40" class="idref" href="#x:40"><span class="id" title="binder">x</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#9e3f1d0cf47c39e3927b1f03a0797327"><span class="id" title="notation">|</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="RegLang.minimization.html#x:40"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_fin"><span class="id" title="projection">dfa_fin</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.Prune.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#9e3f1d0cf47c39e3927b1f03a0797327"><span class="id" title="notation">]</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.dfa.html#dfa_trans"><span class="id" title="projection">dfa_trans</span></a> := <a class="idref" href="RegLang.minimization.html#reachable_trans"><span class="id" title="definition">reachable_trans</span></a> |}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dfa_prune_correct" class="idref" href="#dfa_prune_correct"><span class="id" title="lemma">dfa_prune_correct</span></a> : <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.minimization.html#dfa_prune"><span class="id" title="definition">dfa_prune</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">i</span></a> <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.Prune.A"><span class="id" title="variable">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> /= -[<a class="idref" href="RegLang.dfa.html#dfa_s"><span class="id" title="projection">dfa_s</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.Prune.A"><span class="id" title="variable">A</span></a>]/(<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="RegLang.minimization.html#reachable_s"><span class="id" title="definition">reachable_s</span></a>) =&gt; <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>. <span class="id" title="tactic">elim</span>: <span class="id" title="var">w</span> (<a class="idref" href="RegLang.minimization.html#reachable_s"><span class="id" title="definition">reachable_s</span></a>) =&gt; [|<span class="id" title="var">a</span> <span class="id" title="var">w</span> <span class="id" title="var">IHw</span>] [<span class="id" title="var">x</span> <span class="id" title="var">Hx</span>] //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="RegLang.dfa.html#dfa_accept"><span class="id" title="definition">dfa_accept</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.dfa.html#accE"><span class="id" title="definition">accE</span></a> <span class="id" title="var">IHw</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dfa_prune_connected" class="idref" href="#dfa_prune_connected"><span class="id" title="lemma">dfa_prune_connected</span></a> : <a class="idref" href="RegLang.minimization.html#connected"><span class="id" title="definition">connected</span></a> <a class="idref" href="RegLang.minimization.html#dfa_prune"><span class="id" title="definition">dfa_prune</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">q</span>. <span class="id" title="tactic">case</span>/<a class="idref" href="RegLang.misc.html#dec_eq"><span class="id" title="lemma">dec_eq</span></a>: (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#svalP"><span class="id" title="lemma">svalP</span></a> <span class="id" title="var">q</span>) =&gt; /= <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#last_ind"><span class="id" title="lemma">last_ind</span></a> : <span class="id" title="var">x</span> <span class="id" title="var">q</span> <span class="id" title="var">Hx</span> =&gt; //= <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">IHx</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -!<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#cats1"><span class="id" title="lemma">cats1</span></a> /<a class="idref" href="RegLang.dfa.html#delta_s"><span class="id" title="definition">delta_s</span></a> !<a class="idref" href="RegLang.dfa.html#delta_cat"><span class="id" title="lemma">delta_cat</span></a> -!/(<a class="idref" href="RegLang.dfa.html#delta_s"><span class="id" title="definition">delta_s</span></a> <span class="id" title="var">_</span> <span class="id" title="var">x</span>) =&gt; <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">X</span> : <a class="idref" href="RegLang.minimization.html#reachable"><span class="id" title="definition">reachable</span></a> (<a class="idref" href="RegLang.dfa.html#delta_s"><span class="id" title="definition">delta_s</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.Prune.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">x</span>). <span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.misc.html#dec_eq"><span class="id" title="lemma">dec_eq</span></a>; <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqxx"><span class="id" title="abbreviation">eqxx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> (<span class="id" title="var">IHx</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Sub"><span class="id" title="projection">Sub</span></a> (<a class="idref" href="RegLang.dfa.html#delta_s"><span class="id" title="definition">delta_s</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.Prune.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">x</span>) <span class="id" title="var">X</span>) <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">dfa_prune_connected</span> : <span class="id" title="var">core</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dfa_prune_size" class="idref" href="#dfa_prune_size"><span class="id" title="lemma">dfa_prune_size</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="RegLang.minimization.html#dfa_prune"><span class="id" title="definition">dfa_prune</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="RegLang.minimization.html#Minimization.Prune.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#card_sig"><span class="id" title="lemma">card_sig</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#subset_leq_card"><span class="id" title="lemma">subset_leq_card</span></a> // <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#subset_predT"><span class="id" title="lemma">subset_predT</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If pruning does not remove any states, the automaton is connected 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="prune_eq_connected" class="idref" href="#prune_eq_connected"><span class="id" title="lemma">prune_eq_connected</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="RegLang.minimization.html#Minimization.Prune.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="RegLang.minimization.html#dfa_prune"><span class="id" title="definition">dfa_prune</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.minimization.html#connected"><span class="id" title="definition">connected</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.Prune.A"><span class="id" title="variable">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.minimization.html#connectedP"><span class="id" title="lemma">connectedP</span></a>. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#forallP"><span class="id" title="lemma">forallP</span></a> =&gt; <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>: (<a class="idref" href="RegLang.misc.html#cardT_eq"><span class="id" title="lemma">cardT_eq</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#eq_sym"><span class="id" title="lemma">Logic.eq_sym</span></a> <span class="id" title="var">H</span>)) -&gt;.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RegLang.minimization.html#Minimization.Prune"><span class="id" title="section">Prune</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab31"></a><h2 class="section">Quoitient modulo collapsing relation</h2>


<div class="paragraph"> </div>

For the minimization of connected automata we construct the quotient of the
input automaton with respect to the collapsing relation. To form the quotient
constructively, we have to show that the collapsing relation is decidable. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="Minimization.Collapse" class="idref" href="#Minimization.Collapse"><span class="id" title="section">Collapse</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="Minimization.Collapse.A" class="idref" href="#Minimization.Collapse.A"><span class="id" title="variable">A</span></a> : <a class="idref" href="RegLang.minimization.html#dfa"><span class="id" title="abbreviation">dfa</span></a>.<br/>

<br/>
</div>

<div class="doc">
Decidabilty of the collapsing relation   
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="coll_fun" class="idref" href="#coll_fun"><span class="id" title="definition">coll_fun</span></a> (<a id="p:42" class="idref" href="#p:42"><span class="id" title="binder">p</span></a> <a id="q:43" class="idref" href="#q:43"><span class="id" title="binder">q</span></a> : <a class="idref" href="RegLang.minimization.html#Minimization.Collapse.A"><span class="id" title="variable">A</span></a>) <a id="x:44" class="idref" href="#x:44"><span class="id" title="binder">x</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> <a class="idref" href="RegLang.minimization.html#p:42"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.minimization.html#x:44"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> <a class="idref" href="RegLang.minimization.html#q:43"><span class="id" title="variable">q</span></a> <a class="idref" href="RegLang.minimization.html#x:44"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="coll_fun_RC" class="idref" href="#coll_fun_RC"><span class="id" title="lemma">coll_fun_RC</span></a> <a id="p:45" class="idref" href="#p:45"><span class="id" title="binder">p</span></a> <a id="q:46" class="idref" href="#q:46"><span class="id" title="binder">q</span></a> <a id="x:47" class="idref" href="#x:47"><span class="id" title="binder">x</span></a> <a id="y:48" class="idref" href="#y:48"><span class="id" title="binder">y</span></a> <a id="a:49" class="idref" href="#a:49"><span class="id" title="binder">a</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.minimization.html#coll_fun"><span class="id" title="definition">coll_fun</span></a> <a class="idref" href="RegLang.minimization.html#p:45"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.minimization.html#q:46"><span class="id" title="variable">q</span></a> <a class="idref" href="RegLang.minimization.html#x:47"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.minimization.html#coll_fun"><span class="id" title="definition">coll_fun</span></a> <a class="idref" href="RegLang.minimization.html#p:45"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.minimization.html#q:46"><span class="id" title="variable">q</span></a> <a class="idref" href="RegLang.minimization.html#y:48"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.minimization.html#coll_fun"><span class="id" title="definition">coll_fun</span></a> <a class="idref" href="RegLang.minimization.html#p:45"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.minimization.html#q:46"><span class="id" title="variable">q</span></a> (<a class="idref" href="RegLang.minimization.html#x:47"><span class="id" title="variable">x</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">[::</span></a><a class="idref" href="RegLang.minimization.html#a:49"><span class="id" title="variable">a</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">]</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.minimization.html#coll_fun"><span class="id" title="definition">coll_fun</span></a> <a class="idref" href="RegLang.minimization.html#p:45"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.minimization.html#q:46"><span class="id" title="variable">q</span></a> (<a class="idref" href="RegLang.minimization.html#y:48"><span class="id" title="variable">y</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">[::</span></a><a class="idref" href="RegLang.minimization.html#a:49"><span class="id" title="variable">a</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="RegLang.minimization.html#coll_fun"><span class="id" title="definition">coll_fun</span></a> !<a class="idref" href="RegLang.dfa.html#delta_cat"><span class="id" title="lemma">delta_cat</span></a> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="collb" class="idref" href="#collb"><span class="id" title="definition">collb</span></a> <a id="p:50" class="idref" href="#p:50"><span class="id" title="binder">p</span></a> <a id="q:51" class="idref" href="#q:51"><span class="id" title="binder">q</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.dfa.html#allseq_dec"><span class="id" title="lemma">allseq_dec</span></a> (@<a class="idref" href="RegLang.minimization.html#coll_fun_RC"><span class="id" title="lemma">coll_fun_RC</span></a> <a class="idref" href="RegLang.minimization.html#p:50"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.minimization.html#q:51"><span class="id" title="variable">q</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#27dabc72ea2c2c768f2db80a79f42524"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#27dabc72ea2c2c768f2db80a79f42524"><span class="id" title="notation">pred</span></a> <a id="p:52" class="idref" href="#p:52"><span class="id" title="binder">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#27dabc72ea2c2c768f2db80a79f42524"><span class="id" title="notation">|</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.minimization.html#p:52"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrfun.html#::pair_scope:x_'.1'"><span class="id" title="notation">.1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_fin"><span class="id" title="projection">dfa_fin</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.Collapse.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">)</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.minimization.html#p:52"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrfun.html#::pair_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_fin"><span class="id" title="projection">dfa_fin</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.Collapse.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#27dabc72ea2c2c768f2db80a79f42524"><span class="id" title="notation">]</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="collP" class="idref" href="#collP"><span class="id" title="lemma">collP</span></a> <a id="p:53" class="idref" href="#p:53"><span class="id" title="binder">p</span></a> <a id="q:54" class="idref" href="#q:54"><span class="id" title="binder">q</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a> (<a class="idref" href="RegLang.minimization.html#coll"><span class="id" title="definition">coll</span></a> <a class="idref" href="RegLang.minimization.html#p:53"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.minimization.html#q:54"><span class="id" title="variable">q</span></a>) (<a class="idref" href="RegLang.minimization.html#collb"><span class="id" title="definition">collb</span></a> <a class="idref" href="RegLang.minimization.html#p:53"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.minimization.html#q:54"><span class="id" title="variable">q</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>/<a class="idref" href="RegLang.misc.html#dec_eq"><span class="id" title="lemma">dec_eq</span></a> =&gt; <span class="id" title="var">H</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>: (<span class="id" title="var">H</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.misc.html#dec_eq"><span class="id" title="lemma">dec_eq</span></a> =&gt; <span class="id" title="var">x</span>. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>. <span class="id" title="tactic">exact</span>: <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="collb_refl" class="idref" href="#collb_refl"><span class="id" title="lemma">collb_refl</span></a> <a id="x:55" class="idref" href="#x:55"><span class="id" title="binder">x</span></a> : <a class="idref" href="RegLang.minimization.html#collb"><span class="id" title="definition">collb</span></a> <a class="idref" href="RegLang.minimization.html#x:55"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.minimization.html#x:55"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.minimization.html#collP"><span class="id" title="lemma">collP</span></a>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="RegLang.minimization.html#coll"><span class="id" title="definition">coll</span></a>. <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="collb_sym" class="idref" href="#collb_sym"><span class="id" title="lemma">collb_sym</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#symmetric"><span class="id" title="definition">symmetric</span></a> <a class="idref" href="RegLang.minimization.html#collb"><span class="id" title="definition">collb</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.minimization.html#collP"><span class="id" title="lemma">collP</span></a>/<a class="idref" href="RegLang.minimization.html#collP"><span class="id" title="lemma">collP</span></a>; <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">H</span> <span class="id" title="var">w</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="collb_trans" class="idref" href="#collb_trans"><span class="id" title="lemma">collb_trans</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#transitive"><span class="id" title="definition">transitive</span></a> <a class="idref" href="RegLang.minimization.html#collb"><span class="id" title="definition">collb</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> /<a class="idref" href="RegLang.minimization.html#collP"><span class="id" title="lemma">collP</span></a> <span class="id" title="var">H1</span> /<a class="idref" href="RegLang.minimization.html#collP"><span class="id" title="lemma">collP</span></a> <span class="id" title="var">H2</span>. <span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.minimization.html#collP"><span class="id" title="lemma">collP</span></a> =&gt; <span class="id" title="var">w</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="collb_step" class="idref" href="#collb_step"><span class="id" title="lemma">collb_step</span></a> <a id="a:56" class="idref" href="#a:56"><span class="id" title="binder">a</span></a> <a id="x:57" class="idref" href="#x:57"><span class="id" title="binder">x</span></a> <a id="y:58" class="idref" href="#y:58"><span class="id" title="binder">y</span></a> : <a class="idref" href="RegLang.minimization.html#collb"><span class="id" title="definition">collb</span></a> <a class="idref" href="RegLang.minimization.html#x:57"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.minimization.html#y:58"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.minimization.html#collb"><span class="id" title="definition">collb</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_trans"><span class="id" title="projection">dfa_trans</span></a> <a class="idref" href="RegLang.minimization.html#x:57"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.minimization.html#a:56"><span class="id" title="variable">a</span></a>) (<a class="idref" href="RegLang.dfa.html#dfa_trans"><span class="id" title="projection">dfa_trans</span></a> <a class="idref" href="RegLang.minimization.html#y:58"><span class="id" title="variable">y</span></a> <a class="idref" href="RegLang.minimization.html#a:56"><span class="id" title="variable">a</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">move</span> =&gt; /<a class="idref" href="RegLang.minimization.html#collP"><span class="id" title="lemma">collP</span></a> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.minimization.html#collP"><span class="id" title="lemma">collP</span></a> =&gt; <span class="id" title="var">w</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="RegLang.dfa.html#delta_cons"><span class="id" title="lemma">delta_cons</span></a> <span class="id" title="var">H</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
We make collb the canonical equivalence relation on <span class="inlinecode"><span class="id" title="var">A</span></span> and take
  the corresponding quotient type as state space for the minimized automaton 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Canonical</span> <a id="collb_equiv" class="idref" href="#collb_equiv"><span class="id" title="definition">collb_equiv</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#EquivRelPack"><span class="id" title="constructor">EquivRelPack</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#EquivClass"><span class="id" title="constructor">EquivClass</span></a> <a class="idref" href="RegLang.minimization.html#collb_refl"><span class="id" title="lemma">collb_refl</span></a> <a class="idref" href="RegLang.minimization.html#collb_sym"><span class="id" title="lemma">collb_sym</span></a> <a class="idref" href="RegLang.minimization.html#collb_trans"><span class="id" title="lemma">collb_trans</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="collapse_state" class="idref" href="#collapse_state"><span class="id" title="definition">collapse_state</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#0dc587318a1236d89082bca629a5db9b"><span class="id" title="notation">{</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#0dc587318a1236d89082bca629a5db9b"><span class="id" title="notation">eq_quot</span></a> <a class="idref" href="RegLang.minimization.html#collb_equiv"><span class="id" title="definition">collb_equiv</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#0dc587318a1236d89082bca629a5db9b"><span class="id" title="notation">}</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Canonical</span> <a id="min_quotType" class="idref" href="#min_quotType"><span class="id" title="definition">min_quotType</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#2b6ecaeff71b4103d20b05dbc196dba6"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#2b6ecaeff71b4103d20b05dbc196dba6"><span class="id" title="notation">quotType</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#2b6ecaeff71b4103d20b05dbc196dba6"><span class="id" title="notation">of</span></a> <a class="idref" href="RegLang.minimization.html#collapse_state"><span class="id" title="definition">collapse_state</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#2b6ecaeff71b4103d20b05dbc196dba6"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Canonical</span> <a id="min_subType" class="idref" href="#min_subType"><span class="id" title="definition">min_subType</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#6ff9ee7bbd491e678d3e04bf949d2432"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#6ff9ee7bbd491e678d3e04bf949d2432"><span class="id" title="notation">subType</span></a> <a class="idref" href="RegLang.minimization.html#collapse_state"><span class="id" title="definition">collapse_state</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#6ff9ee7bbd491e678d3e04bf949d2432"><span class="id" title="notation">of</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.Collapse.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#6ff9ee7bbd491e678d3e04bf949d2432"><span class="id" title="notation">by</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#6ff9ee7bbd491e678d3e04bf949d2432"><span class="id" title="notation">%/]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Canonical</span> <a id="min_eqType" class="idref" href="#min_eqType"><span class="id" title="definition">min_eqType</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.Exports.EqType"><span class="id" title="abbreviation">EqType</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#4d3d4b86fbd3eb78da323770ca81f4c9"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#4d3d4b86fbd3eb78da323770ca81f4c9"><span class="id" title="notation">eqMixin</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#4d3d4b86fbd3eb78da323770ca81f4c9"><span class="id" title="notation">of</span></a> <a class="idref" href="RegLang.minimization.html#collapse_state"><span class="id" title="definition">collapse_state</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#4d3d4b86fbd3eb78da323770ca81f4c9"><span class="id" title="notation">by</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#4d3d4b86fbd3eb78da323770ca81f4c9"><span class="id" title="notation">&lt;:%/]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Canonical</span> <a id="min_choiceType" class="idref" href="#min_choiceType"><span class="id" title="definition">min_choiceType</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#Choice.Exports.ChoiceType"><span class="id" title="abbreviation">ChoiceType</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#971f678f3ae9445a25bea21a2820fb19"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#971f678f3ae9445a25bea21a2820fb19"><span class="id" title="notation">choiceMixin</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#971f678f3ae9445a25bea21a2820fb19"><span class="id" title="notation">of</span></a> <a class="idref" href="RegLang.minimization.html#collapse_state"><span class="id" title="definition">collapse_state</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#971f678f3ae9445a25bea21a2820fb19"><span class="id" title="notation">by</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#971f678f3ae9445a25bea21a2820fb19"><span class="id" title="notation">&lt;:%/]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Canonical</span> <a id="min_finType" class="idref" href="#min_finType"><span class="id" title="definition">min_finType</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.FinType"><span class="id" title="abbreviation">FinType</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#2272c26679de0253de49a6f796cf16a1"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#2272c26679de0253de49a6f796cf16a1"><span class="id" title="notation">finMixin</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#2272c26679de0253de49a6f796cf16a1"><span class="id" title="notation">of</span></a> <a class="idref" href="RegLang.minimization.html#min_eqType"><span class="id" title="definition">min_eqType</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#2272c26679de0253de49a6f796cf16a1"><span class="id" title="notation">by</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#2272c26679de0253de49a6f796cf16a1"><span class="id" title="notation">&lt;:%/]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Canonical</span> <a id="min_subFinType" class="idref" href="#min_subFinType"><span class="id" title="definition">min_subFinType</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ea70e506e168d39ce0ec3d3ecd2c349f"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ea70e506e168d39ce0ec3d3ecd2c349f"><span class="id" title="notation">subFinType</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ea70e506e168d39ce0ec3d3ecd2c349f"><span class="id" title="notation">of</span></a> <a class="idref" href="RegLang.minimization.html#collapse_state"><span class="id" title="definition">collapse_state</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ea70e506e168d39ce0ec3d3ecd2c349f"><span class="id" title="notation">]</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="collapse" class="idref" href="#collapse"><span class="id" title="definition">collapse</span></a> : <a class="idref" href="RegLang.minimization.html#dfa"><span class="id" title="abbreviation">dfa</span></a> := {|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.dfa.html#dfa_s"><span class="id" title="projection">dfa_s</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#3337bf2cd4a8dc684c396fc9814b46a9"><span class="id" title="notation">\</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#3337bf2cd4a8dc684c396fc9814b46a9"><span class="id" title="notation">pi_</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#3337bf2cd4a8dc684c396fc9814b46a9"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.minimization.html#collapse_state"><span class="id" title="definition">collapse_state</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#3337bf2cd4a8dc684c396fc9814b46a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#3337bf2cd4a8dc684c396fc9814b46a9"><span class="id" title="notation">(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#3337bf2cd4a8dc684c396fc9814b46a9"><span class="id" title="notation">dfa_s</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#3337bf2cd4a8dc684c396fc9814b46a9"><span class="id" title="notation">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#3337bf2cd4a8dc684c396fc9814b46a9"><span class="id" title="notation">)</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.dfa.html#dfa_trans"><span class="id" title="projection">dfa_trans</span></a> <a id="x:59" class="idref" href="#x:59"><span class="id" title="binder">x</span></a> <a id="a:60" class="idref" href="#a:60"><span class="id" title="binder">a</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#c3fdc30b5d212c820acf98356210d6f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#c3fdc30b5d212c820acf98356210d6f7"><span class="id" title="notation">pi</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#c3fdc30b5d212c820acf98356210d6f7"><span class="id" title="notation">(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#c3fdc30b5d212c820acf98356210d6f7"><span class="id" title="notation">dfa_trans</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#c3fdc30b5d212c820acf98356210d6f7"><span class="id" title="notation">(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#c3fdc30b5d212c820acf98356210d6f7"><span class="id" title="notation">repr</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#c3fdc30b5d212c820acf98356210d6f7"><span class="id" title="notation">x</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#c3fdc30b5d212c820acf98356210d6f7"><span class="id" title="notation">)</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#c3fdc30b5d212c820acf98356210d6f7"><span class="id" title="notation">a</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#c3fdc30b5d212c820acf98356210d6f7"><span class="id" title="notation">)</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.dfa.html#dfa_fin"><span class="id" title="projection">dfa_fin</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#6ac1c202d9451e0a66d4fc93e5d9b44b"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#6ac1c202d9451e0a66d4fc93e5d9b44b"><span class="id" title="notation">set</span></a> <a id="x:61" class="idref" href="#x:61"><span class="id" title="binder">x</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#6ac1c202d9451e0a66d4fc93e5d9b44b"><span class="id" title="notation">:</span></a> <a class="idref" href="RegLang.minimization.html#collapse_state"><span class="id" title="definition">collapse_state</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#6ac1c202d9451e0a66d4fc93e5d9b44b"><span class="id" title="notation">|</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#repr"><span class="id" title="abbreviation">repr</span></a> <a class="idref" href="RegLang.minimization.html#x:61"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_fin"><span class="id" title="projection">dfa_fin</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.Collapse.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#6ac1c202d9451e0a66d4fc93e5d9b44b"><span class="id" title="notation">]</span></a> |}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="collapse_delta" class="idref" href="#collapse_delta"><span class="id" title="lemma">collapse_delta</span></a> (<a id="x:62" class="idref" href="#x:62"><span class="id" title="binder">x</span></a> : <a class="idref" href="RegLang.minimization.html#Minimization.Collapse.A"><span class="id" title="variable">A</span></a>) <a id="w:63" class="idref" href="#w:63"><span class="id" title="binder">w</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#c3fdc30b5d212c820acf98356210d6f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#c3fdc30b5d212c820acf98356210d6f7"><span class="id" title="notation">pi</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#c3fdc30b5d212c820acf98356210d6f7"><span class="id" title="notation">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="RegLang.minimization.html#collapse"><span class="id" title="definition">collapse</span></a>) <a class="idref" href="RegLang.minimization.html#w:63"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#c3fdc30b5d212c820acf98356210d6f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#c3fdc30b5d212c820acf98356210d6f7"><span class="id" title="notation">pi</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#c3fdc30b5d212c820acf98356210d6f7"><span class="id" title="notation">(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#c3fdc30b5d212c820acf98356210d6f7"><span class="id" title="notation">delta</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#c3fdc30b5d212c820acf98356210d6f7"><span class="id" title="notation">x</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#c3fdc30b5d212c820acf98356210d6f7"><span class="id" title="notation">w</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#c3fdc30b5d212c820acf98356210d6f7"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">w</span> <span class="id" title="var">x</span> =&gt; //= <span class="id" title="var">a</span> <span class="id" title="var">w</span> <span class="id" title="var">IHw</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">IHw</span>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#eqmodP"><span class="id" title="lemma">eqmodP</span></a>. <span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.minimization.html#collb_step"><span class="id" title="lemma">collb_step</span></a>. <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.misc.html#epiK"><span class="id" title="lemma">epiK</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="collapse_fin" class="idref" href="#collapse_fin"><span class="id" title="lemma">collapse_fin</span></a> (<a id="x:64" class="idref" href="#x:64"><span class="id" title="binder">x</span></a> : <a class="idref" href="RegLang.minimization.html#Minimization.Collapse.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#c3fdc30b5d212c820acf98356210d6f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#c3fdc30b5d212c820acf98356210d6f7"><span class="id" title="notation">pi</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#c3fdc30b5d212c820acf98356210d6f7"><span class="id" title="notation">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_fin"><span class="id" title="projection">dfa_fin</span></a> <a class="idref" href="RegLang.minimization.html#collapse"><span class="id" title="definition">collapse</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.minimization.html#x:64"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_fin"><span class="id" title="projection">dfa_fin</span></a> <a class="idref" href="RegLang.minimization.html#Minimization.Collapse.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="RegLang.minimization.html#collapse"><span class="id" title="definition">collapse</span></a> /= <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>/<a class="idref" href="RegLang.minimization.html#collP"><span class="id" title="lemma">collP</span></a>: (<a class="idref" href="RegLang.misc.html#epiK"><span class="id" title="lemma">epiK</span></a> <a class="idref" href="RegLang.minimization.html#collb_equiv"><span class="id" title="definition">collb_equiv</span></a> <span class="id" title="var">x</span>) =&gt; /(<span class="id" title="var">_</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626"><span class="id" title="notation">[::]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RegLang.minimization.html#Minimization.Collapse"><span class="id" title="section">Collapse</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab32"></a><h2 class="section">Correctness of Minimization</h2>

<div class="paragraph"> </div>

 Minimization yields a fully collapsed DFA accpeting the same language 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="collapse_collapsed" class="idref" href="#collapse_collapsed"><span class="id" title="lemma">collapse_collapsed</span></a> (<a id="A:65" class="idref" href="#A:65"><span class="id" title="binder">A</span></a>  : <a class="idref" href="RegLang.minimization.html#dfa"><span class="id" title="abbreviation">dfa</span></a>) : <a class="idref" href="RegLang.minimization.html#collapsed"><span class="id" title="definition">collapsed</span></a> (<a class="idref" href="RegLang.minimization.html#collapse"><span class="id" title="definition">collapse</span></a> <a class="idref" href="RegLang.minimization.html#A:65"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> =&gt; [<span class="id" title="var">H</span>|-&gt;]; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.minimization.html#collP"><span class="id" title="lemma">collP</span></a>; <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.minimization.html#collb_refl"><span class="id" title="lemma">collb_refl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -[<span class="id" title="var">x</span>]<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#reprK"><span class="id" title="lemma">reprK</span></a> -[<span class="id" title="var">y</span>]<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#reprK"><span class="id" title="lemma">reprK</span></a>. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#eqmodP"><span class="id" title="lemma">eqmodP</span></a>/<a class="idref" href="RegLang.minimization.html#collP"><span class="id" title="lemma">collP</span></a> =&gt; <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -!<a class="idref" href="RegLang.minimization.html#collapse_fin"><span class="id" title="lemma">collapse_fin</span></a> -!<a class="idref" href="RegLang.minimization.html#collapse_delta"><span class="id" title="lemma">collapse_delta</span></a> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#reprK"><span class="id" title="lemma">reprK</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="collapse_correct" class="idref" href="#collapse_correct"><span class="id" title="lemma">collapse_correct</span></a> <a id="A:66" class="idref" href="#A:66"><span class="id" title="binder">A</span></a> : <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> (<a class="idref" href="RegLang.minimization.html#collapse"><span class="id" title="definition">collapse</span></a> <a class="idref" href="RegLang.minimization.html#A:66"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">i</span></a> <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.minimization.html#A:66"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">w</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> /<a class="idref" href="RegLang.dfa.html#dfa_accept"><span class="id" title="definition">dfa_accept</span></a> {1}/<a class="idref" href="RegLang.dfa.html#dfa_s"><span class="id" title="projection">dfa_s</span></a> /= <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> <a class="idref" href="RegLang.minimization.html#collapse_delta"><span class="id" title="lemma">collapse_delta</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -!<a class="idref" href="RegLang.minimization.html#collapse_fin"><span class="id" title="lemma">collapse_fin</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#reprK"><span class="id" title="lemma">reprK</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="collapse_size" class="idref" href="#collapse_size"><span class="id" title="lemma">collapse_size</span></a> <a id="A:67" class="idref" href="#A:67"><span class="id" title="binder">A</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="RegLang.minimization.html#collapse"><span class="id" title="definition">collapse</span></a> <a class="idref" href="RegLang.minimization.html#A:67"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="RegLang.minimization.html#A:67"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#card_sub"><span class="id" title="lemma">card_sub</span></a>. <span class="id" title="tactic">exact</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#max_card"><span class="id" title="lemma">max_card</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="collapse_connected" class="idref" href="#collapse_connected"><span class="id" title="lemma">collapse_connected</span></a> <a id="A:68" class="idref" href="#A:68"><span class="id" title="binder">A</span></a> : <a class="idref" href="RegLang.minimization.html#connected"><span class="id" title="definition">connected</span></a> <a class="idref" href="RegLang.minimization.html#A:68"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.minimization.html#connected"><span class="id" title="definition">connected</span></a> (<a class="idref" href="RegLang.minimization.html#collapse"><span class="id" title="definition">collapse</span></a> <a class="idref" href="RegLang.minimization.html#A:68"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">H</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">case</span>: (<span class="id" title="var">H</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#repr"><span class="id" title="abbreviation">repr</span></a> <span class="id" title="var">x</span>)) =&gt; <span class="id" title="var">w</span> /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> <span class="id" title="var">Hw</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="RegLang.dfa.html#delta_s"><span class="id" title="definition">delta_s</span></a> <a class="idref" href="RegLang.minimization.html#collapse_delta"><span class="id" title="lemma">collapse_delta</span></a> -/(<a class="idref" href="RegLang.dfa.html#delta_s"><span class="id" title="definition">delta_s</span></a> <span class="id" title="var">A</span> <span class="id" title="var">w</span>) <span class="id" title="var">Hw</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#reprK"><span class="id" title="lemma">reprK</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Combine prunine and collapsing into minimization function 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="minimize" class="idref" href="#minimize"><span class="id" title="definition">minimize</span></a> := <a class="idref" href="RegLang.minimization.html#collapse"><span class="id" title="definition">collapse</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e"><span class="id" title="notation">o</span></a> <a class="idref" href="RegLang.minimization.html#dfa_prune"><span class="id" title="definition">dfa_prune</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="minimize_size" class="idref" href="#minimize_size"><span class="id" title="lemma">minimize_size</span></a> (<a id="A:69" class="idref" href="#A:69"><span class="id" title="binder">A</span></a> : <a class="idref" href="RegLang.minimization.html#dfa"><span class="id" title="abbreviation">dfa</span></a>) : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="RegLang.minimization.html#minimize"><span class="id" title="definition">minimize</span></a> <a class="idref" href="RegLang.minimization.html#A:69"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="RegLang.minimization.html#A:69"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#leq_trans"><span class="id" title="lemma">leq_trans</span></a> (<a class="idref" href="RegLang.minimization.html#collapse_size"><span class="id" title="lemma">collapse_size</span></a> <span class="id" title="var">_</span>) (<a class="idref" href="RegLang.minimization.html#dfa_prune_size"><span class="id" title="lemma">dfa_prune_size</span></a> <span class="id" title="var">_</span>). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="minimize_collapsed" class="idref" href="#minimize_collapsed"><span class="id" title="lemma">minimize_collapsed</span></a> (<a id="A:70" class="idref" href="#A:70"><span class="id" title="binder">A</span></a> : <a class="idref" href="RegLang.minimization.html#dfa"><span class="id" title="abbreviation">dfa</span></a>) : <a class="idref" href="RegLang.minimization.html#collapsed"><span class="id" title="definition">collapsed</span></a> (<a class="idref" href="RegLang.minimization.html#minimize"><span class="id" title="definition">minimize</span></a> <a class="idref" href="RegLang.minimization.html#A:70"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.minimization.html#collapse_collapsed"><span class="id" title="lemma">collapse_collapsed</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="minimize_connected" class="idref" href="#minimize_connected"><span class="id" title="lemma">minimize_connected</span></a> (<a id="A:71" class="idref" href="#A:71"><span class="id" title="binder">A</span></a> : <a class="idref" href="RegLang.minimization.html#dfa"><span class="id" title="abbreviation">dfa</span></a>) : <a class="idref" href="RegLang.minimization.html#connected"><span class="id" title="definition">connected</span></a> (<a class="idref" href="RegLang.minimization.html#minimize"><span class="id" title="definition">minimize</span></a> <a class="idref" href="RegLang.minimization.html#A:71"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="RegLang.minimization.html#collapse_connected"><span class="id" title="lemma">collapse_connected</span></a>. <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.minimization.html#dfa_prune_connected"><span class="id" title="lemma">dfa_prune_connected</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="minimize_correct" class="idref" href="#minimize_correct"><span class="id" title="lemma">minimize_correct</span></a> (<a id="A:72" class="idref" href="#A:72"><span class="id" title="binder">A</span></a> : <a class="idref" href="RegLang.minimization.html#dfa"><span class="id" title="abbreviation">dfa</span></a>) : <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> (<a class="idref" href="RegLang.minimization.html#minimize"><span class="id" title="definition">minimize</span></a> <a class="idref" href="RegLang.minimization.html#A:72"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">i</span></a> <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.minimization.html#A:72"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.minimization.html#collapse_correct"><span class="id" title="lemma">collapse_correct</span></a> <a class="idref" href="RegLang.minimization.html#dfa_prune_correct"><span class="id" title="lemma">dfa_prune_correct</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">minimize_size</span> <span class="id" title="var">minimize_collapsed</span> <span class="id" title="var">minimize_connected</span> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="minimize_minimal" class="idref" href="#minimize_minimal"><span class="id" title="lemma">minimize_minimal</span></a> <a id="A:73" class="idref" href="#A:73"><span class="id" title="binder">A</span></a> : <a class="idref" href="RegLang.minimization.html#minimal"><span class="id" title="definition">minimal</span></a> (<a class="idref" href="RegLang.minimization.html#minimize"><span class="id" title="definition">minimize</span></a> <a class="idref" href="RegLang.minimization.html#A:73"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.minimization.html#abstract_minimization"><span class="id" title="lemma">abstract_minimization</span></a> =&gt; <span class="id" title="var">B</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="RegLang.minimization.html#minimize_correct"><span class="id" title="lemma">minimize_correct</span></a>. <span class="comment">(*&nbsp;and&nbsp;hints&nbsp;*)</span> <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab33"></a><h2 class="section">Uniqueness of minimal automaton</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="minimal_connected" class="idref" href="#minimal_connected"><span class="id" title="lemma">minimal_connected</span></a> <a id="A:74" class="idref" href="#A:74"><span class="id" title="binder">A</span></a> : <a class="idref" href="RegLang.minimization.html#minimal"><span class="id" title="definition">minimal</span></a> <a class="idref" href="RegLang.minimization.html#A:74"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.minimization.html#connected"><span class="id" title="definition">connected</span></a> <a class="idref" href="RegLang.minimization.html#A:74"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">MA</span>. <span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.minimization.html#prune_eq_connected"><span class="id" title="lemma">prune_eq_connected</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#eqn_leq"><span class="id" title="lemma">eqn_leq</span></a> <a class="idref" href="RegLang.minimization.html#dfa_prune_size"><span class="id" title="lemma">dfa_prune_size</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#andbT"><span class="id" title="lemma">andbT</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <span class="id" title="var">MA</span> =&gt; <span class="id" title="var">x</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.minimization.html#dfa_prune_correct"><span class="id" title="lemma">dfa_prune_correct</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="minimal_collapsed" class="idref" href="#minimal_collapsed"><span class="id" title="lemma">minimal_collapsed</span></a> <a id="A:75" class="idref" href="#A:75"><span class="id" title="binder">A</span></a> : <a class="idref" href="RegLang.minimization.html#minimal"><span class="id" title="definition">minimal</span></a> <a class="idref" href="RegLang.minimization.html#A:75"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.minimization.html#collapsed"><span class="id" title="definition">collapsed</span></a> <a class="idref" href="RegLang.minimization.html#A:75"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">MA</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">B</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrfun.html#bijective"><span class="id" title="inductive">bijective</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#3337bf2cd4a8dc684c396fc9814b46a9"><span class="id" title="notation">\</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#3337bf2cd4a8dc684c396fc9814b46a9"><span class="id" title="notation">pi_</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#3337bf2cd4a8dc684c396fc9814b46a9"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.minimization.html#collapse_state"><span class="id" title="definition">collapse_state</span></a> <span class="id" title="var">A</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#3337bf2cd4a8dc684c396fc9814b46a9"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.misc.html#surj_card_bij"><span class="id" title="lemma">surj_card_bij</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span>. <span class="id" title="tactic">exists</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#repr"><span class="id" title="abbreviation">repr</span></a> <span class="id" title="var">x</span>). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#reprK"><span class="id" title="lemma">reprK</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#eqn_leq"><span class="id" title="lemma">eqn_leq</span></a> <a class="idref" href="RegLang.minimization.html#collapse_size"><span class="id" title="lemma">collapse_size</span></a> (<span class="id" title="var">MA</span> (<a class="idref" href="RegLang.minimization.html#collapse"><span class="id" title="definition">collapse</span></a> <span class="id" title="var">A</span>)) // =&gt; <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.minimization.html#collapse_correct"><span class="id" title="lemma">collapse_correct</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">split</span> =&gt; [|-&gt;]; <span class="id" title="var">last</span> <span class="id" title="tactic">exact</span>/<a class="idref" href="RegLang.minimization.html#collP"><span class="id" title="lemma">collP</span></a>/<a class="idref" href="RegLang.minimization.html#collb_refl"><span class="id" title="lemma">collb_refl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="RegLang.minimization.html#collP"><span class="id" title="lemma">collP</span></a>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.generic_quotient.html#eqmodP"><span class="id" title="lemma">eqmodP</span></a>. <span class="id" title="tactic">exact</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrfun.html#bij_inj"><span class="id" title="lemma">bij_inj</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
In order to generalize the reasoning above to arbitrary quotients
types over finite types we would first have to ensure that <span class="inlinecode">{<span class="id" title="var">eq_quot</span></span> <span class="inlinecode"><span class="id" title="var">e</span>}</span>
inherits the finType structure on the carrier of <span class="inlinecode"><span class="id" title="var">e</span></span>. By default
this is not the case 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="minimalP" class="idref" href="#minimalP"><span class="id" title="lemma">minimalP</span></a> <a id="A:76" class="idref" href="#A:76"><span class="id" title="binder">A</span></a> : <a class="idref" href="RegLang.minimization.html#minimal"><span class="id" title="definition">minimal</span></a> <a class="idref" href="RegLang.minimization.html#A:76"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.minimization.html#connected"><span class="id" title="definition">connected</span></a> <a class="idref" href="RegLang.minimization.html#A:76"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="RegLang.minimization.html#collapsed"><span class="id" title="definition">collapsed</span></a> <a class="idref" href="RegLang.minimization.html#A:76"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">H</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.minimization.html#minimal_connected"><span class="id" title="lemma">minimal_connected</span></a>. <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.minimization.html#minimal_collapsed"><span class="id" title="lemma">minimal_collapsed</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>] <span class="id" title="var">B</span> <span class="id" title="var">L_AB</span>. <span class="id" title="tactic">apply</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#leq_trans"><span class="id" title="lemma">leq_trans</span></a> <span class="id" title="var">_</span> (<a class="idref" href="RegLang.minimization.html#minimize_size"><span class="id" title="lemma">minimize_size</span></a> <span class="id" title="var">_</span>). <span class="id" title="tactic">apply</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#eq_leq"><span class="id" title="lemma">eq_leq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.minimization.html#dfa_iso_size"><span class="id" title="lemma">dfa_iso_size</span></a>. <span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.minimization.html#coll_iso"><span class="id" title="lemma">coll_iso</span></a> =&gt; // <span class="id" title="var">x</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.minimization.html#minimize_correct"><span class="id" title="lemma">minimize_correct</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="minimal_iso" class="idref" href="#minimal_iso"><span class="id" title="lemma">minimal_iso</span></a> <a id="A:77" class="idref" href="#A:77"><span class="id" title="binder">A</span></a> <a id="B:78" class="idref" href="#B:78"><span class="id" title="binder">B</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.minimization.html#A:77"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">i</span></a> <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.minimization.html#B:78"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.minimization.html#minimal"><span class="id" title="definition">minimal</span></a> <a class="idref" href="RegLang.minimization.html#A:77"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.minimization.html#minimal"><span class="id" title="definition">minimal</span></a> <a class="idref" href="RegLang.minimization.html#B:78"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.minimization.html#dfa_iso"><span class="id" title="definition">dfa_iso</span></a> <a class="idref" href="RegLang.minimization.html#A:77"><span class="id" title="variable">A</span></a> <a class="idref" href="RegLang.minimization.html#B:78"><span class="id" title="variable">B</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">L_AB</span> /<a class="idref" href="RegLang.minimization.html#minimalP"><span class="id" title="lemma">minimalP</span></a> [? ?] /<a class="idref" href="RegLang.minimization.html#minimalP"><span class="id" title="lemma">minimalP</span></a> [? ?]. <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.minimization.html#coll_iso"><span class="id" title="lemma">coll_iso</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RegLang.minimization.html#Minimization"><span class="id" title="section">Minimization</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/coq-community/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
