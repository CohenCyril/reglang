<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../../..">Project Website</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="comment">(*&nbsp;Authors:&nbsp;Christian&nbsp;Doczkal&nbsp;and&nbsp;Jan-Oliver&nbsp;Kaiser&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;Distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;CeCILL-B.&nbsp;*)</span><br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">mathcomp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.all_ssreflect.html#"><span class="id" title="library">all_ssreflect</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">RegLang</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="RegLang.misc.html#"><span class="id" title="library">misc</span></a> <a class="idref" href="RegLang.languages.html#"><span class="id" title="library">languages</span></a> <a class="idref" href="RegLang.dfa.html#"><span class="id" title="library">dfa</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span> "Type".<br/>

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Printing</span> <span class="id" title="keyword">Implicit</span> <span class="id" title="var">Defensive</span>.<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Strict</span> <span class="id" title="keyword">Implicit</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="NFA" class="idref" href="#NFA"><span class="id" title="section">NFA</span></a>.<br/>
<span class="id" title="keyword">Variable</span> <a id="NFA.char" class="idref" href="#NFA.char"><span class="id" title="variable">char</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <a id="word" class="idref" href="#word"><span class="id" title="abbreviation">word</span></a> := (<a class="idref" href="RegLang.languages.html#word"><span class="id" title="definition">word</span></a> <a class="idref" href="RegLang.nfa.html#NFA.char"><span class="id" title="variable">char</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab17"></a><h1 class="section">Nondeterministic Finite Automata.</h1>


<div class="paragraph"> </div>

We define both normal NFAs and NFAs with epsilon transitions
(eNFAs). For NFAs acceptance can still be defined by structural
recursion on the word. In particular, the length of an NFA run is
determined by the input word, a property that we exploit repeatedly. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Record</span> <a id="nfa" class="idref" href="#nfa"><span class="id" title="record">nfa</span></a> : <span class="id" title="keyword">Type</span> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="nfa_state" class="idref" href="#nfa_state"><span class="id" title="projection">nfa_state</span></a> :&gt; <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="nfa_s" class="idref" href="#nfa_s"><span class="id" title="projection">nfa_s</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">{</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">set</span></a> <a class="idref" href="RegLang.nfa.html#nfa_state:3"><span class="id" title="method">nfa_state</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">}</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="nfa_fin" class="idref" href="#nfa_fin"><span class="id" title="projection">nfa_fin</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">{</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">set</span></a> <a class="idref" href="RegLang.nfa.html#nfa_state:3"><span class="id" title="method">nfa_state</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">}</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="nfa_trans" class="idref" href="#nfa_trans"><span class="id" title="projection">nfa_trans</span></a> : <a class="idref" href="RegLang.nfa.html#nfa_state:3"><span class="id" title="method">nfa_state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.nfa.html#NFA.char"><span class="id" title="variable">char</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.nfa.html#nfa_state:3"><span class="id" title="method">nfa_state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> }.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="nfa_accept" class="idref" href="#nfa_accept"><span class="id" title="definition">nfa_accept</span></a> (<a id="A:7" class="idref" href="#A:7"><span class="id" title="binder">A</span></a> : <a class="idref" href="RegLang.nfa.html#nfa"><span class="id" title="record">nfa</span></a>) (<a id="x:8" class="idref" href="#x:8"><span class="id" title="binder">x</span></a> : <a class="idref" href="RegLang.nfa.html#A:7"><span class="id" title="variable">A</span></a>) <a id="w:9" class="idref" href="#w:9"><span class="id" title="binder">w</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="RegLang.nfa.html#w:9"><span class="id" title="variable">w</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">a</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">w'</span> <span class="id" title="keyword">then</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#e9122b3568d6f47f958b76a6e55e4e40"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#e9122b3568d6f47f958b76a6e55e4e40"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#e9122b3568d6f47f958b76a6e55e4e40"><span class="id" title="notation">(</span></a><a id="y:12" class="idref" href="#y:12"><span class="id" title="binder">y</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#e9122b3568d6f47f958b76a6e55e4e40"><span class="id" title="notation">|</span></a> <a class="idref" href="RegLang.nfa.html#nfa_trans"><span class="id" title="projection">nfa_trans</span></a> <a class="idref" href="RegLang.nfa.html#x:8"><span class="id" title="variable">x</span></a> <span class="id" title="var">a</span> <a class="idref" href="RegLang.nfa.html#y:12"><span class="id" title="variable">y</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#e9122b3568d6f47f958b76a6e55e4e40"><span class="id" title="notation">)</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#f3be25edeb0349b0a76405eded9d0b98"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.nfa.html#nfa_accept:10"><span class="id" title="definition">nfa_accept</span></a> <a class="idref" href="RegLang.nfa.html#y:12"><span class="id" title="variable">y</span></a> <span class="id" title="var">w'</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#e9122b3568d6f47f958b76a6e55e4e40"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="RegLang.nfa.html#x:8"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.nfa.html#nfa_fin"><span class="id" title="projection">nfa_fin</span></a> <a class="idref" href="RegLang.nfa.html#A:7"><span class="id" title="variable">A</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="nfa_lang" class="idref" href="#nfa_lang"><span class="id" title="definition">nfa_lang</span></a> (<a id="A:13" class="idref" href="#A:13"><span class="id" title="binder">A</span></a> : <a class="idref" href="RegLang.nfa.html#nfa"><span class="id" title="record">nfa</span></a>) := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#27dabc72ea2c2c768f2db80a79f42524"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#27dabc72ea2c2c768f2db80a79f42524"><span class="id" title="notation">pred</span></a> <a id="w:14" class="idref" href="#w:14"><span class="id" title="binder">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#27dabc72ea2c2c768f2db80a79f42524"><span class="id" title="notation">|</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ea6c97f834d69613538d4da1fb704b25"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ea6c97f834d69613538d4da1fb704b25"><span class="id" title="notation">exists</span></a> <a id="s:15" class="idref" href="#s:15"><span class="id" title="binder">s</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#f3be25edeb0349b0a76405eded9d0b98"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.nfa.html#s:15"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.nfa.html#nfa_s"><span class="id" title="projection">nfa_s</span></a> <a class="idref" href="RegLang.nfa.html#A:13"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="RegLang.nfa.html#nfa_accept"><span class="id" title="definition">nfa_accept</span></a> <a class="idref" href="RegLang.nfa.html#s:15"><span class="id" title="variable">s</span></a> <a class="idref" href="RegLang.nfa.html#w:14"><span class="id" title="variable">w</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ea6c97f834d69613538d4da1fb704b25"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#27dabc72ea2c2c768f2db80a79f42524"><span class="id" title="notation">]</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab18"></a><h2 class="section">Epsilon NFAs</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Record</span> <a id="enfa" class="idref" href="#enfa"><span class="id" title="record">enfa</span></a> : <span class="id" title="keyword">Type</span> := {<br/>
&nbsp;&nbsp;<a id="enfa_state" class="idref" href="#enfa_state"><span class="id" title="projection">enfa_state</span></a> :&gt; <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>;<br/>
&nbsp;&nbsp;<a id="enfa_s" class="idref" href="#enfa_s"><span class="id" title="projection">enfa_s</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">{</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">set</span></a> <a class="idref" href="RegLang.nfa.html#enfa_state:17"><span class="id" title="method">enfa_state</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">}</span></a>;<br/>
&nbsp;&nbsp;<a id="enfa_f" class="idref" href="#enfa_f"><span class="id" title="projection">enfa_f</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">{</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">set</span></a> <a class="idref" href="RegLang.nfa.html#enfa_state:17"><span class="id" title="method">enfa_state</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">}</span></a>;<br/>
&nbsp;&nbsp;<a id="enfa_trans" class="idref" href="#enfa_trans"><span class="id" title="projection">enfa_trans</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="RegLang.nfa.html#NFA.char"><span class="id" title="variable">char</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.nfa.html#enfa_state:17"><span class="id" title="method">enfa_state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.nfa.html#enfa_state:17"><span class="id" title="method">enfa_state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> }.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="NFA.EpsilonNFA" class="idref" href="#NFA.EpsilonNFA"><span class="id" title="section">EpsilonNFA</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variables</span> (<a id="NFA.EpsilonNFA.N" class="idref" href="#NFA.EpsilonNFA.N"><span class="id" title="variable">N</span></a> : <a class="idref" href="RegLang.nfa.html#enfa"><span class="id" title="record">enfa</span></a>).<br/>

<br/>
</div>

<div class="doc">
For eNFAs, acceptance is defined relationally since structural
  recursion over the word is no longer possible. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="enfa_accept" class="idref" href="#enfa_accept"><span class="id" title="inductive">enfa_accept</span></a> : <a class="idref" href="RegLang.nfa.html#NFA.EpsilonNFA.N"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.nfa.html#word"><span class="id" title="abbreviation">word</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="EnfaFin" class="idref" href="#EnfaFin"><span class="id" title="constructor">EnfaFin</span></a> <a id="q:24" class="idref" href="#q:24"><span class="id" title="binder">q</span></a> : <a class="idref" href="RegLang.nfa.html#q:24"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.nfa.html#enfa_f"><span class="id" title="projection">enfa_f</span></a> <a class="idref" href="RegLang.nfa.html#NFA.EpsilonNFA.N"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.nfa.html#enfa_accept:22"><span class="id" title="inductive">enfa_accept</span></a> <a class="idref" href="RegLang.nfa.html#q:24"><span class="id" title="variable">q</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626"><span class="id" title="notation">[::]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="EnfaSome" class="idref" href="#EnfaSome"><span class="id" title="constructor">EnfaSome</span></a> <a id="p:25" class="idref" href="#p:25"><span class="id" title="binder">p</span></a> <a id="a:26" class="idref" href="#a:26"><span class="id" title="binder">a</span></a> <a id="q:27" class="idref" href="#q:27"><span class="id" title="binder">q</span></a> <a id="x:28" class="idref" href="#x:28"><span class="id" title="binder">x</span></a> : <a class="idref" href="RegLang.nfa.html#enfa_trans"><span class="id" title="projection">enfa_trans</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="RegLang.nfa.html#a:26"><span class="id" title="variable">a</span></a>) <a class="idref" href="RegLang.nfa.html#p:25"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.nfa.html#q:27"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.nfa.html#enfa_accept:22"><span class="id" title="inductive">enfa_accept</span></a> <a class="idref" href="RegLang.nfa.html#q:27"><span class="id" title="variable">q</span></a> <a class="idref" href="RegLang.nfa.html#x:28"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.nfa.html#enfa_accept:22"><span class="id" title="inductive">enfa_accept</span></a> <a class="idref" href="RegLang.nfa.html#p:25"><span class="id" title="variable">p</span></a> (<a class="idref" href="RegLang.nfa.html#a:26"><span class="id" title="variable">a</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="RegLang.nfa.html#x:28"><span class="id" title="variable">x</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="EnfaNone" class="idref" href="#EnfaNone"><span class="id" title="constructor">EnfaNone</span></a> <a id="p:29" class="idref" href="#p:29"><span class="id" title="binder">p</span></a> <a id="q:30" class="idref" href="#q:30"><span class="id" title="binder">q</span></a> <a id="x:31" class="idref" href="#x:31"><span class="id" title="binder">x</span></a> : <a class="idref" href="RegLang.nfa.html#enfa_trans"><span class="id" title="projection">enfa_trans</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="RegLang.nfa.html#p:29"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.nfa.html#q:30"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.nfa.html#enfa_accept:22"><span class="id" title="inductive">enfa_accept</span></a> <a class="idref" href="RegLang.nfa.html#q:30"><span class="id" title="variable">q</span></a> <a class="idref" href="RegLang.nfa.html#x:31"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.nfa.html#enfa_accept:22"><span class="id" title="inductive">enfa_accept</span></a> <a class="idref" href="RegLang.nfa.html#p:29"><span class="id" title="variable">p</span></a> (<a class="idref" href="RegLang.nfa.html#x:31"><span class="id" title="variable">x</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="enfa_lang" class="idref" href="#enfa_lang"><span class="id" title="definition">enfa_lang</span></a> <a id="x:32" class="idref" href="#x:32"><span class="id" title="binder">x</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">exists2</span></a> <a id="s:34" class="idref" href="#s:34"><span class="id" title="binder">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.nfa.html#s:33"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.nfa.html#enfa_s"><span class="id" title="projection">enfa_s</span></a> <a class="idref" href="RegLang.nfa.html#NFA.EpsilonNFA.N"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="RegLang.nfa.html#enfa_accept"><span class="id" title="inductive">enfa_accept</span></a> <a class="idref" href="RegLang.nfa.html#s:34"><span class="id" title="variable">s</span></a> <a class="idref" href="RegLang.nfa.html#x:32"><span class="id" title="variable">x</span></a>.<br/>

<br/>
</div>

<div class="doc">
We convert eNFAs to NFAs by extending the set of starting states and all
  transitions by epsipon-reachable states - also known as epsilon closure 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="eps_reach" class="idref" href="#eps_reach"><span class="id" title="definition">eps_reach</span></a> (<a id="p:35" class="idref" href="#p:35"><span class="id" title="binder">p</span></a> : <a class="idref" href="RegLang.nfa.html#NFA.EpsilonNFA.N"><span class="id" title="variable">N</span></a>) := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#9e3f1d0cf47c39e3927b1f03a0797327"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#9e3f1d0cf47c39e3927b1f03a0797327"><span class="id" title="notation">set</span></a> <a id="q:36" class="idref" href="#q:36"><span class="id" title="binder">q</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#9e3f1d0cf47c39e3927b1f03a0797327"><span class="id" title="notation">|</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fingraph.html#connect"><span class="id" title="definition">connect</span></a> (<a class="idref" href="RegLang.nfa.html#enfa_trans"><span class="id" title="projection">enfa_trans</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="RegLang.nfa.html#p:35"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.nfa.html#q:36"><span class="id" title="variable">q</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#9e3f1d0cf47c39e3927b1f03a0797327"><span class="id" title="notation">]</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="lift_accept" class="idref" href="#lift_accept"><span class="id" title="lemma">lift_accept</span></a> <a id="p:37" class="idref" href="#p:37"><span class="id" title="binder">p</span></a> <a id="q:38" class="idref" href="#q:38"><span class="id" title="binder">q</span></a> <a id="x:39" class="idref" href="#x:39"><span class="id" title="binder">x</span></a> : <a class="idref" href="RegLang.nfa.html#q:38"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.nfa.html#eps_reach"><span class="id" title="definition">eps_reach</span></a> <a class="idref" href="RegLang.nfa.html#p:37"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.nfa.html#enfa_accept"><span class="id" title="inductive">enfa_accept</span></a> <a class="idref" href="RegLang.nfa.html#q:38"><span class="id" title="variable">q</span></a> <a class="idref" href="RegLang.nfa.html#x:39"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.nfa.html#enfa_accept"><span class="id" title="inductive">enfa_accept</span></a> <a class="idref" href="RegLang.nfa.html#p:37"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.nfa.html#x:39"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> =&gt; /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fingraph.html#connectP"><span class="id" title="lemma">connectP</span></a> [<span class="id" title="var">s</span>]. <span class="id" title="tactic">elim</span>: <span class="id" title="var">s</span> <span class="id" title="var">p</span> <span class="id" title="var">x</span> <span class="id" title="var">q</span> =&gt; //= [<span class="id" title="var">p</span> <span class="id" title="var">x</span> <span class="id" title="var">q</span> <span class="id" title="var">_</span> -&gt; //| <span class="id" title="var">q</span> <span class="id" title="var">s</span> <span class="id" title="var">IHs</span> <span class="id" title="var">p</span> <span class="id" title="var">x</span> <span class="id" title="var">q'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> =&gt; <span class="id" title="var">pq</span> ? ? <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.nfa.html#EnfaNone"><span class="id" title="constructor">EnfaNone</span></a> <span class="id" title="var">pq</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">exact</span>: <span class="id" title="var">IHs</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="nfa_of" class="idref" href="#nfa_of"><span class="id" title="definition">nfa_of</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="RegLang.nfa.html#nfa_s"><span class="id" title="projection">nfa_s</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#3807eb776e98d53eeae3c7eceb88122d"><span class="id" title="notation">\</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#3807eb776e98d53eeae3c7eceb88122d"><span class="id" title="notation">bigcup_</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#3807eb776e98d53eeae3c7eceb88122d"><span class="id" title="notation">(</span></a><a id="p:44" class="idref" href="#p:44"><span class="id" title="binder">p</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#3807eb776e98d53eeae3c7eceb88122d"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.nfa.html#enfa_s"><span class="id" title="projection">enfa_s</span></a> <a class="idref" href="RegLang.nfa.html#NFA.EpsilonNFA.N"><span class="id" title="variable">N</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#3807eb776e98d53eeae3c7eceb88122d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#3807eb776e98d53eeae3c7eceb88122d"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.nfa.html#eps_reach"><span class="id" title="definition">eps_reach</span></a> <a class="idref" href="RegLang.nfa.html#p:44"><span class="id" title="variable">p</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#3807eb776e98d53eeae3c7eceb88122d"><span class="id" title="notation">)</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.nfa.html#nfa_fin"><span class="id" title="projection">nfa_fin</span></a> := <a class="idref" href="RegLang.nfa.html#enfa_f"><span class="id" title="projection">enfa_f</span></a> <a class="idref" href="RegLang.nfa.html#NFA.EpsilonNFA.N"><span class="id" title="variable">N</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.nfa.html#nfa_trans"><span class="id" title="projection">nfa_trans</span></a> <a id="p:40" class="idref" href="#p:40"><span class="id" title="binder">p</span></a> <a id="a:41" class="idref" href="#a:41"><span class="id" title="binder">a</span></a> <a id="q:42" class="idref" href="#q:42"><span class="id" title="binder">q</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ea6c97f834d69613538d4da1fb704b25"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ea6c97f834d69613538d4da1fb704b25"><span class="id" title="notation">exists</span></a> <a id="p':43" class="idref" href="#p':43"><span class="id" title="binder">p'</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#f3be25edeb0349b0a76405eded9d0b98"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.nfa.html#enfa_trans"><span class="id" title="projection">enfa_trans</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="RegLang.nfa.html#a:41"><span class="id" title="variable">a</span></a>) <a class="idref" href="RegLang.nfa.html#p:40"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.nfa.html#p':43"><span class="id" title="variable">p'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.nfa.html#q:42"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.nfa.html#eps_reach"><span class="id" title="definition">eps_reach</span></a> <a class="idref" href="RegLang.nfa.html#p':43"><span class="id" title="variable">p'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ea6c97f834d69613538d4da1fb704b25"><span class="id" title="notation">]</span></a> |}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="enfaE" class="idref" href="#enfaE"><span class="id" title="lemma">enfaE</span></a> <a id="x:45" class="idref" href="#x:45"><span class="id" title="binder">x</span></a> <a id="p:46" class="idref" href="#p:46"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.nfa.html#enfa_accept"><span class="id" title="inductive">enfa_accept</span></a> <a class="idref" href="RegLang.nfa.html#p:46"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.nfa.html#x:45"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#59ba2b47d2814e66f8210a649ae6e6bc"><span class="id" title="notation">exists2</span></a> <a id="q:48" class="idref" href="#q:48"><span class="id" title="binder">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#59ba2b47d2814e66f8210a649ae6e6bc"><span class="id" title="notation">:</span></a> <a class="idref" href="RegLang.nfa.html#nfa_of"><span class="id" title="definition">nfa_of</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#59ba2b47d2814e66f8210a649ae6e6bc"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.nfa.html#q:47"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.nfa.html#eps_reach"><span class="id" title="definition">eps_reach</span></a> <a class="idref" href="RegLang.nfa.html#p:46"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#59ba2b47d2814e66f8210a649ae6e6bc"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="RegLang.nfa.html#nfa_accept"><span class="id" title="definition">nfa_accept</span></a> <a class="idref" href="RegLang.nfa.html#q:48"><span class="id" title="variable">q</span></a> <a class="idref" href="RegLang.nfa.html#x:45"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">elim</span> =&gt; {<span class="id" title="var">p</span> <span class="id" title="var">x</span>} [<span class="id" title="var">q</span> <span class="id" title="var">H</span>|<span class="id" title="var">p</span> <span class="id" title="var">a</span> <span class="id" title="var">q</span> <span class="id" title="var">x</span> <span class="id" title="var">H</span> <span class="id" title="var">_</span> [<span class="id" title="var">q'</span> <span class="id" title="var">Hq1</span> <span class="id" title="var">Hq2</span>]|<span class="id" title="var">p</span> <span class="id" title="var">p'</span> <span class="id" title="var">x</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">q</span> =&gt; //. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fingraph.html#connect0"><span class="id" title="lemma">connect0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">p</span> =&gt; /=; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fingraph.html#connect0"><span class="id" title="lemma">connect0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a>. <span class="id" title="tactic">exists</span> <span class="id" title="var">q'</span> =&gt; //. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> [<span class="id" title="var">q</span> <span class="id" title="var">Hq1</span> <span class="id" title="var">Hq2</span>]. <span class="id" title="tactic">exists</span> <span class="id" title="var">q</span> =&gt; //. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hq1</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fingraph.html#connect_trans"><span class="id" title="lemma">connect_trans</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fingraph.html#connect1"><span class="id" title="lemma">connect1</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">Hq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">elim</span>: <span class="id" title="var">x</span> <span class="id" title="var">p</span> =&gt; [|<span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">IH</span>] <span class="id" title="var">p</span> [<span class="id" title="var">p'</span>] <span class="id" title="var">R</span> /= <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.nfa.html#lift_accept"><span class="id" title="lemma">lift_accept</span></a> <span class="id" title="var">R</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.nfa.html#EnfaFin"><span class="id" title="constructor">EnfaFin</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a> : <span class="id" title="var">H</span> =&gt; <span class="id" title="var">q</span> /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a> [<span class="id" title="var">q'</span> <span class="id" title="var">pq'</span> <span class="id" title="var">qq'</span>] <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.nfa.html#lift_accept"><span class="id" title="lemma">lift_accept</span></a> <span class="id" title="var">R</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.nfa.html#EnfaSome"><span class="id" title="constructor">EnfaSome</span></a> <span class="id" title="var">pq'</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">apply</span>: <span class="id" title="var">IH</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="nfa_ofP" class="idref" href="#nfa_ofP"><span class="id" title="lemma">nfa_ofP</span></a> <a id="x:49" class="idref" href="#x:49"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a> (<a class="idref" href="RegLang.nfa.html#enfa_lang"><span class="id" title="definition">enfa_lang</span></a> <a class="idref" href="RegLang.nfa.html#x:49"><span class="id" title="variable">x</span></a>) (<a class="idref" href="RegLang.nfa.html#x:49"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.nfa.html#nfa_lang"><span class="id" title="definition">nfa_lang</span></a> <a class="idref" href="RegLang.nfa.html#nfa_of"><span class="id" title="definition">nfa_of</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a>) =&gt; [[<span class="id" title="var">p</span> <span class="id" title="var">Hp1</span> <span class="id" title="var">Hp2</span>]|[<span class="id" title="var">s</span> <span class="id" title="var">Hs1</span> /<a class="idref" href="RegLang.nfa.html#enfaE"><span class="id" title="lemma">enfaE</span></a> [<span class="id" title="var">p</span> <span class="id" title="var">Hp1</span> <span class="id" title="var">Hp2</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">case</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#bigcupP"><span class="id" title="lemma">bigcupP</span></a> : <span class="id" title="var">Hp1</span> =&gt; <span class="id" title="var">s</span> <span class="id" title="var">Hs</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">s</span> =&gt; //. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.nfa.html#enfaE"><span class="id" title="lemma">enfaE</span></a>; <span class="id" title="tactic">exists</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">p</span> =&gt; //. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#bigcupP"><span class="id" title="lemma">bigcupP</span></a>; <span class="id" title="tactic">exists</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RegLang.nfa.html#NFA.EpsilonNFA"><span class="id" title="section">EpsilonNFA</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab19"></a><h2 class="section">Equivalence of DFAs and NFAs</h2>
 We use the powerset construction to obtain
   a deterministic automaton from a non-deterministic one. 
</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="NFA.PowersetConstruction" class="idref" href="#NFA.PowersetConstruction"><span class="id" title="section">PowersetConstruction</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a id="NFA.PowersetConstruction.A" class="idref" href="#NFA.PowersetConstruction.A"><span class="id" title="variable">A</span></a> : <a class="idref" href="RegLang.nfa.html#nfa"><span class="id" title="record">nfa</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="nfa_to_dfa" class="idref" href="#nfa_to_dfa"><span class="id" title="definition">nfa_to_dfa</span></a> := {|<br/>
&nbsp;&nbsp;<a class="idref" href="RegLang.dfa.html#dfa_s"><span class="id" title="projection">dfa_s</span></a> := <a class="idref" href="RegLang.nfa.html#nfa_s"><span class="id" title="projection">nfa_s</span></a> <a class="idref" href="RegLang.nfa.html#NFA.PowersetConstruction.A"><span class="id" title="variable">A</span></a>;<br/>
&nbsp;&nbsp;<a class="idref" href="RegLang.dfa.html#dfa_fin"><span class="id" title="projection">dfa_fin</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#9e3f1d0cf47c39e3927b1f03a0797327"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#9e3f1d0cf47c39e3927b1f03a0797327"><span class="id" title="notation">set</span></a> <a id="X:55" class="idref" href="#X:55"><span class="id" title="binder">X</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#9e3f1d0cf47c39e3927b1f03a0797327"><span class="id" title="notation">|</span></a> <a class="idref" href="RegLang.nfa.html#X:55"><span class="id" title="variable">X</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#::set_scope:x_':&amp;:'_x"><span class="id" title="notation">:&amp;:</span></a> <a class="idref" href="RegLang.nfa.html#nfa_fin"><span class="id" title="projection">nfa_fin</span></a> <a class="idref" href="RegLang.nfa.html#NFA.PowersetConstruction.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#c385a484ee9d1b4e0615924561a9b75e"><span class="id" title="notation">!=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#set0"><span class="id" title="definition">set0</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#9e3f1d0cf47c39e3927b1f03a0797327"><span class="id" title="notation">]</span></a>;<br/>
&nbsp;&nbsp;<a class="idref" href="RegLang.dfa.html#dfa_trans"><span class="id" title="projection">dfa_trans</span></a> <a id="X:51" class="idref" href="#X:51"><span class="id" title="binder">X</span></a> <a id="a:52" class="idref" href="#a:52"><span class="id" title="binder">a</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#9e3f1d0cf47c39e3927b1f03a0797327"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#9e3f1d0cf47c39e3927b1f03a0797327"><span class="id" title="notation">set</span></a> <a id="q:53" class="idref" href="#q:53"><span class="id" title="binder">q</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#9e3f1d0cf47c39e3927b1f03a0797327"><span class="id" title="notation">|</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#e9122b3568d6f47f958b76a6e55e4e40"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#e9122b3568d6f47f958b76a6e55e4e40"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#e9122b3568d6f47f958b76a6e55e4e40"><span class="id" title="notation">(</span></a><a id="p:54" class="idref" href="#p:54"><span class="id" title="binder">p</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#e9122b3568d6f47f958b76a6e55e4e40"><span class="id" title="notation">|</span></a> <a class="idref" href="RegLang.nfa.html#p:54"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.nfa.html#X:51"><span class="id" title="variable">X</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#e9122b3568d6f47f958b76a6e55e4e40"><span class="id" title="notation">)</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#f3be25edeb0349b0a76405eded9d0b98"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.nfa.html#nfa_trans"><span class="id" title="projection">nfa_trans</span></a> <a class="idref" href="RegLang.nfa.html#p:54"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.nfa.html#a:52"><span class="id" title="variable">a</span></a> <a class="idref" href="RegLang.nfa.html#q:53"><span class="id" title="variable">q</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#e9122b3568d6f47f958b76a6e55e4e40"><span class="id" title="notation">]</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#9e3f1d0cf47c39e3927b1f03a0797327"><span class="id" title="notation">]</span></a><br/>
|}.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nfa_to_dfa_correct" class="idref" href="#nfa_to_dfa_correct"><span class="id" title="lemma">nfa_to_dfa_correct</span></a> : <a class="idref" href="RegLang.nfa.html#nfa_lang"><span class="id" title="definition">nfa_lang</span></a> <a class="idref" href="RegLang.nfa.html#NFA.PowersetConstruction.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">i</span></a> <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.nfa.html#nfa_to_dfa"><span class="id" title="definition">nfa_to_dfa</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">w</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> {2}/<a class="idref" href="RegLang.nfa.html#nfa_to_dfa"><span class="id" title="definition">nfa_to_dfa</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">w</span> (<a class="idref" href="RegLang.nfa.html#nfa_s"><span class="id" title="projection">nfa_s</span></a> <span class="id" title="var">_</span>) =&gt; [|<span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">IH</span>] <span class="id" title="var">X</span>; <span class="id" title="tactic">rewrite</span> /= <a class="idref" href="RegLang.dfa.html#accE"><span class="id" title="definition">accE</span></a> ?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#existsP"><span class="id" title="lemma">existsP</span></a>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#set0Pn"><span class="id" title="lemma">set0Pn</span></a> =&gt; [] [<span class="id" title="var">p</span>] <span class="id" title="var">H</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> *.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">IH</span> /<a class="idref" href="RegLang.dfa.html#dfa_trans"><span class="id" title="projection">dfa_trans</span></a> /=. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">case</span> =&gt; <span class="id" title="var">p</span> <span class="id" title="var">inX</span> /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a> [<span class="id" title="var">q</span> ? ?]. <span class="id" title="tactic">exists</span> <span class="id" title="var">q</span> =&gt; //. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">case</span> =&gt; <span class="id" title="var">p</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> =&gt; /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a> [<span class="id" title="var">q</span>] ? ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">q</span> =&gt; //. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RegLang.nfa.html#NFA.PowersetConstruction"><span class="id" title="section">PowersetConstruction</span></a>.<br/>

<br/>
</div>

<div class="doc">
We also embed NFAs into DFAs. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="NFA.Embed" class="idref" href="#NFA.Embed"><span class="id" title="section">Embed</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a id="NFA.Embed.A" class="idref" href="#NFA.Embed.A"><span class="id" title="variable">A</span></a> : <a class="idref" href="RegLang.dfa.html#dfa"><span class="id" title="record">dfa</span></a> <a class="idref" href="RegLang.nfa.html#NFA.char"><span class="id" title="variable">char</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="dfa_to_nfa" class="idref" href="#dfa_to_nfa"><span class="id" title="definition">dfa_to_nfa</span></a> : <a class="idref" href="RegLang.nfa.html#nfa"><span class="id" title="record">nfa</span></a> := {|<br/>
&nbsp;&nbsp;<a class="idref" href="RegLang.nfa.html#nfa_s"><span class="id" title="projection">nfa_s</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">set</span></a> <a class="idref" href="RegLang.dfa.html#dfa_s"><span class="id" title="projection">dfa_s</span></a> <a class="idref" href="RegLang.nfa.html#NFA.Embed.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">]</span></a>;<br/>
&nbsp;&nbsp;<a class="idref" href="RegLang.nfa.html#nfa_fin"><span class="id" title="projection">nfa_fin</span></a> := <a class="idref" href="RegLang.dfa.html#dfa_fin"><span class="id" title="projection">dfa_fin</span></a> <a class="idref" href="RegLang.nfa.html#NFA.Embed.A"><span class="id" title="variable">A</span></a>;<br/>
&nbsp;&nbsp;<a class="idref" href="RegLang.nfa.html#nfa_trans"><span class="id" title="projection">nfa_trans</span></a> <a id="x:57" class="idref" href="#x:57"><span class="id" title="binder">x</span></a> <a id="a:58" class="idref" href="#a:58"><span class="id" title="binder">a</span></a> <a id="y:59" class="idref" href="#y:59"><span class="id" title="binder">y</span></a> := <a class="idref" href="RegLang.dfa.html#dfa_trans"><span class="id" title="projection">dfa_trans</span></a> <a class="idref" href="RegLang.nfa.html#x:57"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.nfa.html#a:58"><span class="id" title="variable">a</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <a class="idref" href="RegLang.nfa.html#y:59"><span class="id" title="variable">y</span></a> |}.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="dfa_to_nfa_correct" class="idref" href="#dfa_to_nfa_correct"><span class="id" title="lemma">dfa_to_nfa_correct</span></a> : <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.nfa.html#NFA.Embed.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">i</span></a> <a class="idref" href="RegLang.nfa.html#nfa_lang"><span class="id" title="definition">nfa_lang</span></a> <a class="idref" href="RegLang.nfa.html#dfa_to_nfa"><span class="id" title="definition">dfa_to_nfa</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">w</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> /<a class="idref" href="RegLang.nfa.html#nfa_s"><span class="id" title="projection">nfa_s</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">w</span> (<a class="idref" href="RegLang.dfa.html#dfa_s"><span class="id" title="projection">dfa_s</span></a> <a class="idref" href="RegLang.nfa.html#NFA.Embed.A"><span class="id" title="variable">A</span></a>) =&gt; [|<span class="id" title="var">b</span> <span class="id" title="var">w</span> <span class="id" title="var">IHw</span>] <span class="id" title="var">x</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.dfa.html#accE"><span class="id" title="definition">accE</span></a> /=.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#existsP"><span class="id" title="lemma">existsP</span></a> =&gt; [<span class="id" title="var">Fx</span>|[<span class="id" title="var">y</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#set1P"><span class="id" title="lemma">set1P</span></a> -&gt;]]//].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqxx"><span class="id" title="abbreviation">eqxx</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHw</span>. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">case</span> =&gt; <span class="id" title="var">y</span> /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#set1P"><span class="id" title="lemma">set1P</span></a> -&gt; <span class="id" title="var">H</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">exact</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#set11"><span class="id" title="lemma">set11</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#existsP"><span class="id" title="lemma">existsP</span></a>. <span class="id" title="tactic">exists</span> (<a class="idref" href="RegLang.dfa.html#dfa_trans"><span class="id" title="projection">dfa_trans</span></a> <span class="id" title="var">x</span> <span class="id" title="var">b</span>). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqxx"><span class="id" title="abbreviation">eqxx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">case</span> =&gt; <span class="id" title="var">y</span> /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#set1P"><span class="id" title="lemma">set1P</span></a> -&gt; {<span class="id" title="var">y</span>} /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#existsP"><span class="id" title="lemma">existsP</span></a> [<span class="id" title="var">z</span>] /<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [] /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>-&gt; <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">z</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#set11"><span class="id" title="lemma">set11</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RegLang.nfa.html#NFA.Embed"><span class="id" title="section">Embed</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab20"></a><h2 class="section">Operations on NFAs</h2>


<div class="paragraph"> </div>

To prepare the translation from regular expresstions to DFAs, we show
that finite automata are closed under all regular operations. We build
the primitive automata, complement and boolean combinations using
DFAs. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="nfa_char" class="idref" href="#nfa_char"><span class="id" title="definition">nfa_char</span></a> (<a id="a:60" class="idref" href="#a:60"><span class="id" title="binder">a</span></a>:<a class="idref" href="RegLang.nfa.html#NFA.char"><span class="id" title="variable">char</span></a>) := <br/>
&nbsp;&nbsp;{| <a class="idref" href="RegLang.nfa.html#nfa_s"><span class="id" title="projection">nfa_s</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">set</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">]</span></a>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.nfa.html#nfa_fin"><span class="id" title="projection">nfa_fin</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">set</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">]</span></a>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.nfa.html#nfa_trans"><span class="id" title="projection">nfa_trans</span></a> <a id="p:61" class="idref" href="#p:61"><span class="id" title="binder">p</span></a> <a id="b:62" class="idref" href="#b:62"><span class="id" title="binder">b</span></a> <a id="q:63" class="idref" href="#q:63"><span class="id" title="binder">q</span></a> := <span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.nfa.html#p:61"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="RegLang.nfa.html#q:63"><span class="id" title="variable">q</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">is</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">then</span> (<a class="idref" href="RegLang.nfa.html#b:62"><span class="id" title="variable">b</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <a class="idref" href="RegLang.nfa.html#a:60"><span class="id" title="variable">a</span></a>) <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> |}.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nfa_char_correct" class="idref" href="#nfa_char_correct"><span class="id" title="lemma">nfa_char_correct</span></a> (<a id="a:64" class="idref" href="#a:64"><span class="id" title="binder">a</span></a> : <a class="idref" href="RegLang.nfa.html#NFA.char"><span class="id" title="variable">char</span></a>) : <a class="idref" href="RegLang.nfa.html#nfa_lang"><span class="id" title="definition">nfa_lang</span></a> (<a class="idref" href="RegLang.nfa.html#nfa_char"><span class="id" title="definition">nfa_char</span></a> <a class="idref" href="RegLang.nfa.html#a:64"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrfun.html#876aa133fb3472bffd492f74ff496035"><span class="id" title="notation">=1</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#pred1"><span class="id" title="definition">pred1</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">[::</span></a> <a class="idref" href="RegLang.nfa.html#a:64"><span class="id" title="variable">a</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">w</span> /=. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> =&gt; [[<span class="id" title="var">p</span>]|].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> =&gt; /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>-&gt;. <span class="id" title="tactic">case</span>: <span class="id" title="var">w</span> =&gt; [|<span class="id" title="var">b</span> [|<span class="id" title="var">c</span> <span class="id" title="var">w</span>]] /=; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a> =&gt; [[/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>-&gt;|//]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">case</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a> =&gt; [[<span class="id" title="var">_</span>|//]]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>-&gt;. <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> //=.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="nfa_plus" class="idref" href="#nfa_plus"><span class="id" title="definition">nfa_plus</span></a> (<a id="N:65" class="idref" href="#N:65"><span class="id" title="binder">N</span></a> <a id="M:66" class="idref" href="#M:66"><span class="id" title="binder">M</span></a> : <a class="idref" href="RegLang.nfa.html#nfa"><span class="id" title="record">nfa</span></a>) := <br/>
&nbsp;&nbsp;{| <a class="idref" href="RegLang.nfa.html#nfa_s"><span class="id" title="projection">nfa_s</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#9e3f1d0cf47c39e3927b1f03a0797327"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#9e3f1d0cf47c39e3927b1f03a0797327"><span class="id" title="notation">set</span></a> <a id="q:75" class="idref" href="#q:75"><span class="id" title="binder">q</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#9e3f1d0cf47c39e3927b1f03a0797327"><span class="id" title="notation">|</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="RegLang.nfa.html#q:75"><span class="id" title="variable">q</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">q</span> =&gt; <a class="idref" href="RegLang.nfa.html#q:75"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.nfa.html#nfa_s"><span class="id" title="projection">nfa_s</span></a> <a class="idref" href="RegLang.nfa.html#N:65"><span class="id" title="variable">N</span></a> | <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">q</span> =&gt; <a class="idref" href="RegLang.nfa.html#q:75"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.nfa.html#nfa_s"><span class="id" title="projection">nfa_s</span></a> <a class="idref" href="RegLang.nfa.html#M:66"><span class="id" title="variable">M</span></a> <span class="id" title="keyword">end</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#9e3f1d0cf47c39e3927b1f03a0797327"><span class="id" title="notation">]</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.nfa.html#nfa_fin"><span class="id" title="projection">nfa_fin</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#9e3f1d0cf47c39e3927b1f03a0797327"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#9e3f1d0cf47c39e3927b1f03a0797327"><span class="id" title="notation">set</span></a> <a id="q:73" class="idref" href="#q:73"><span class="id" title="binder">q</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#9e3f1d0cf47c39e3927b1f03a0797327"><span class="id" title="notation">|</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="RegLang.nfa.html#q:73"><span class="id" title="variable">q</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">q</span> =&gt; <a class="idref" href="RegLang.nfa.html#q:73"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.nfa.html#nfa_fin"><span class="id" title="projection">nfa_fin</span></a> <a class="idref" href="RegLang.nfa.html#N:65"><span class="id" title="variable">N</span></a> | <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">q</span> =&gt; <a class="idref" href="RegLang.nfa.html#q:73"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.nfa.html#nfa_fin"><span class="id" title="projection">nfa_fin</span></a> <a class="idref" href="RegLang.nfa.html#M:66"><span class="id" title="variable">M</span></a> <span class="id" title="keyword">end</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#9e3f1d0cf47c39e3927b1f03a0797327"><span class="id" title="notation">]</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.nfa.html#nfa_trans"><span class="id" title="projection">nfa_trans</span></a> <a id="p:67" class="idref" href="#p:67"><span class="id" title="binder">p</span></a> <a id="a:68" class="idref" href="#a:68"><span class="id" title="binder">a</span></a> <a id="q:69" class="idref" href="#q:69"><span class="id" title="binder">q</span></a> := <span class="id" title="keyword">match</span> <a class="idref" href="RegLang.nfa.html#p:67"><span class="id" title="variable">p</span></a>,<a class="idref" href="RegLang.nfa.html#a:68"><span class="id" title="variable">a</span></a>,<a class="idref" href="RegLang.nfa.html#q:69"><span class="id" title="variable">q</span></a> <span class="id" title="keyword">with</span>  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">p</span>,<span class="id" title="var">a</span>,<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">q</span> =&gt; <a class="idref" href="RegLang.nfa.html#nfa_trans"><span class="id" title="projection">nfa_trans</span></a> <a class="idref" href="RegLang.nfa.html#p:67"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.nfa.html#a:68"><span class="id" title="variable">a</span></a> <a class="idref" href="RegLang.nfa.html#q:69"><span class="id" title="variable">q</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">p</span>,<span class="id" title="var">a</span>,<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">q</span> =&gt; <a class="idref" href="RegLang.nfa.html#nfa_trans"><span class="id" title="projection">nfa_trans</span></a> <a class="idref" href="RegLang.nfa.html#p:67"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.nfa.html#a:68"><span class="id" title="variable">a</span></a> <a class="idref" href="RegLang.nfa.html#q:69"><span class="id" title="variable">q</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>,<span class="id" title="var">_</span>,<span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> |}.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nfa_plus_correct" class="idref" href="#nfa_plus_correct"><span class="id" title="lemma">nfa_plus_correct</span></a> (<a id="N:77" class="idref" href="#N:77"><span class="id" title="binder">N</span></a> <a id="M:78" class="idref" href="#M:78"><span class="id" title="binder">M</span></a> : <a class="idref" href="RegLang.nfa.html#nfa"><span class="id" title="record">nfa</span></a>) : <br/>
&nbsp;&nbsp;<a class="idref" href="RegLang.nfa.html#nfa_lang"><span class="id" title="definition">nfa_lang</span></a> (<a class="idref" href="RegLang.nfa.html#nfa_plus"><span class="id" title="definition">nfa_plus</span></a> <a class="idref" href="RegLang.nfa.html#N:77"><span class="id" title="variable">N</span></a> <a class="idref" href="RegLang.nfa.html#M:78"><span class="id" title="variable">M</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">i</span></a> <a class="idref" href="RegLang.languages.html#plus"><span class="id" title="definition">plus</span></a> (<a class="idref" href="RegLang.nfa.html#nfa_lang"><span class="id" title="definition">nfa_lang</span></a> <a class="idref" href="RegLang.nfa.html#N:77"><span class="id" title="variable">N</span></a>) (<a class="idref" href="RegLang.nfa.html#nfa_lang"><span class="id" title="definition">nfa_lang</span></a> <a class="idref" href="RegLang.nfa.html#M:78"><span class="id" title="variable">M</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">w</span>. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>/<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">case</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a> =&gt; [[<span class="id" title="var">s</span>|<span class="id" title="var">s</span>]]; <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> =&gt; <span class="id" title="var">A</span> <span class="id" title="var">B</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>;[<span class="id" title="tactic">left</span>|<span class="id" title="tactic">right</span>];<span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a>; <span class="id" title="tactic">exists</span> <span class="id" title="var">s</span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">elim</span>: <span class="id" title="var">w</span> <span class="id" title="var">s</span> {<span class="id" title="var">A</span>} <span class="id" title="var">B</span> =&gt; /= [|<span class="id" title="var">a</span> <span class="id" title="var">w</span> <span class="id" title="var">IH</span>] <span class="id" title="var">s</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a> =&gt; [[|]// <span class="id" title="var">p</span> <span class="id" title="var">A</span> /<span class="id" title="var">IH</span> <span class="id" title="var">B</span>]. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">elim</span>: <span class="id" title="var">w</span> <span class="id" title="var">s</span> {<span class="id" title="var">A</span>} <span class="id" title="var">B</span> =&gt; /= [|<span class="id" title="var">a</span> <span class="id" title="var">w</span> <span class="id" title="var">IH</span>] <span class="id" title="var">s</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a> =&gt; [[|]// <span class="id" title="var">p</span> <span class="id" title="var">A</span> /<span class="id" title="var">IH</span> <span class="id" title="var">B</span>]. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>. <span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a> =&gt; /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a> [<span class="id" title="var">s</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>]; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a>; [<span class="id" title="tactic">exists</span>(<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">s</span>)|<span class="id" title="tactic">exists</span>(<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">s</span>)]; <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">elim</span>: <span class="id" title="var">w</span> <span class="id" title="var">s</span> {<span class="id" title="var">A</span>} <span class="id" title="var">B</span> =&gt; /= [|<span class="id" title="var">a</span> <span class="id" title="var">w</span> <span class="id" title="var">IH</span>] <span class="id" title="var">s</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a> =&gt; [<span class="id" title="var">p</span> <span class="id" title="var">A</span> /<span class="id" title="var">IH</span> <span class="id" title="var">B</span>]. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">elim</span>: <span class="id" title="var">w</span> <span class="id" title="var">s</span> {<span class="id" title="var">A</span>} <span class="id" title="var">B</span> =&gt; /= [|<span class="id" title="var">a</span> <span class="id" title="var">w</span> <span class="id" title="var">IH</span>] <span class="id" title="var">s</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a> =&gt; [<span class="id" title="var">p</span> <span class="id" title="var">A</span> /<span class="id" title="var">IH</span> <span class="id" title="var">B</span>]. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">p</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="nfa_eps" class="idref" href="#nfa_eps"><span class="id" title="definition">nfa_eps</span></a> : <a class="idref" href="RegLang.nfa.html#nfa"><span class="id" title="record">nfa</span></a> := <br/>
&nbsp;&nbsp;{| <a class="idref" href="RegLang.nfa.html#nfa_s"><span class="id" title="projection">nfa_s</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">set</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">]</span></a>; <a class="idref" href="RegLang.nfa.html#nfa_fin"><span class="id" title="projection">nfa_fin</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">set</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">]</span></a>; <a class="idref" href="RegLang.nfa.html#nfa_trans"><span class="id" title="projection">nfa_trans</span></a> <a id="p:79" class="idref" href="#p:79"><span class="id" title="binder">p</span></a> <a id="a:80" class="idref" href="#a:80"><span class="id" title="binder">a</span></a> <a id="q:81" class="idref" href="#q:81"><span class="id" title="binder">q</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> |}.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nfa_eps_correct" class="idref" href="#nfa_eps_correct"><span class="id" title="lemma">nfa_eps_correct</span></a>: <a class="idref" href="RegLang.nfa.html#nfa_lang"><span class="id" title="definition">nfa_lang</span></a> (<a class="idref" href="RegLang.nfa.html#nfa_eps"><span class="id" title="definition">nfa_eps</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">i</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#pred1"><span class="id" title="definition">pred1</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626"><span class="id" title="notation">[::]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">w</span>. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a>/<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">move</span> =&gt; [[]]. <span class="id" title="tactic">case</span>: <span class="id" title="var">w</span> =&gt; [|<span class="id" title="var">a</span> <span class="id" title="var">w</span>] //= <span class="id" title="var">_</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">move</span> =&gt; /=. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>=&gt;/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>-&gt;. <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /= <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The automata for concatenation and Kleene star are constructed by
taking NFAs as input and first building eNFAs which are then converted
to NFAs. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="NFA.eNFAOps" class="idref" href="#NFA.eNFAOps"><span class="id" title="section">eNFAOps</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variables</span> <a id="NFA.eNFAOps.A1" class="idref" href="#NFA.eNFAOps.A1"><span class="id" title="variable">A1</span></a> <a id="NFA.eNFAOps.A2" class="idref" href="#NFA.eNFAOps.A2"><span class="id" title="variable">A2</span></a> : <a class="idref" href="RegLang.nfa.html#nfa"><span class="id" title="record">nfa</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="enfa_conc" class="idref" href="#enfa_conc"><span class="id" title="definition">enfa_conc</span></a> : <a class="idref" href="RegLang.nfa.html#enfa"><span class="id" title="record">enfa</span></a> :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="RegLang.nfa.html#enfa_s"><span class="id" title="projection">enfa_s</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#de2c3fcab69008133cce8f8fc06f2b4b"><span class="id" title="notation">@:</span></a> <a class="idref" href="RegLang.nfa.html#nfa_s"><span class="id" title="projection">nfa_s</span></a> <a class="idref" href="RegLang.nfa.html#NFA.eNFAOps.A1"><span class="id" title="variable">A1</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.nfa.html#enfa_f"><span class="id" title="projection">enfa_f</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#de2c3fcab69008133cce8f8fc06f2b4b"><span class="id" title="notation">@:</span></a> <a class="idref" href="RegLang.nfa.html#nfa_fin"><span class="id" title="projection">nfa_fin</span></a> <a class="idref" href="RegLang.nfa.html#NFA.eNFAOps.A2"><span class="id" title="variable">A2</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.nfa.html#enfa_trans"><span class="id" title="projection">enfa_trans</span></a> <a id="c:84" class="idref" href="#c:84"><span class="id" title="binder">c</span></a> <a id="p:85" class="idref" href="#p:85"><span class="id" title="binder">p</span></a> <a id="q:86" class="idref" href="#q:86"><span class="id" title="binder">q</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="RegLang.nfa.html#c:84"><span class="id" title="variable">c</span></a>,<a class="idref" href="RegLang.nfa.html#p:85"><span class="id" title="variable">p</span></a>,<a class="idref" href="RegLang.nfa.html#q:86"><span class="id" title="variable">q</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">a</span>,<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">p'</span>,<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">q'</span> =&gt; <a class="idref" href="RegLang.nfa.html#nfa_trans"><span class="id" title="projection">nfa_trans</span></a> <span class="id" title="var">p'</span> <span class="id" title="var">a</span> <span class="id" title="var">q'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">a</span>,<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">p'</span>,<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">q'</span> =&gt; <a class="idref" href="RegLang.nfa.html#nfa_trans"><span class="id" title="projection">nfa_trans</span></a> <span class="id" title="var">p'</span> <span class="id" title="var">a</span> <span class="id" title="var">q'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>,<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">p'</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">q'</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">p'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.nfa.html#nfa_fin"><span class="id" title="projection">nfa_fin</span></a> <a class="idref" href="RegLang.nfa.html#NFA.eNFAOps.A1"><span class="id" title="variable">A1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">q'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.nfa.html#nfa_s"><span class="id" title="projection">nfa_s</span></a> <a class="idref" href="RegLang.nfa.html#NFA.eNFAOps.A2"><span class="id" title="variable">A2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>,<span class="id" title="var">_</span>,<span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> |}.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="enfa_concE" class="idref" href="#enfa_concE"><span class="id" title="lemma">enfa_concE</span></a> (<a id="p:90" class="idref" href="#p:90"><span class="id" title="binder">p</span></a> : <a class="idref" href="RegLang.nfa.html#enfa_conc"><span class="id" title="definition">enfa_conc</span></a>) <a id="x:91" class="idref" href="#x:91"><span class="id" title="binder">x</span></a> : <a class="idref" href="RegLang.nfa.html#enfa_accept"><span class="id" title="inductive">enfa_accept</span></a> <a class="idref" href="RegLang.nfa.html#p:90"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.nfa.html#x:91"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="RegLang.nfa.html#p:90"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">p'</span> =&gt; <a class="idref" href="RegLang.nfa.html#nfa_accept"><span class="id" title="definition">nfa_accept</span></a> <span class="id" title="var">p'</span> <a class="idref" href="RegLang.nfa.html#x:91"><span class="id" title="variable">x</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">p'</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="x1:93" class="idref" href="#x1:93"><span class="id" title="binder">x1</span></a> <a id="x2:94" class="idref" href="#x2:94"><span class="id" title="binder">x2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681"><span class="id" title="notation">[/\</span></a> <a class="idref" href="RegLang.nfa.html#x:91"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.nfa.html#x1:93"><span class="id" title="variable">x1</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <a class="idref" href="RegLang.nfa.html#x2:94"><span class="id" title="variable">x2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.nfa.html#nfa_accept"><span class="id" title="definition">nfa_accept</span></a> <span class="id" title="var">p'</span> <a class="idref" href="RegLang.nfa.html#x1:93"><span class="id" title="variable">x1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="RegLang.nfa.html#x2:94"><span class="id" title="variable">x2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.nfa.html#nfa_lang"><span class="id" title="definition">nfa_lang</span></a> <a class="idref" href="RegLang.nfa.html#NFA.eNFAOps.A2"><span class="id" title="variable">A2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span> =&gt; {<span class="id" title="var">p</span> <span class="id" title="var">x</span>} [[?|?] /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#imsetP"><span class="id" title="lemma">imsetP</span></a> [<span class="id" title="var">q</span>] // ? [-&gt;] //||].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">p</span>|<span class="id" title="var">p</span>] <span class="id" title="var">a</span> [<span class="id" title="var">q</span>|<span class="id" title="var">q</span>] <span class="id" title="var">x</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">pq</span> <span class="id" title="var">_</span> [<span class="id" title="var">x1</span>] [<span class="id" title="var">x2</span>] [<span class="id" title="var">X1</span> <span class="id" title="var">X2</span> <span class="id" title="var">X3</span>]. <span class="id" title="tactic">exists</span> (<span class="id" title="var">a</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="var">x1</span>); <span class="id" title="tactic">exists</span> <span class="id" title="var">x2</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">split</span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a>; <span class="id" title="tactic">exists</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">pq</span> <span class="id" title="var">_</span> <span class="id" title="var">Hq</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a>; <span class="id" title="tactic">exists</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">p</span>|<span class="id" title="var">p</span>] [<span class="id" title="var">q</span>|<span class="id" title="var">q</span>] //= <span class="id" title="var">x</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[<span class="id" title="var">Hp</span> <span class="id" title="var">Hq</span>] <span class="id" title="var">_</span> ?. <span class="id" title="tactic">exists</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626"><span class="id" title="notation">[::]</span></a>; <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">split</span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a>; <span class="id" title="tactic">exists</span> <span class="id" title="var">q</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="enfa_concIr" class="idref" href="#enfa_concIr"><span class="id" title="lemma">enfa_concIr</span></a> (<a id="p:95" class="idref" href="#p:95"><span class="id" title="binder">p</span></a> : <a class="idref" href="RegLang.nfa.html#NFA.eNFAOps.A2"><span class="id" title="variable">A2</span></a>) <a id="x:96" class="idref" href="#x:96"><span class="id" title="binder">x</span></a> : <a class="idref" href="RegLang.nfa.html#nfa_accept"><span class="id" title="definition">nfa_accept</span></a> <a class="idref" href="RegLang.nfa.html#p:95"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.nfa.html#x:96"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> @<a class="idref" href="RegLang.nfa.html#enfa_accept"><span class="id" title="inductive">enfa_accept</span></a> <a class="idref" href="RegLang.nfa.html#enfa_conc"><span class="id" title="definition">enfa_conc</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="RegLang.nfa.html#p:95"><span class="id" title="variable">p</span></a>) <a class="idref" href="RegLang.nfa.html#x:96"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">x</span> <span class="id" title="var">p</span> =&gt; [<span class="id" title="var">p</span> <span class="id" title="var">Hp</span>|<span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">IH</span> <span class="id" title="var">p</span> /= /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a> [<span class="id" title="var">q</span> <span class="id" title="var">q1</span> <span class="id" title="var">q2</span>]].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#mem_imset"><span class="id" title="lemma">mem_imset</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>: (@<a class="idref" href="RegLang.nfa.html#EnfaSome"><span class="id" title="constructor">EnfaSome</span></a> <a class="idref" href="RegLang.nfa.html#enfa_conc"><span class="id" title="definition">enfa_conc</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">q</span>)) =&gt; //. <span class="id" title="tactic">exact</span>: <span class="id" title="var">IH</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="enfa_concIl" class="idref" href="#enfa_concIl"><span class="id" title="lemma">enfa_concIl</span></a> (<a id="p:97" class="idref" href="#p:97"><span class="id" title="binder">p</span></a> : <a class="idref" href="RegLang.nfa.html#NFA.eNFAOps.A1"><span class="id" title="variable">A1</span></a>) <a id="x1:98" class="idref" href="#x1:98"><span class="id" title="binder">x1</span></a> <a id="x2:99" class="idref" href="#x2:99"><span class="id" title="binder">x2</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="RegLang.nfa.html#nfa_accept"><span class="id" title="definition">nfa_accept</span></a> <a class="idref" href="RegLang.nfa.html#p:97"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.nfa.html#x1:98"><span class="id" title="variable">x1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.nfa.html#x2:99"><span class="id" title="variable">x2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.nfa.html#nfa_lang"><span class="id" title="definition">nfa_lang</span></a> <a class="idref" href="RegLang.nfa.html#NFA.eNFAOps.A2"><span class="id" title="variable">A2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> @<a class="idref" href="RegLang.nfa.html#enfa_accept"><span class="id" title="inductive">enfa_accept</span></a> <a class="idref" href="RegLang.nfa.html#enfa_conc"><span class="id" title="definition">enfa_conc</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="RegLang.nfa.html#p:97"><span class="id" title="variable">p</span></a>) (<a class="idref" href="RegLang.nfa.html#x1:98"><span class="id" title="variable">x1</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a><a class="idref" href="RegLang.nfa.html#x2:99"><span class="id" title="variable">x2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">x1</span> <span class="id" title="var">p</span> =&gt; /= [<span class="id" title="var">p</span> <span class="id" title="var">Hp</span> /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a> [<span class="id" title="var">q</span> <span class="id" title="var">q1</span> <span class="id" title="var">q2</span>]|<span class="id" title="var">a</span> <span class="id" title="var">x1</span> <span class="id" title="var">IH</span> <span class="id" title="var">p</span> /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a> [<span class="id" title="var">q</span> <span class="id" title="var">q1</span> <span class="id" title="var">q2</span>] <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>: (@<a class="idref" href="RegLang.nfa.html#EnfaNone"><span class="id" title="constructor">EnfaNone</span></a> <a class="idref" href="RegLang.nfa.html#enfa_conc"><span class="id" title="definition">enfa_conc</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">q</span>)). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /= <span class="id" title="var">Hp</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.nfa.html#enfa_concIr"><span class="id" title="lemma">enfa_concIr</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>: (@<a class="idref" href="RegLang.nfa.html#EnfaSome"><span class="id" title="constructor">EnfaSome</span></a> <a class="idref" href="RegLang.nfa.html#enfa_conc"><span class="id" title="definition">enfa_conc</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">q</span>)). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /= <span class="id" title="var">q1</span>. <span class="id" title="tactic">exact</span>: <span class="id" title="var">IH</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="enfa_concP" class="idref" href="#enfa_concP"><span class="id" title="lemma">enfa_concP</span></a> <a id="x:100" class="idref" href="#x:100"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a> (<a class="idref" href="RegLang.nfa.html#enfa_lang"><span class="id" title="definition">enfa_lang</span></a> <a class="idref" href="RegLang.nfa.html#enfa_conc"><span class="id" title="definition">enfa_conc</span></a> <a class="idref" href="RegLang.nfa.html#x:100"><span class="id" title="variable">x</span></a>) (<a class="idref" href="RegLang.languages.html#conc"><span class="id" title="definition">conc</span></a> (<a class="idref" href="RegLang.nfa.html#nfa_lang"><span class="id" title="definition">nfa_lang</span></a> <a class="idref" href="RegLang.nfa.html#NFA.eNFAOps.A1"><span class="id" title="variable">A1</span></a>) (<a class="idref" href="RegLang.nfa.html#nfa_lang"><span class="id" title="definition">nfa_lang</span></a> <a class="idref" href="RegLang.nfa.html#NFA.eNFAOps.A2"><span class="id" title="variable">A2</span></a>) <a class="idref" href="RegLang.nfa.html#x:100"><span class="id" title="variable">x</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> (@<a class="idref" href="RegLang.languages.html#concP"><span class="id" title="lemma">concP</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) =&gt; [[<span class="id" title="var">x1</span>] [<span class="id" title="var">x2</span>] [<span class="id" title="var">X1</span> [<span class="id" title="var">X2</span> <span class="id" title="var">X3</span>]] |].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">case</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a> : <span class="id" title="var">X2</span> =&gt; <span class="id" title="var">s</span> ? ?. <span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">s</span>); <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="RegLang.nfa.html#enfa_conc"><span class="id" title="definition">enfa_conc</span></a> /= <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#mem_imset"><span class="id" title="lemma">mem_imset</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.nfa.html#enfa_concIl"><span class="id" title="lemma">enfa_concIl</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; [[<span class="id" title="var">s</span> /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#imsetP"><span class="id" title="lemma">imsetP</span></a> [? ? [?]] /<a class="idref" href="RegLang.nfa.html#enfa_concE"><span class="id" title="lemma">enfa_concE</span></a> [<span class="id" title="var">x1</span>] [<span class="id" title="var">x2</span>] [? ? ?] |<span class="id" title="var">s</span>]]; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#imsetP"><span class="id" title="lemma">imsetP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">x1</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">x2</span>. <span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">split</span> =&gt; //). <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">s</span>;<span class="id" title="tactic">subst</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="enfa_star" class="idref" href="#enfa_star"><span class="id" title="definition">enfa_star</span></a> : <a class="idref" href="RegLang.nfa.html#enfa"><span class="id" title="record">enfa</span></a> :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="RegLang.nfa.html#enfa_s"><span class="id" title="projection">enfa_s</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">set</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">]</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.nfa.html#enfa_f"><span class="id" title="projection">enfa_f</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">set</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">]</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.nfa.html#enfa_trans"><span class="id" title="projection">enfa_trans</span></a> <a id="c:101" class="idref" href="#c:101"><span class="id" title="binder">c</span></a> <a id="p:102" class="idref" href="#p:102"><span class="id" title="binder">p</span></a> <a id="q:103" class="idref" href="#q:103"><span class="id" title="binder">q</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="RegLang.nfa.html#c:101"><span class="id" title="variable">c</span></a>,<a class="idref" href="RegLang.nfa.html#p:102"><span class="id" title="variable">p</span></a>,<a class="idref" href="RegLang.nfa.html#q:103"><span class="id" title="variable">q</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">a</span>,<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">p'</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">q'</span> =&gt; <span class="id" title="var">q'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.nfa.html#nfa_trans"><span class="id" title="projection">nfa_trans</span></a> <span class="id" title="var">p'</span> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">p'</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <span class="id" title="var">p'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.nfa.html#nfa_fin"><span class="id" title="projection">nfa_fin</span></a> <a class="idref" href="RegLang.nfa.html#NFA.eNFAOps.A1"><span class="id" title="variable">A1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">s</span> =&gt; <span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.nfa.html#nfa_s"><span class="id" title="projection">nfa_s</span></a> <a class="idref" href="RegLang.nfa.html#NFA.eNFAOps.A1"><span class="id" title="variable">A1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>,<span class="id" title="var">_</span>,<span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> |}.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="enfa_s_None" class="idref" href="#enfa_s_None"><span class="id" title="lemma">enfa_s_None</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.nfa.html#enfa_s"><span class="id" title="projection">enfa_s</span></a> <a class="idref" href="RegLang.nfa.html#enfa_star"><span class="id" title="definition">enfa_star</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="enfa_f_None" class="idref" href="#enfa_f_None"><span class="id" title="lemma">enfa_f_None</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.nfa.html#enfa_f"><span class="id" title="projection">enfa_f</span></a> <a class="idref" href="RegLang.nfa.html#enfa_star"><span class="id" title="definition">enfa_star</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">enfa_s_None</span> <span class="id" title="var">enfa_f_None</span> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="enfa_star_cat" class="idref" href="#enfa_star_cat"><span class="id" title="lemma">enfa_star_cat</span></a> <a id="x1:107" class="idref" href="#x1:107"><span class="id" title="binder">x1</span></a> <a id="x2:108" class="idref" href="#x2:108"><span class="id" title="binder">x2</span></a> (<a id="p:109" class="idref" href="#p:109"><span class="id" title="binder">p</span></a> : <a class="idref" href="RegLang.nfa.html#enfa_star"><span class="id" title="definition">enfa_star</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="RegLang.nfa.html#enfa_accept"><span class="id" title="inductive">enfa_accept</span></a> <a class="idref" href="RegLang.nfa.html#p:109"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.nfa.html#x1:107"><span class="id" title="variable">x1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.nfa.html#enfa_lang"><span class="id" title="definition">enfa_lang</span></a> <a class="idref" href="RegLang.nfa.html#enfa_star"><span class="id" title="definition">enfa_star</span></a> <a class="idref" href="RegLang.nfa.html#x2:108"><span class="id" title="variable">x2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.nfa.html#enfa_accept"><span class="id" title="inductive">enfa_accept</span></a> <a class="idref" href="RegLang.nfa.html#p:109"><span class="id" title="variable">p</span></a> (<a class="idref" href="RegLang.nfa.html#x1:107"><span class="id" title="variable">x1</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <a class="idref" href="RegLang.nfa.html#x2:108"><span class="id" title="variable">x2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span> =&gt; {<span class="id" title="var">p</span> <span class="id" title="var">x1</span>}.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">p</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> =&gt; /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>-&gt;. <span class="id" title="tactic">case</span> =&gt; <span class="id" title="var">q</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> =&gt; /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>-&gt;.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">p</span> <span class="id" title="var">a</span> <span class="id" title="var">q</span> <span class="id" title="var">x</span> /=. <span class="id" title="tactic">case</span>: <span class="id" title="var">p</span> =&gt; // <span class="id" title="var">p</span>. <span class="id" title="tactic">case</span>: <span class="id" title="var">q</span> =&gt; // <span class="id" title="var">q</span> <span class="id" title="var">pq</span> ? <span class="id" title="var">IH</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.nfa.html#EnfaSome"><span class="id" title="constructor">EnfaSome</span></a> (<span class="id" title="var">IH</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">p</span>|] [<span class="id" title="var">q</span>|] <span class="id" title="var">x</span> //= <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> <span class="id" title="var">IH</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.nfa.html#EnfaNone"><span class="id" title="constructor">EnfaNone</span></a> (<span class="id" title="var">IH</span> <span class="id" title="var">H</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="enfa_starI" class="idref" href="#enfa_starI"><span class="id" title="lemma">enfa_starI</span></a> <a id="x:110" class="idref" href="#x:110"><span class="id" title="binder">x</span></a> (<a id="p:111" class="idref" href="#p:111"><span class="id" title="binder">p</span></a> : <a class="idref" href="RegLang.nfa.html#NFA.eNFAOps.A1"><span class="id" title="variable">A1</span></a>) : <a class="idref" href="RegLang.nfa.html#nfa_accept"><span class="id" title="definition">nfa_accept</span></a> <a class="idref" href="RegLang.nfa.html#p:111"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.nfa.html#x:110"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> @<a class="idref" href="RegLang.nfa.html#enfa_accept"><span class="id" title="inductive">enfa_accept</span></a> <a class="idref" href="RegLang.nfa.html#enfa_star"><span class="id" title="definition">enfa_star</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="RegLang.nfa.html#p:111"><span class="id" title="variable">p</span></a>) <a class="idref" href="RegLang.nfa.html#x:110"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">x</span> <span class="id" title="var">p</span> =&gt; /= [<span class="id" title="var">p</span> <span class="id" title="var">H</span>|<span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">IH</span> <span class="id" title="var">p</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>: (@<a class="idref" href="RegLang.nfa.html#EnfaNone"><span class="id" title="constructor">EnfaNone</span></a> <a class="idref" href="RegLang.nfa.html#enfa_star"><span class="id" title="definition">enfa_star</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) =&gt; //. <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.nfa.html#EnfaFin"><span class="id" title="constructor">EnfaFin</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">case</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a> =&gt; <span class="id" title="var">q</span> <span class="id" title="var">q1</span> /<span class="id" title="var">IH</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.nfa.html#EnfaSome"><span class="id" title="constructor">EnfaSome</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="enfa_star_langI" class="idref" href="#enfa_star_langI"><span class="id" title="lemma">enfa_star_langI</span></a> <a id="x:112" class="idref" href="#x:112"><span class="id" title="binder">x</span></a> : <a class="idref" href="RegLang.nfa.html#x:112"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.nfa.html#nfa_lang"><span class="id" title="definition">nfa_lang</span></a> <a class="idref" href="RegLang.nfa.html#NFA.eNFAOps.A1"><span class="id" title="variable">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> @<a class="idref" href="RegLang.nfa.html#enfa_accept"><span class="id" title="inductive">enfa_accept</span></a> <a class="idref" href="RegLang.nfa.html#enfa_star"><span class="id" title="definition">enfa_star</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="RegLang.nfa.html#x:112"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a> =&gt; <span class="id" title="var">s</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (@<a class="idref" href="RegLang.nfa.html#EnfaNone"><span class="id" title="constructor">EnfaNone</span></a> <a class="idref" href="RegLang.nfa.html#enfa_star"><span class="id" title="definition">enfa_star</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">s</span>)) =&gt; //. <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.nfa.html#enfa_starI"><span class="id" title="lemma">enfa_starI</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="enfa_starE" class="idref" href="#enfa_starE"><span class="id" title="lemma">enfa_starE</span></a> (<a id="o:113" class="idref" href="#o:113"><span class="id" title="binder">o</span></a> : <a class="idref" href="RegLang.nfa.html#enfa_star"><span class="id" title="definition">enfa_star</span></a>) <a id="x:114" class="idref" href="#x:114"><span class="id" title="binder">x</span></a> : <a class="idref" href="RegLang.nfa.html#enfa_accept"><span class="id" title="inductive">enfa_accept</span></a> <a class="idref" href="RegLang.nfa.html#o:113"><span class="id" title="variable">o</span></a> <a class="idref" href="RegLang.nfa.html#x:114"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="RegLang.nfa.html#o:113"><span class="id" title="variable">o</span></a> <span class="id" title="keyword">is</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">p</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="x1:116" class="idref" href="#x1:116"><span class="id" title="binder">x1</span></a> <a id="x2:117" class="idref" href="#x2:117"><span class="id" title="binder">x2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681"><span class="id" title="notation">[/\</span></a> <a class="idref" href="RegLang.nfa.html#x:114"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.nfa.html#x1:116"><span class="id" title="variable">x1</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <a class="idref" href="RegLang.nfa.html#x2:117"><span class="id" title="variable">x2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.nfa.html#nfa_accept"><span class="id" title="definition">nfa_accept</span></a> <span class="id" title="var">p</span> <a class="idref" href="RegLang.nfa.html#x1:116"><span class="id" title="variable">x1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="RegLang.languages.html#star"><span class="id" title="definition">star</span></a> (<a class="idref" href="RegLang.nfa.html#nfa_lang"><span class="id" title="definition">nfa_lang</span></a> <a class="idref" href="RegLang.nfa.html#NFA.eNFAOps.A1"><span class="id" title="variable">A1</span></a>) <a class="idref" href="RegLang.nfa.html#x2:117"><span class="id" title="variable">x2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="RegLang.languages.html#star"><span class="id" title="definition">star</span></a> (<a class="idref" href="RegLang.nfa.html#nfa_lang"><span class="id" title="definition">nfa_lang</span></a> <a class="idref" href="RegLang.nfa.html#NFA.eNFAOps.A1"><span class="id" title="variable">A1</span></a>) <a class="idref" href="RegLang.nfa.html#x:114"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span> =&gt; {<span class="id" title="var">x</span> <span class="id" title="var">o</span>}.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">q</span>|//]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>; <span class="id" title="tactic">move</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">p</span>|] <span class="id" title="var">a</span> [<span class="id" title="var">q</span>|] <span class="id" title="var">x</span> // <span class="id" title="var">H</span> <span class="id" title="var">acc</span> [<span class="id" title="var">x1</span>] [<span class="id" title="var">x2</span>] [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span>]. <span class="id" title="tactic">exists</span> (<span class="id" title="var">a</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="var">x1</span>); <span class="id" title="tactic">exists</span> <span class="id" title="var">x2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">split</span> =&gt; //. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a>; <span class="id" title="tactic">exists</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">p</span>|] [<span class="id" title="var">q</span>|] <span class="id" title="var">x</span> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span> =&gt; *. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626"><span class="id" title="notation">[::]</span></a>; <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">H</span> <span class="id" title="var">acc</span> [<span class="id" title="var">x1</span>] [<span class="id" title="var">x2</span>] [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.languages.html#star_cat"><span class="id" title="lemma">star_cat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a>; <span class="id" title="tactic">exists</span> <span class="id" title="var">q</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="enfa_starP" class="idref" href="#enfa_starP"><span class="id" title="lemma">enfa_starP</span></a> <a id="x:118" class="idref" href="#x:118"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a> (<a class="idref" href="RegLang.nfa.html#enfa_lang"><span class="id" title="definition">enfa_lang</span></a> <a class="idref" href="RegLang.nfa.html#enfa_star"><span class="id" title="definition">enfa_star</span></a> <a class="idref" href="RegLang.nfa.html#x:118"><span class="id" title="variable">x</span></a>) (<a class="idref" href="RegLang.languages.html#star"><span class="id" title="definition">star</span></a> (<a class="idref" href="RegLang.nfa.html#nfa_lang"><span class="id" title="definition">nfa_lang</span></a> <a class="idref" href="RegLang.nfa.html#NFA.eNFAOps.A1"><span class="id" title="variable">A1</span></a>) <a class="idref" href="RegLang.nfa.html#x:118"><span class="id" title="variable">x</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">case</span>/<a class="idref" href="RegLang.languages.html#starP"><span class="id" title="lemma">starP</span></a> =&gt; <span class="id" title="var">vv</span> <span class="id" title="var">H</span> -&gt;. <span class="id" title="tactic">elim</span>: <span class="id" title="var">vv</span> <span class="id" title="var">H</span> =&gt; /= [<span class="id" title="var">_</span>|<span class="id" title="var">v</span> <span class="id" title="var">vv</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; //. <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.nfa.html#EnfaFin"><span class="id" title="constructor">EnfaFin</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">IH</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[/<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>] <span class="id" title="var">H3</span>]. <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.nfa.html#enfa_star_cat"><span class="id" title="lemma">enfa_star_cat</span></a> (<span class="id" title="var">IH</span> <span class="id" title="var">_</span>) =&gt; //. <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.nfa.html#enfa_star_langI"><span class="id" title="lemma">enfa_star_langI</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">case</span> =&gt; <span class="id" title="var">q</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> =&gt; /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>-&gt; {<span class="id" title="var">q</span>}. <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.nfa.html#enfa_starE"><span class="id" title="lemma">enfa_starE</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="nfa_conc" class="idref" href="#nfa_conc"><span class="id" title="definition">nfa_conc</span></a> := <a class="idref" href="RegLang.nfa.html#nfa_of"><span class="id" title="definition">nfa_of</span></a> (<a class="idref" href="RegLang.nfa.html#enfa_conc"><span class="id" title="definition">enfa_conc</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nfa_conc_correct" class="idref" href="#nfa_conc_correct"><span class="id" title="lemma">nfa_conc_correct</span></a> : <a class="idref" href="RegLang.nfa.html#nfa_lang"><span class="id" title="definition">nfa_lang</span></a> <a class="idref" href="RegLang.nfa.html#nfa_conc"><span class="id" title="definition">nfa_conc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">i</span></a> <a class="idref" href="RegLang.languages.html#conc"><span class="id" title="definition">conc</span></a> (<a class="idref" href="RegLang.nfa.html#nfa_lang"><span class="id" title="definition">nfa_lang</span></a> <a class="idref" href="RegLang.nfa.html#NFA.eNFAOps.A1"><span class="id" title="variable">A1</span></a>) (<a class="idref" href="RegLang.nfa.html#nfa_lang"><span class="id" title="definition">nfa_lang</span></a> <a class="idref" href="RegLang.nfa.html#NFA.eNFAOps.A2"><span class="id" title="variable">A2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span>. <span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.nfa.html#nfa_ofP"><span class="id" title="lemma">nfa_ofP</span></a>/<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a> =&gt; ?;<span class="id" title="tactic">exact</span>/<a class="idref" href="RegLang.nfa.html#enfa_concP"><span class="id" title="lemma">enfa_concP</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="nfa_star" class="idref" href="#nfa_star"><span class="id" title="definition">nfa_star</span></a> := <a class="idref" href="RegLang.nfa.html#nfa_of"><span class="id" title="definition">nfa_of</span></a> (<a class="idref" href="RegLang.nfa.html#enfa_star"><span class="id" title="definition">enfa_star</span></a>).<br/>
<span class="id" title="keyword">Lemma</span> <a id="nfa_star_correct" class="idref" href="#nfa_star_correct"><span class="id" title="lemma">nfa_star_correct</span></a> : <a class="idref" href="RegLang.nfa.html#nfa_lang"><span class="id" title="definition">nfa_lang</span></a> <a class="idref" href="RegLang.nfa.html#nfa_star"><span class="id" title="definition">nfa_star</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">i</span></a> <a class="idref" href="RegLang.languages.html#star"><span class="id" title="definition">star</span></a> (<a class="idref" href="RegLang.nfa.html#nfa_lang"><span class="id" title="definition">nfa_lang</span></a> <a class="idref" href="RegLang.nfa.html#NFA.eNFAOps.A1"><span class="id" title="variable">A1</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span>. <span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.nfa.html#nfa_ofP"><span class="id" title="lemma">nfa_ofP</span></a>/<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a> =&gt; ?;<span class="id" title="tactic">exact</span>/<a class="idref" href="RegLang.nfa.html#enfa_starP"><span class="id" title="lemma">enfa_starP</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RegLang.nfa.html#NFA.eNFAOps"><span class="id" title="section">eNFAOps</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab21"></a><h2 class="section">Runs on NFAs</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="NFA.NFARun" class="idref" href="#NFA.NFARun"><span class="id" title="section">NFARun</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="NFA.NFARun.M" class="idref" href="#NFA.NFARun.M"><span class="id" title="variable">M</span></a> : <a class="idref" href="RegLang.nfa.html#nfa"><span class="id" title="record">nfa</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a id="nfa_run" class="idref" href="#nfa_run"><span class="id" title="inductive">nfa_run</span></a> : <a class="idref" href="RegLang.nfa.html#word"><span class="id" title="abbreviation">word</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.nfa.html#NFA.NFARun.M"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> <a class="idref" href="RegLang.nfa.html#NFA.NFARun.M"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="run0" class="idref" href="#run0"><span class="id" title="constructor">run0</span></a> <a id="p:122" class="idref" href="#p:122"><span class="id" title="binder">p</span></a> <span class="id" title="keyword">of</span> <a class="idref" href="RegLang.nfa.html#p:122"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.nfa.html#nfa_fin"><span class="id" title="projection">nfa_fin</span></a> <a class="idref" href="RegLang.nfa.html#NFA.NFARun.M"><span class="id" title="variable">M</span></a> : <a class="idref" href="RegLang.nfa.html#nfa_run:120"><span class="id" title="inductive">nfa_run</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626"><span class="id" title="notation">[::]</span></a> <a class="idref" href="RegLang.nfa.html#p:122"><span class="id" title="variable">p</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626"><span class="id" title="notation">[::]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a id="runS" class="idref" href="#runS"><span class="id" title="constructor">runS</span></a> <a id="a:123" class="idref" href="#a:123"><span class="id" title="binder">a</span></a> <a id="p:124" class="idref" href="#p:124"><span class="id" title="binder">p</span></a> <a id="q:125" class="idref" href="#q:125"><span class="id" title="binder">q</span></a> <a id="x:126" class="idref" href="#x:126"><span class="id" title="binder">x</span></a> <a id="r:127" class="idref" href="#r:127"><span class="id" title="binder">r</span></a> &amp; <a class="idref" href="RegLang.nfa.html#q:125"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.nfa.html#nfa_trans"><span class="id" title="projection">nfa_trans</span></a> <a class="idref" href="RegLang.nfa.html#p:124"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.nfa.html#a:123"><span class="id" title="variable">a</span></a> : <a class="idref" href="RegLang.nfa.html#nfa_run:120"><span class="id" title="inductive">nfa_run</span></a> <a class="idref" href="RegLang.nfa.html#x:126"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.nfa.html#q:125"><span class="id" title="variable">q</span></a> <a class="idref" href="RegLang.nfa.html#r:127"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.nfa.html#nfa_run:120"><span class="id" title="inductive">nfa_run</span></a> (<a class="idref" href="RegLang.nfa.html#a:123"><span class="id" title="variable">a</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="RegLang.nfa.html#x:126"><span class="id" title="variable">x</span></a>) <a class="idref" href="RegLang.nfa.html#p:124"><span class="id" title="variable">p</span></a> (<a class="idref" href="RegLang.nfa.html#q:125"><span class="id" title="variable">q</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="RegLang.nfa.html#r:127"><span class="id" title="variable">r</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="nfa_acceptP" class="idref" href="#nfa_acceptP"><span class="id" title="lemma">nfa_acceptP</span></a> <a id="x:128" class="idref" href="#x:128"><span class="id" title="binder">x</span></a> <a id="p:129" class="idref" href="#p:129"><span class="id" title="binder">p</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="r:130" class="idref" href="#r:130"><span class="id" title="binder">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.nfa.html#nfa_run"><span class="id" title="inductive">nfa_run</span></a> <a class="idref" href="RegLang.nfa.html#x:128"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.nfa.html#p:129"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.nfa.html#r:130"><span class="id" title="variable">r</span></a>) (<a class="idref" href="RegLang.nfa.html#nfa_accept"><span class="id" title="definition">nfa_accept</span></a> <a class="idref" href="RegLang.nfa.html#p:129"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.nfa.html#x:128"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>) =&gt; [|[<span class="id" title="var">r</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">elim</span>: <span class="id" title="var">x</span> <span class="id" title="var">p</span> =&gt; [|<span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">IHx</span>] <span class="id" title="var">p</span> /=; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626"><span class="id" title="notation">[::]</span></a>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a> =&gt; <span class="id" title="var">q</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span>. <span class="id" title="tactic">case</span> (<span class="id" title="var">IHx</span> <span class="id" title="var">q</span> <span class="id" title="var">p2</span>) =&gt; <span class="id" title="var">r</span> ?. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> (<span class="id" title="var">q</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="var">r</span>); <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">elim</span>: <span class="id" title="var">x</span> <span class="id" title="var">r</span> <span class="id" title="var">p</span> =&gt; [|<span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">IHx</span>] <span class="id" title="var">r</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a>. <span class="id" title="tactic">exists</span> <span class="id" title="var">q</span> =&gt; //. <span class="id" title="tactic">exact</span>: <span class="id" title="var">IHx</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="run_size" class="idref" href="#run_size"><span class="id" title="lemma">run_size</span></a> <a id="x:131" class="idref" href="#x:131"><span class="id" title="binder">x</span></a> <a id="r:132" class="idref" href="#r:132"><span class="id" title="binder">r</span></a> <a id="p:133" class="idref" href="#p:133"><span class="id" title="binder">p</span></a> : <a class="idref" href="RegLang.nfa.html#nfa_run"><span class="id" title="inductive">nfa_run</span></a> <a class="idref" href="RegLang.nfa.html#x:131"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.nfa.html#p:133"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.nfa.html#r:132"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="RegLang.nfa.html#x:131"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="RegLang.nfa.html#r:132"><span class="id" title="variable">r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">elim</span> =&gt; // {<span class="id" title="var">r</span> <span class="id" title="var">p</span> <span class="id" title="var">x</span>} <span class="id" title="var">a</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">r</span> <span class="id" title="var">x</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> /= -&gt;. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="nfaP" class="idref" href="#nfaP"><span class="id" title="lemma">nfaP</span></a> <a id="x:134" class="idref" href="#x:134"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="s:135" class="idref" href="#s:135"><span class="id" title="binder">s</span></a> <a id="r:136" class="idref" href="#r:136"><span class="id" title="binder">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.nfa.html#s:135"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.nfa.html#nfa_s"><span class="id" title="projection">nfa_s</span></a> <a class="idref" href="RegLang.nfa.html#NFA.NFARun.M"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="RegLang.nfa.html#nfa_run"><span class="id" title="inductive">nfa_run</span></a> <a class="idref" href="RegLang.nfa.html#x:134"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.nfa.html#s:135"><span class="id" title="variable">s</span></a> <a class="idref" href="RegLang.nfa.html#r:136"><span class="id" title="variable">r</span></a>) (<a class="idref" href="RegLang.nfa.html#x:134"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.nfa.html#nfa_lang"><span class="id" title="definition">nfa_lang</span></a> <a class="idref" href="RegLang.nfa.html#NFA.NFARun.M"><span class="id" title="variable">M</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">case</span> =&gt; <span class="id" title="var">s</span> ? /<a class="idref" href="RegLang.nfa.html#nfa_acceptP"><span class="id" title="lemma">nfa_acceptP</span></a> [<span class="id" title="var">r</span>] ?. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">case</span> =&gt; <span class="id" title="var">s</span> [<span class="id" title="var">r</span>] [? ?]. <span class="id" title="tactic">exists</span> <span class="id" title="var">s</span> =&gt; //. <span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.nfa.html#nfa_acceptP"><span class="id" title="lemma">nfa_acceptP</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="run_last" class="idref" href="#run_last"><span class="id" title="lemma">run_last</span></a> <a id="x:137" class="idref" href="#x:137"><span class="id" title="binder">x</span></a> <a id="p:138" class="idref" href="#p:138"><span class="id" title="binder">p</span></a> <a id="r:139" class="idref" href="#r:139"><span class="id" title="binder">r</span></a> : <a class="idref" href="RegLang.nfa.html#nfa_run"><span class="id" title="inductive">nfa_run</span></a> <a class="idref" href="RegLang.nfa.html#x:137"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.nfa.html#p:138"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.nfa.html#r:139"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#last"><span class="id" title="definition">last</span></a> <a class="idref" href="RegLang.nfa.html#p:138"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.nfa.html#r:139"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.nfa.html#nfa_fin"><span class="id" title="projection">nfa_fin</span></a> <a class="idref" href="RegLang.nfa.html#NFA.NFARun.M"><span class="id" title="variable">M</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">elim</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="run_trans" class="idref" href="#run_trans"><span class="id" title="lemma">run_trans</span></a> <a id="x:140" class="idref" href="#x:140"><span class="id" title="binder">x</span></a> <a id="p:141" class="idref" href="#p:141"><span class="id" title="binder">p</span></a> <a id="r:142" class="idref" href="#r:142"><span class="id" title="binder">r</span></a> <a id="i:143" class="idref" href="#i:143"><span class="id" title="binder">i</span></a> (<a id="Hi:144" class="idref" href="#Hi:144"><span class="id" title="binder">Hi</span></a> : <a class="idref" href="RegLang.nfa.html#i:143"><span class="id" title="variable">i</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="RegLang.nfa.html#x:140"><span class="id" title="variable">x</span></a>) : <a class="idref" href="RegLang.nfa.html#nfa_run"><span class="id" title="inductive">nfa_run</span></a> <a class="idref" href="RegLang.nfa.html#x:140"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.nfa.html#p:141"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.nfa.html#r:142"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="RegLang.nfa.html#p:141"><span class="id" title="variable">p</span></a> (<a class="idref" href="RegLang.nfa.html#p:141"><span class="id" title="variable">p</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="RegLang.nfa.html#r:142"><span class="id" title="variable">r</span></a>) <a class="idref" href="RegLang.nfa.html#i:143"><span class="id" title="variable">i</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.nfa.html#nfa_trans"><span class="id" title="projection">nfa_trans</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="RegLang.nfa.html#p:141"><span class="id" title="variable">p</span></a> (<a class="idref" href="RegLang.nfa.html#p:141"><span class="id" title="variable">p</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="RegLang.nfa.html#r:142"><span class="id" title="variable">r</span></a>) <a class="idref" href="RegLang.nfa.html#i:143"><span class="id" title="variable">i</span></a>) (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.tuple.html#tnth"><span class="id" title="definition">tnth</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.tuple.html#in_tuple"><span class="id" title="definition">in_tuple</span></a> <a class="idref" href="RegLang.nfa.html#x:140"><span class="id" title="variable">x</span></a>) (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Ordinal"><span class="id" title="constructor">Ordinal</span></a> <a class="idref" href="RegLang.nfa.html#Hi:144"><span class="id" title="variable">Hi</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">H</span>. <span class="id" title="tactic">elim</span>: <span class="id" title="var">H</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> =&gt; {<span class="id" title="var">x</span> <span class="id" title="var">p</span> <span class="id" title="var">r</span>} // <span class="id" title="var">a</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">x</span> <span class="id" title="var">r</span> <span class="id" title="var">tr</span> <span class="id" title="var">run</span> <span class="id" title="var">IH</span> /= [|<span class="id" title="var">i</span>] <span class="id" title="var">Hi</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !(<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#set_nth_default"><span class="id" title="lemma">set_nth_default</span></a> <span class="id" title="var">q</span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /= -(<a class="idref" href="RegLang.nfa.html#run_size"><span class="id" title="lemma">run_size</span></a> <span class="id" title="var">run</span>) // <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltnW"><span class="id" title="lemma">ltnW</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}[<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#nth"><span class="id" title="definition">nth</span></a>]<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssreflect.html#lock"><span class="id" title="lemma">lock</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.tuple.html#tnth_nth"><span class="id" title="lemma">tnth_nth</span></a> <span class="id" title="var">a</span>) /=. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltnS"><span class="id" title="lemma">ltnS</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{3}[<span class="id" title="var">i</span>]/(<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#nat_of_ord"><span class="id" title="definition">nat_of_ord</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Ordinal"><span class="id" title="constructor">Ordinal</span></a> <span class="id" title="var">Hi</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -[<span class="id" title="var">x</span>]/(<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.tuple.html#tval"><span class="id" title="projection">tval</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.tuple.html#in_tuple"><span class="id" title="definition">in_tuple</span></a> <span class="id" title="var">x</span>)) -<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.tuple.html#tnth_nth"><span class="id" title="lemma">tnth_nth</span></a> -<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssreflect.html#lock"><span class="id" title="lemma">lock</span></a> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The following lemma uses <span class="inlinecode"><span class="id" title="var">in_tuple</span></span> and <span class="inlinecode"><span class="id" title="var">tnth</span></span> in order to avoid
  having to assume the existence of a default symbol 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="runI" class="idref" href="#runI"><span class="id" title="lemma">runI</span></a> <a id="x:145" class="idref" href="#x:145"><span class="id" title="binder">x</span></a> <a id="s:146" class="idref" href="#s:146"><span class="id" title="binder">s</span></a> <a id="r:147" class="idref" href="#r:147"><span class="id" title="binder">r</span></a> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="RegLang.nfa.html#r:147"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="RegLang.nfa.html#x:145"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#last"><span class="id" title="definition">last</span></a> <a class="idref" href="RegLang.nfa.html#s:146"><span class="id" title="variable">s</span></a> <a class="idref" href="RegLang.nfa.html#r:147"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.nfa.html#nfa_fin"><span class="id" title="projection">nfa_fin</span></a> <a class="idref" href="RegLang.nfa.html#NFA.NFARun.M"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="i:148" class="idref" href="#i:148"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#:::'''I_'_x"><span class="id" title="notation">'</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#:::'''I_'_x"><span class="id" title="notation">I_</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#:::'''I_'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="RegLang.nfa.html#x:145"><span class="id" title="variable">x</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#:::'''I_'_x"><span class="id" title="notation">)</span></a>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="RegLang.nfa.html#s:146"><span class="id" title="variable">s</span></a> (<a class="idref" href="RegLang.nfa.html#s:146"><span class="id" title="variable">s</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="RegLang.nfa.html#r:147"><span class="id" title="variable">r</span></a>) <a class="idref" href="RegLang.nfa.html#i:148"><span class="id" title="variable">i</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.nfa.html#nfa_trans"><span class="id" title="projection">nfa_trans</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="RegLang.nfa.html#s:146"><span class="id" title="variable">s</span></a> (<a class="idref" href="RegLang.nfa.html#s:146"><span class="id" title="variable">s</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="RegLang.nfa.html#r:147"><span class="id" title="variable">r</span></a>) <a class="idref" href="RegLang.nfa.html#i:148"><span class="id" title="variable">i</span></a>) (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.tuple.html#tnth"><span class="id" title="definition">tnth</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.tuple.html#in_tuple"><span class="id" title="definition">in_tuple</span></a> <a class="idref" href="RegLang.nfa.html#x:145"><span class="id" title="variable">x</span></a>) <a class="idref" href="RegLang.nfa.html#i:148"><span class="id" title="variable">i</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.nfa.html#nfa_run"><span class="id" title="inductive">nfa_run</span></a> <a class="idref" href="RegLang.nfa.html#x:145"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.nfa.html#s:146"><span class="id" title="variable">s</span></a> <a class="idref" href="RegLang.nfa.html#r:147"><span class="id" title="variable">r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">r</span> =&gt; [|<span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">IHx</span> ] <span class="id" title="var">s</span> <span class="id" title="var">r</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> =&gt; <span class="id" title="var">e</span> <span class="id" title="var">inF</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size_eq0"><span class="id" title="lemma">size_eq0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> <span class="id" title="var">e</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">inF</span> *. <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.nfa.html#run0"><span class="id" title="constructor">run0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">case</span>: <span class="id" title="var">r</span> =&gt; // <span class="id" title="var">p</span> <span class="id" title="var">r</span> /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> /=. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#eqSS"><span class="id" title="lemma">eqSS</span></a> =&gt; /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> <span class="id" title="var">R1</span> <span class="id" title="var">R2</span> <span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.nfa.html#runS"><span class="id" title="constructor">runS</span></a> (<span class="id" title="var">I</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ord0"><span class="id" title="definition">ord0</span></a>) <span class="id" title="var">_</span> =&gt; /=. <span class="id" title="tactic">apply</span>: <span class="id" title="var">IHx</span> =&gt; // <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">I</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#inord"><span class="id" title="definition">inord</span></a> <span class="id" title="var">i</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a>)). <span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.tuple.html#tnth"><span class="id" title="definition">tnth</span></a> /= !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#inordK"><span class="id" title="lemma">inordK</span></a> /= ?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltnS"><span class="id" title="lemma">ltnS</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !(<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#set_nth_default"><span class="id" title="lemma">set_nth_default</span></a> <span class="id" title="var">p</span>) /= ?<span class="id" title="var">R1</span> // 1?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltnW"><span class="id" title="lemma">ltnW</span></a> ?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltnS"><span class="id" title="lemma">ltnS</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -[<span class="id" title="var">x</span>]/(<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#val"><span class="id" title="projection">val</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.tuple.html#in_tuple"><span class="id" title="definition">in_tuple</span></a> <span class="id" title="var">x</span>)) -!<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.tuple.html#tnth_nth"><span class="id" title="lemma">tnth_nth</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RegLang.nfa.html#NFA.NFARun"><span class="id" title="section">NFARun</span></a>.<br/>

<br/>
</div>

<div class="doc">
Decidability of Language Emptiness 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="nfa_inhab" class="idref" href="#nfa_inhab"><span class="id" title="definition">nfa_inhab</span></a> (<a id="N:149" class="idref" href="#N:149"><span class="id" title="binder">N</span></a> : <a class="idref" href="RegLang.nfa.html#nfa"><span class="id" title="record">nfa</span></a>) := <a class="idref" href="RegLang.dfa.html#dfa_inhab"><span class="id" title="definition">dfa_inhab</span></a> (<a class="idref" href="RegLang.nfa.html#nfa_to_dfa"><span class="id" title="definition">nfa_to_dfa</span></a> <a class="idref" href="RegLang.nfa.html#N:149"><span class="id" title="variable">N</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nfa_inhabP" class="idref" href="#nfa_inhabP"><span class="id" title="lemma">nfa_inhabP</span></a> <a id="N:150" class="idref" href="#N:150"><span class="id" title="binder">N</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="w:151" class="idref" href="#w:151"><span class="id" title="binder">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.nfa.html#w:151"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.nfa.html#nfa_lang"><span class="id" title="definition">nfa_lang</span></a> <a class="idref" href="RegLang.nfa.html#N:150"><span class="id" title="variable">N</span></a>) (<a class="idref" href="RegLang.nfa.html#nfa_inhab"><span class="id" title="definition">nfa_inhab</span></a> <a class="idref" href="RegLang.nfa.html#N:150"><span class="id" title="variable">N</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_inhabP"><span class="id" title="lemma">dfa_inhabP</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">x</span>]. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="RegLang.nfa.html#nfa_to_dfa_correct"><span class="id" title="lemma">nfa_to_dfa_correct</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">x</span> ?]. <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="RegLang.nfa.html#nfa_to_dfa_correct"><span class="id" title="lemma">nfa_to_dfa_correct</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nfa_regular" class="idref" href="#nfa_regular"><span class="id" title="lemma">nfa_regular</span></a> <a id="L:152" class="idref" href="#L:152"><span class="id" title="binder">L</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> <a class="idref" href="RegLang.nfa.html#L:152"><span class="id" title="variable">L</span></a> <a class="idref" href="RegLang.misc.html#:::x_'&lt;-T-&gt;'_x"><span class="id" title="notation">&lt;-</span></a><a class="idref" href="RegLang.misc.html#:::x_'&lt;-T-&gt;'_x"><span class="id" title="notation">T</span></a><a class="idref" href="RegLang.misc.html#:::x_'&lt;-T-&gt;'_x"><span class="id" title="notation">-&gt;</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a> <a id="N:153" class="idref" href="#N:153"><span class="id" title="binder">N</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="RegLang.nfa.html#nfa"><span class="id" title="record">nfa</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <span class="id" title="keyword">forall</span> <a id="x:154" class="idref" href="#x:154"><span class="id" title="binder">x</span></a>, <a class="idref" href="RegLang.nfa.html#L:152"><span class="id" title="variable">L</span></a> <a class="idref" href="RegLang.nfa.html#x:154"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="RegLang.nfa.html#x:154"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.nfa.html#nfa_lang"><span class="id" title="definition">nfa_lang</span></a> <a class="idref" href="RegLang.nfa.html#N:153"><span class="id" title="variable">N</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> =&gt; [[<span class="id" title="var">A</span>]|[<span class="id" title="var">N</span>]] <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="RegLang.nfa.html#dfa_to_nfa"><span class="id" title="definition">dfa_to_nfa</span></a> <span class="id" title="var">A</span>) =&gt; <span class="id" title="var">x</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="RegLang.nfa.html#dfa_to_nfa_correct"><span class="id" title="lemma">dfa_to_nfa_correct</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="RegLang.nfa.html#nfa_to_dfa"><span class="id" title="definition">nfa_to_dfa</span></a> <span class="id" title="var">N</span>) =&gt; <span class="id" title="var">x</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="RegLang.nfa.html#nfa_to_dfa_correct"><span class="id" title="lemma">nfa_to_dfa_correct</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RegLang.nfa.html#NFA"><span class="id" title="section">NFA</span></a>.<br/>

<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="RegLang.nfa.html#nfaP"><span class="id" title="lemma">nfaP</span></a> {<span class="id" title="var">char</span> <span class="id" title="var">M</span> <span class="id" title="var">x</span>}.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/coq-community/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
