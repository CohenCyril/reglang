<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../../..">Project Website</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="comment">(*&nbsp;Authors:&nbsp;Christian&nbsp;Doczkal&nbsp;and&nbsp;Jan-Oliver&nbsp;Kaiser&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;Distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;CeCILL-B.&nbsp;*)</span><br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">mathcomp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.all_ssreflect.html#"><span class="id" title="library">all_ssreflect</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">RegLang</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="RegLang.setoid_leq.html#"><span class="id" title="library">setoid_leq</span></a> <a class="idref" href="RegLang.misc.html#"><span class="id" title="library">misc</span></a> <a class="idref" href="RegLang.languages.html#"><span class="id" title="library">languages</span></a> <a class="idref" href="RegLang.dfa.html#"><span class="id" title="library">dfa</span></a> <a class="idref" href="RegLang.nfa.html#"><span class="id" title="library">nfa</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span> "Type".<br/>

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Strict</span> <span class="id" title="keyword">Implicit</span>.<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Printing</span> <span class="id" title="keyword">Implicit</span> <span class="id" title="var">Defensive</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab22"></a><h1 class="section">Regular Expressions</h1>


<div class="paragraph"> </div>

This file contains the definition of regular expressions and the proof
that regular expressions have the same expressive power as finite
automata. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="RegExp" class="idref" href="#RegExp"><span class="id" title="section">RegExp</span></a>.<br/>
<span class="id" title="keyword">Variable</span> <a id="RegExp.char" class="idref" href="#RegExp.char"><span class="id" title="variable">char</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.Exports.eqType"><span class="id" title="abbreviation">eqType</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="regexp" class="idref" href="#regexp"><span class="id" title="inductive">regexp</span></a> :=<br/>
&nbsp;| <a id="Void" class="idref" href="#Void"><span class="id" title="constructor">Void</span></a><br/>
&nbsp;| <a id="Eps" class="idref" href="#Eps"><span class="id" title="constructor">Eps</span></a><br/>
&nbsp;| <a id="Atom" class="idref" href="#Atom"><span class="id" title="constructor">Atom</span></a> <span class="id" title="keyword">of</span> <a class="idref" href="RegLang.regexp.html#RegExp.char"><span class="id" title="variable">char</span></a><br/>
&nbsp;| <a id="Star" class="idref" href="#Star"><span class="id" title="constructor">Star</span></a> <span class="id" title="keyword">of</span> <a class="idref" href="RegLang.regexp.html#regexp:2"><span class="id" title="inductive">regexp</span></a><br/>
&nbsp;| <a id="Plus" class="idref" href="#Plus"><span class="id" title="constructor">Plus</span></a> <span class="id" title="keyword">of</span> <a class="idref" href="RegLang.regexp.html#regexp:2"><span class="id" title="inductive">regexp</span></a> &amp; <a class="idref" href="RegLang.regexp.html#regexp:2"><span class="id" title="inductive">regexp</span></a><br/>
&nbsp;| <a id="Conc" class="idref" href="#Conc"><span class="id" title="constructor">Conc</span></a> <span class="id" title="keyword">of</span> <a class="idref" href="RegLang.regexp.html#regexp:2"><span class="id" title="inductive">regexp</span></a> &amp; <a class="idref" href="RegLang.regexp.html#regexp:2"><span class="id" title="inductive">regexp</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eq_regexp_dec" class="idref" href="#eq_regexp_dec"><span class="id" title="lemma">eq_regexp_dec</span></a> (<a id="e1:4" class="idref" href="#e1:4"><span class="id" title="binder">e1</span></a> <a id="e2:5" class="idref" href="#e2:5"><span class="id" title="binder">e2</span></a> : <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="RegLang.regexp.html#e1:4"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.regexp.html#e2:5"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="RegLang.regexp.html#e1:4"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="RegLang.regexp.html#e2:5"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">decide</span> <span class="id" title="var">equality</span>; <span class="id" title="tactic">apply</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eq_comparable"><span class="id" title="definition">eq_comparable</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="regexp_eqMixin" class="idref" href="#regexp_eqMixin"><span class="id" title="definition">regexp_eqMixin</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.Exports.EqMixin"><span class="id" title="abbreviation">EqMixin</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#compareP"><span class="id" title="lemma">compareP</span></a> <a class="idref" href="RegLang.regexp.html#eq_regexp_dec"><span class="id" title="lemma">eq_regexp_dec</span></a>).<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <a id="form_eqType" class="idref" href="#form_eqType"><span class="id" title="definition">form_eqType</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.Exports.EqType"><span class="id" title="abbreviation">EqType</span></a> <span class="id" title="var">_</span> <a class="idref" href="RegLang.regexp.html#regexp_eqMixin"><span class="id" title="definition">regexp_eqMixin</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RegLang.regexp.html#RegExp"><span class="id" title="section">RegExp</span></a>.<br/>

<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="RegLang.languages.html#void"><span class="id" title="definition">void</span></a> : <span class="id" title="tactic">clear</span> <span class="id" title="var">implicits</span>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="RegLang.languages.html#eps"><span class="id" title="definition">eps</span></a> : <span class="id" title="tactic">clear</span> <span class="id" title="var">implicits</span>.<br/>
<span class="id" title="var">Prenex</span> <span class="id" title="var">Implicits</span> <span class="id" title="var">Plus</span>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="RegLang.languages.html#plusP"><span class="id" title="lemma">plusP</span></a> {<span class="id" title="var">char</span> <span class="id" title="var">r</span> <span class="id" title="var">s</span> <span class="id" title="var">w</span>}.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id=":::'Void'" class="idref" href="#:::'Void'"><span class="id" title="notation">&quot;</span></a>'Void'" := (@<a class="idref" href="RegLang.regexp.html#Void"><span class="id" title="constructor">Void</span></a> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Notation</span> <a id=":::'Eps'" class="idref" href="#:::'Eps'"><span class="id" title="notation">&quot;</span></a>'Eps'" := (@<a class="idref" href="RegLang.regexp.html#Eps"><span class="id" title="constructor">Eps</span></a> <span class="id" title="var">_</span>).<br/>

<br/>
</div>

<div class="doc">
We assign a decidable language to every regular expression 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="re_lang" class="idref" href="#re_lang"><span class="id" title="definition">re_lang</span></a> (<a id="char:6" class="idref" href="#char:6"><span class="id" title="binder">char</span></a>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.Exports.eqType"><span class="id" title="abbreviation">eqType</span></a>) (<a id="e:7" class="idref" href="#e:7"><span class="id" title="binder">e</span></a> : <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> <a class="idref" href="RegLang.regexp.html#char:6"><span class="id" title="variable">char</span></a>) : <a class="idref" href="RegLang.languages.html#dlang"><span class="id" title="definition">dlang</span></a> <a class="idref" href="RegLang.regexp.html#char:6"><span class="id" title="variable">char</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="RegLang.regexp.html#e:7"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#:::'Void'"><span class="id" title="notation">Void</span></a> =&gt; <a class="idref" href="RegLang.languages.html#void"><span class="id" title="definition">void</span></a> <a class="idref" href="RegLang.regexp.html#char:6"><span class="id" title="variable">char</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#:::'Eps'"><span class="id" title="notation">Eps</span></a> =&gt; <a class="idref" href="RegLang.languages.html#eps"><span class="id" title="definition">eps</span></a> <a class="idref" href="RegLang.regexp.html#char:6"><span class="id" title="variable">char</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#Atom"><span class="id" title="constructor">Atom</span></a> <span class="id" title="var">x</span> =&gt; <a class="idref" href="RegLang.languages.html#atom"><span class="id" title="definition">atom</span></a> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#Star"><span class="id" title="constructor">Star</span></a> <span class="id" title="var">e1</span> =&gt; <a class="idref" href="RegLang.languages.html#star"><span class="id" title="definition">star</span></a> (<a class="idref" href="RegLang.regexp.html#re_lang:8"><span class="id" title="definition">re_lang</span></a> <span class="id" title="var">e1</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#Plus"><span class="id" title="constructor">Plus</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <a class="idref" href="RegLang.languages.html#plus"><span class="id" title="definition">plus</span></a> (<a class="idref" href="RegLang.regexp.html#re_lang:8"><span class="id" title="definition">re_lang</span></a> <span class="id" title="var">e1</span>) (<a class="idref" href="RegLang.regexp.html#re_lang:8"><span class="id" title="definition">re_lang</span></a> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#Conc"><span class="id" title="constructor">Conc</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <a class="idref" href="RegLang.languages.html#conc"><span class="id" title="definition">conc</span></a> (<a class="idref" href="RegLang.regexp.html#re_lang:8"><span class="id" title="definition">re_lang</span></a> <span class="id" title="var">e1</span>) (<a class="idref" href="RegLang.regexp.html#re_lang:8"><span class="id" title="definition">re_lang</span></a> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <a id="regexp_predType" class="idref" href="#regexp_predType"><span class="id" title="definition">regexp_predType</span></a> (<a id="char:10" class="idref" href="#char:10"><span class="id" title="binder">char</span></a>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.Exports.eqType"><span class="id" title="abbreviation">eqType</span></a>) := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrbool.html#PredType"><span class="id" title="definition">PredType</span></a> (@<a class="idref" href="RegLang.regexp.html#re_lang"><span class="id" title="definition">re_lang</span></a> <a class="idref" href="RegLang.regexp.html#char:10"><span class="id" title="variable">char</span></a>).<br/>

<br/>
</div>

<div class="doc">
We instantiate Ssreflects Canonical Big Operators 
</div>
<div class="code">
<span class="id" title="keyword">Notation</span> <a id="4480c15fdaa85944460027ace51c6cb1" class="idref" href="#4480c15fdaa85944460027ace51c6cb1"><span class="id" title="notation">&quot;</span></a>\sigma_( i &lt;- r )  F" := (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#93a42d9430a115f2544a09cba4cf05ca"><span class="id" title="notation">\</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#93a42d9430a115f2544a09cba4cf05ca"><span class="id" title="notation">big</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#93a42d9430a115f2544a09cba4cf05ca"><span class="id" title="notation">[</span></a><a class="idref" href="RegLang.regexp.html#Plus"><span class="id" title="constructor">Plus</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#93a42d9430a115f2544a09cba4cf05ca"><span class="id" title="notation">/</span></a><a class="idref" href="RegLang.regexp.html#:::'Void'"><span class="id" title="notation">Void</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#93a42d9430a115f2544a09cba4cf05ca"><span class="id" title="notation">]</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#93a42d9430a115f2544a09cba4cf05ca"><span class="id" title="notation">_</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#93a42d9430a115f2544a09cba4cf05ca"><span class="id" title="notation">(</span></a><a id="i:11" class="idref" href="#i:11"><span class="id" title="binder">i</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#93a42d9430a115f2544a09cba4cf05ca"><span class="id" title="notation">&lt;-</span></a> <span class="id" title="var">r</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#93a42d9430a115f2544a09cba4cf05ca"><span class="id" title="notation">)</span></a> <span class="id" title="var">F</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50).<br/>
<span class="id" title="keyword">Notation</span> <a id="99715ae27b3e7216a233fea70a9f3491" class="idref" href="#99715ae27b3e7216a233fea70a9f3491"><span class="id" title="notation">&quot;</span></a>\sigma_( i | P )  F" := (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#1871917561e26284874cb982a8cc32df"><span class="id" title="notation">\</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#1871917561e26284874cb982a8cc32df"><span class="id" title="notation">big</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#1871917561e26284874cb982a8cc32df"><span class="id" title="notation">[</span></a><a class="idref" href="RegLang.regexp.html#Plus"><span class="id" title="constructor">Plus</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#1871917561e26284874cb982a8cc32df"><span class="id" title="notation">/</span></a><a class="idref" href="RegLang.regexp.html#:::'Void'"><span class="id" title="notation">Void</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#1871917561e26284874cb982a8cc32df"><span class="id" title="notation">]</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#1871917561e26284874cb982a8cc32df"><span class="id" title="notation">_</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#1871917561e26284874cb982a8cc32df"><span class="id" title="notation">(</span></a><a id="i:12" class="idref" href="#i:12"><span class="id" title="binder">i</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#1871917561e26284874cb982a8cc32df"><span class="id" title="notation">|</span></a> <span class="id" title="var">P</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#1871917561e26284874cb982a8cc32df"><span class="id" title="notation">)</span></a> <span class="id" title="var">F</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="big_plus_seqP" class="idref" href="#big_plus_seqP"><span class="id" title="lemma">big_plus_seqP</span></a> (<a id="T:13" class="idref" href="#T:13"><span class="id" title="binder">T</span></a> <a id="char:14" class="idref" href="#char:14"><span class="id" title="binder">char</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.Exports.eqType"><span class="id" title="abbreviation">eqType</span></a>) (<a id="r:15" class="idref" href="#r:15"><span class="id" title="binder">r</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> <a class="idref" href="RegLang.regexp.html#T:13"><span class="id" title="variable">T</span></a>) <a id="w:16" class="idref" href="#w:16"><span class="id" title="binder">w</span></a> (<a id="F:17" class="idref" href="#F:17"><span class="id" title="binder">F</span></a> : <a class="idref" href="RegLang.regexp.html#T:13"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> <a class="idref" href="RegLang.regexp.html#char:14"><span class="id" title="variable">char</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">exists2</span></a> <a id="x:20" class="idref" href="#x:20"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.regexp.html#x:19"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#r:15"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="RegLang.regexp.html#w:16"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#F:17"><span class="id" title="variable">F</span></a> <a class="idref" href="RegLang.regexp.html#x:20"><span class="id" title="variable">x</span></a>) (<a class="idref" href="RegLang.regexp.html#w:16"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#4480c15fdaa85944460027ace51c6cb1"><span class="id" title="notation">\</span></a><a class="idref" href="RegLang.regexp.html#4480c15fdaa85944460027ace51c6cb1"><span class="id" title="notation">sigma_</span></a><a class="idref" href="RegLang.regexp.html#4480c15fdaa85944460027ace51c6cb1"><span class="id" title="notation">(</span></a><a id="i:18" class="idref" href="#i:18"><span class="id" title="binder">i</span></a> <a class="idref" href="RegLang.regexp.html#4480c15fdaa85944460027ace51c6cb1"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="RegLang.regexp.html#r:15"><span class="id" title="variable">r</span></a><a class="idref" href="RegLang.regexp.html#4480c15fdaa85944460027ace51c6cb1"><span class="id" title="notation">)</span></a> <a class="idref" href="RegLang.regexp.html#F:17"><span class="id" title="variable">F</span></a> <a class="idref" href="RegLang.regexp.html#i:18"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">r</span> <span class="id" title="var">w</span> =&gt; [|<span class="id" title="var">r</span> <span class="id" title="var">rs</span> <span class="id" title="var">IHrs</span>] <span class="id" title="var">w</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#big_nil"><span class="id" title="lemma">big_nil</span></a>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span> =&gt; [[<span class="id" title="var">x</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#big_cons"><span class="id" title="lemma">big_cons</span></a>; <span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> <a class="idref" href="RegLang.languages.html#plusP"><span class="id" title="lemma">plusP</span></a>) =&gt; [[<span class="id" title="var">H</span>|<span class="id" title="var">H</span>]|[<span class="id" title="var">x</span>]].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">r</span> =&gt; //; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#mem_head"><span class="id" title="lemma">mem_head</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">case</span>/<span class="id" title="var">IHrs</span> : <span class="id" title="var">H</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">Hx</span> ?. <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span> =&gt; //. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#in_cons"><span class="id" title="lemma">in_cons</span></a> <span class="id" title="var">Hx</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#orbT"><span class="id" title="lemma">orbT</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#in_cons"><span class="id" title="lemma">in_cons</span></a>; <span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a> =&gt; [/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> -&gt; |]; <span class="id" title="tactic">auto</span> =&gt; ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span>/<span class="id" title="var">IHrs</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="big_plusP" class="idref" href="#big_plusP"><span class="id" title="lemma">big_plusP</span></a> (<a id="T:21" class="idref" href="#T:21"><span class="id" title="binder">T</span></a> <a id="char:22" class="idref" href="#char:22"><span class="id" title="binder">char</span></a>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) (<a id="P:23" class="idref" href="#P:23"><span class="id" title="binder">P</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="RegLang.regexp.html#T:21"><span class="id" title="variable">T</span></a>) <a id="w:24" class="idref" href="#w:24"><span class="id" title="binder">w</span></a> (<a id="F:25" class="idref" href="#F:25"><span class="id" title="binder">F</span></a> : <a class="idref" href="RegLang.regexp.html#T:21"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> <a class="idref" href="RegLang.regexp.html#char:22"><span class="id" title="variable">char</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">exists2</span></a> <a id="i:28" class="idref" href="#i:28"><span class="id" title="binder">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.regexp.html#P:23"><span class="id" title="variable">P</span></a> <a class="idref" href="RegLang.regexp.html#i:27"><span class="id" title="variable">i</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="RegLang.regexp.html#w:24"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#F:25"><span class="id" title="variable">F</span></a> <a class="idref" href="RegLang.regexp.html#i:28"><span class="id" title="variable">i</span></a>) (<a class="idref" href="RegLang.regexp.html#w:24"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#99715ae27b3e7216a233fea70a9f3491"><span class="id" title="notation">\</span></a><a class="idref" href="RegLang.regexp.html#99715ae27b3e7216a233fea70a9f3491"><span class="id" title="notation">sigma_</span></a><a class="idref" href="RegLang.regexp.html#99715ae27b3e7216a233fea70a9f3491"><span class="id" title="notation">(</span></a><a id="i:26" class="idref" href="#i:26"><span class="id" title="binder">i</span></a> <a class="idref" href="RegLang.regexp.html#99715ae27b3e7216a233fea70a9f3491"><span class="id" title="notation">|</span></a> <a class="idref" href="RegLang.regexp.html#P:23"><span class="id" title="variable">P</span></a> <a class="idref" href="RegLang.regexp.html#i:26"><span class="id" title="variable">i</span></a><a class="idref" href="RegLang.regexp.html#99715ae27b3e7216a233fea70a9f3491"><span class="id" title="notation">)</span></a> <a class="idref" href="RegLang.regexp.html#F:25"><span class="id" title="variable">F</span></a> <a class="idref" href="RegLang.regexp.html#i:26"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#big_filter"><span class="id" title="lemma">big_filter</span></a>. <span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> (<a class="idref" href="RegLang.regexp.html#big_plus_seqP"><span class="id" title="lemma">big_plus_seqP</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) =&gt; [[<span class="id" title="var">x</span>]|[<span class="id" title="var">x</span>] <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#mem_filter"><span class="id" title="lemma">mem_filter</span></a> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [? ?]; <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">rewrite</span> // <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#mem_filter"><span class="id" title="lemma">mem_filter</span></a> <span class="id" title="var">H1</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#mem_index_enum"><span class="id" title="lemma">mem_index_enum</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="re_size" class="idref" href="#re_size"><span class="id" title="definition">re_size</span></a> (<a id="char:29" class="idref" href="#char:29"><span class="id" title="binder">char</span></a>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.Exports.eqType"><span class="id" title="abbreviation">eqType</span></a>) (<a id="e:30" class="idref" href="#e:30"><span class="id" title="binder">e</span></a> : <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> <a class="idref" href="RegLang.regexp.html#char:29"><span class="id" title="variable">char</span></a>) := <br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="RegLang.regexp.html#e:30"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#Star"><span class="id" title="constructor">Star</span></a> <span class="id" title="var">s</span> =&gt; <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.regexp.html#re_size:31"><span class="id" title="definition">re_size</span></a> <span class="id" title="var">s</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">).+1</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#Plus"><span class="id" title="constructor">Plus</span></a> <span class="id" title="var">s</span> <span class="id" title="var">t</span> =&gt; <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.regexp.html#re_size:31"><span class="id" title="definition">re_size</span></a> <span class="id" title="var">s</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)+(</span></a><a class="idref" href="RegLang.regexp.html#re_size:31"><span class="id" title="definition">re_size</span></a> <span class="id" title="var">t</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">).+1</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#Conc"><span class="id" title="constructor">Conc</span></a> <span class="id" title="var">s</span> <span class="id" title="var">t</span> =&gt; <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.regexp.html#re_size:31"><span class="id" title="definition">re_size</span></a> <span class="id" title="var">s</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)+(</span></a><a class="idref" href="RegLang.regexp.html#re_size:31"><span class="id" title="definition">re_size</span></a> <span class="id" title="var">t</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">).+1</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; 1<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="big_plus_size" class="idref" href="#big_plus_size"><span class="id" title="lemma">big_plus_size</span></a> (<a id="T:33" class="idref" href="#T:33"><span class="id" title="binder">T</span></a> <a id="char:34" class="idref" href="#char:34"><span class="id" title="binder">char</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.Exports.eqType"><span class="id" title="abbreviation">eqType</span></a>) (<a id="r:35" class="idref" href="#r:35"><span class="id" title="binder">r</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> <a class="idref" href="RegLang.regexp.html#T:33"><span class="id" title="variable">T</span></a>) (<a id="F:36" class="idref" href="#F:36"><span class="id" title="binder">F</span></a> : <a class="idref" href="RegLang.regexp.html#T:33"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> <a class="idref" href="RegLang.regexp.html#char:34"><span class="id" title="variable">char</span></a>) <a id="m:37" class="idref" href="#m:37"><span class="id" title="binder">m</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="i:39" class="idref" href="#i:39"><span class="id" title="binder">i</span></a>, <a class="idref" href="RegLang.regexp.html#i:39"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#r:35"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.regexp.html#re_size"><span class="id" title="definition">re_size</span></a> (<a class="idref" href="RegLang.regexp.html#F:36"><span class="id" title="variable">F</span></a> <a class="idref" href="RegLang.regexp.html#i:39"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="RegLang.regexp.html#m:37"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.regexp.html#re_size"><span class="id" title="definition">re_size</span></a> (<a class="idref" href="RegLang.regexp.html#4480c15fdaa85944460027ace51c6cb1"><span class="id" title="notation">\</span></a><a class="idref" href="RegLang.regexp.html#4480c15fdaa85944460027ace51c6cb1"><span class="id" title="notation">sigma_</span></a><a class="idref" href="RegLang.regexp.html#4480c15fdaa85944460027ace51c6cb1"><span class="id" title="notation">(</span></a><a id="i:38" class="idref" href="#i:38"><span class="id" title="binder">i</span></a> <a class="idref" href="RegLang.regexp.html#4480c15fdaa85944460027ace51c6cb1"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="RegLang.regexp.html#r:35"><span class="id" title="variable">r</span></a><a class="idref" href="RegLang.regexp.html#4480c15fdaa85944460027ace51c6cb1"><span class="id" title="notation">)</span></a> <a class="idref" href="RegLang.regexp.html#F:36"><span class="id" title="variable">F</span></a> <a class="idref" href="RegLang.regexp.html#i:38"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="RegLang.regexp.html#r:35"><span class="id" title="variable">r</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">*</span></a> <a class="idref" href="RegLang.regexp.html#m:37"><span class="id" title="variable">m</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1).+1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">r</span> =&gt; [|<span class="id" title="var">e</span> <span class="id" title="var">r</span> <span class="id" title="var">IH</span> /<a class="idref" href="RegLang.misc.html#all1s"><span class="id" title="lemma">all1s</span></a> [<span class="id" title="var">A</span> <span class="id" title="var">B</span>]]; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#big_nil"><span class="id" title="lemma">big_nil</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#big_cons"><span class="id" title="lemma">big_cons</span></a> /= <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltnS"><span class="id" title="lemma">ltnS</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mulSn"><span class="id" title="lemma">mulSn</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#addSn"><span class="id" title="lemma">addSn</span></a> -<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#addnS"><span class="id" title="lemma">addnS</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#leq_add"><span class="id" title="lemma">leq_add</span></a> //. <span class="id" title="tactic">exact</span>: <span class="id" title="var">IH</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab23"></a><h2 class="section">Regular Expressions to Finite Automata</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="DFAofRE" class="idref" href="#DFAofRE"><span class="id" title="section">DFAofRE</span></a>.<br/>
<span class="id" title="keyword">Variable</span> (<a id="DFAofRE.char" class="idref" href="#DFAofRE.char"><span class="id" title="variable">char</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>).<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="re_to_nfa" class="idref" href="#re_to_nfa"><span class="id" title="definition">re_to_nfa</span></a> (<a id="r:41" class="idref" href="#r:41"><span class="id" title="binder">r</span></a> : <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> <a class="idref" href="RegLang.regexp.html#DFAofRE.char"><span class="id" title="variable">char</span></a>): <a class="idref" href="RegLang.nfa.html#nfa"><span class="id" title="record">nfa</span></a> <a class="idref" href="RegLang.regexp.html#DFAofRE.char"><span class="id" title="variable">char</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="RegLang.regexp.html#r:41"><span class="id" title="variable">r</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#:::'Void'"><span class="id" title="notation">Void</span></a> =&gt; <a class="idref" href="RegLang.nfa.html#dfa_to_nfa"><span class="id" title="definition">dfa_to_nfa</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_void"><span class="id" title="definition">dfa_void</span></a> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#:::'Eps'"><span class="id" title="notation">Eps</span></a> =&gt; <a class="idref" href="RegLang.nfa.html#nfa_eps"><span class="id" title="definition">nfa_eps</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#Atom"><span class="id" title="constructor">Atom</span></a> <span class="id" title="var">a</span> =&gt; <a class="idref" href="RegLang.nfa.html#nfa_char"><span class="id" title="definition">nfa_char</span></a> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#Star"><span class="id" title="constructor">Star</span></a> <span class="id" title="var">s</span> =&gt; <a class="idref" href="RegLang.nfa.html#nfa_star"><span class="id" title="definition">nfa_star</span></a> (<a class="idref" href="RegLang.regexp.html#re_to_nfa:42"><span class="id" title="definition">re_to_nfa</span></a> <span class="id" title="var">s</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#Plus"><span class="id" title="constructor">Plus</span></a> <span class="id" title="var">s</span> <span class="id" title="var">t</span> =&gt; <a class="idref" href="RegLang.nfa.html#nfa_plus"><span class="id" title="definition">nfa_plus</span></a> (<a class="idref" href="RegLang.regexp.html#re_to_nfa:42"><span class="id" title="definition">re_to_nfa</span></a> <span class="id" title="var">s</span>) (<a class="idref" href="RegLang.regexp.html#re_to_nfa:42"><span class="id" title="definition">re_to_nfa</span></a> <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#Conc"><span class="id" title="constructor">Conc</span></a> <span class="id" title="var">s</span> <span class="id" title="var">t</span> =&gt; <a class="idref" href="RegLang.nfa.html#nfa_conc"><span class="id" title="definition">nfa_conc</span></a> (<a class="idref" href="RegLang.regexp.html#re_to_nfa:42"><span class="id" title="definition">re_to_nfa</span></a> <span class="id" title="var">s</span>) (<a class="idref" href="RegLang.regexp.html#re_to_nfa:42"><span class="id" title="definition">re_to_nfa</span></a> <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="re_to_nfa_correct" class="idref" href="#re_to_nfa_correct"><span class="id" title="lemma">re_to_nfa_correct</span></a> (<a id="r:44" class="idref" href="#r:44"><span class="id" title="binder">r</span></a> : <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> <a class="idref" href="RegLang.regexp.html#DFAofRE.char"><span class="id" title="variable">char</span></a>) : <a class="idref" href="RegLang.nfa.html#nfa_lang"><span class="id" title="definition">nfa_lang</span></a> (<a class="idref" href="RegLang.regexp.html#re_to_nfa"><span class="id" title="definition">re_to_nfa</span></a> <a class="idref" href="RegLang.regexp.html#r:44"><span class="id" title="variable">r</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">i</span></a> <a class="idref" href="RegLang.regexp.html#r:44"><span class="id" title="variable">r</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">r</span> =&gt; [||<span class="id" title="var">a</span>|<span class="id" title="var">s</span> <span class="id" title="var">IHs</span> |<span class="id" title="var">s</span> <span class="id" title="var">IHs</span> <span class="id" title="var">t</span> <span class="id" title="var">IHt</span> |<span class="id" title="var">s</span> <span class="id" title="var">IHs</span> <span class="id" title="var">t</span> <span class="id" title="var">IHt</span>] <span class="id" title="var">w</span> //=.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="RegLang.nfa.html#dfa_to_nfa_correct"><span class="id" title="lemma">dfa_to_nfa_correct</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> /<a class="idref" href="RegLang.dfa.html#dfa_accept"><span class="id" title="definition">dfa_accept</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.nfa.html#nfa_eps_correct"><span class="id" title="lemma">nfa_eps_correct</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.nfa.html#nfa_char_correct"><span class="id" title="lemma">nfa_char_correct</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.nfa.html#nfa_star_correct"><span class="id" title="lemma">nfa_star_correct</span></a>. <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.languages.html#star_eq"><span class="id" title="lemma">star_eq</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.nfa.html#nfa_plus_correct"><span class="id" title="lemma">nfa_plus_correct</span></a> /<a class="idref" href="RegLang.languages.html#plus"><span class="id" title="definition">plus</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> <span class="id" title="var">IHs</span> <span class="id" title="var">IHt</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.nfa.html#nfa_conc_correct"><span class="id" title="lemma">nfa_conc_correct</span></a>. <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.languages.html#conc_eq"><span class="id" title="lemma">conc_eq</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="re_to_nfa_size" class="idref" href="#re_to_nfa_size"><span class="id" title="lemma">re_to_nfa_size</span></a> <a id="e:45" class="idref" href="#e:45"><span class="id" title="binder">e</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="RegLang.regexp.html#re_to_nfa"><span class="id" title="definition">re_to_nfa</span></a> <a class="idref" href="RegLang.regexp.html#e:45"><span class="id" title="variable">e</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> 2 <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">*</span></a> <a class="idref" href="RegLang.regexp.html#re_size"><span class="id" title="definition">re_size</span></a> <a class="idref" href="RegLang.regexp.html#e:45"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">e</span>; <span class="id" title="tactic">rewrite</span> /= ?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#card_unit"><span class="id" title="lemma">card_unit</span></a> ?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#card_bool"><span class="id" title="lemma">card_bool</span></a> =&gt; //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">e</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#card_option"><span class="id" title="lemma">card_option</span></a> (<a class="idref" href="RegLang.setoid_leq.html#leqRW"><span class="id" title="definition">leqRW</span></a> <span class="id" title="var">IH</span>) <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mulnS"><span class="id" title="lemma">mulnS</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#add2n"><span class="id" title="lemma">add2n</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">e1</span> <span class="id" title="var">IH1</span> <span class="id" title="var">e2</span> <span class="id" title="var">IH2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#card_sum"><span class="id" title="lemma">card_sum</span></a> (<a class="idref" href="RegLang.setoid_leq.html#leqRW"><span class="id" title="definition">leqRW</span></a> <span class="id" title="var">IH1</span>) (<a class="idref" href="RegLang.setoid_leq.html#leqRW"><span class="id" title="definition">leqRW</span></a> <span class="id" title="var">IH2</span>) <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mulnS"><span class="id" title="lemma">mulnS</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mulnDr"><span class="id" title="lemma">mulnDr</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#add2n"><span class="id" title="lemma">add2n</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltnW"><span class="id" title="lemma">ltnW</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">e1</span> <span class="id" title="var">IH1</span> <span class="id" title="var">e2</span> <span class="id" title="var">IH2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#card_sum"><span class="id" title="lemma">card_sum</span></a> (<a class="idref" href="RegLang.setoid_leq.html#leqRW"><span class="id" title="definition">leqRW</span></a> <span class="id" title="var">IH1</span>) (<a class="idref" href="RegLang.setoid_leq.html#leqRW"><span class="id" title="definition">leqRW</span></a> <span class="id" title="var">IH2</span>) <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mulnS"><span class="id" title="lemma">mulnS</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mulnDr"><span class="id" title="lemma">mulnDr</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#add2n"><span class="id" title="lemma">add2n</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltnW"><span class="id" title="lemma">ltnW</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="re_to_dfa" class="idref" href="#re_to_dfa"><span class="id" title="definition">re_to_dfa</span></a> := @<a class="idref" href="RegLang.nfa.html#nfa_to_dfa"><span class="id" title="definition">nfa_to_dfa</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrfun.html#8b4742e3f67816503ce4ab2f3b81c27e"><span class="id" title="notation">o</span></a> <a class="idref" href="RegLang.regexp.html#re_to_nfa"><span class="id" title="definition">re_to_nfa</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="re_to_dfa_correct" class="idref" href="#re_to_dfa_correct"><span class="id" title="lemma">re_to_dfa_correct</span></a> (<a id="r:46" class="idref" href="#r:46"><span class="id" title="binder">r</span></a> : <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> <a class="idref" href="RegLang.regexp.html#DFAofRE.char"><span class="id" title="variable">char</span></a>) : <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> (<a class="idref" href="RegLang.regexp.html#re_to_dfa"><span class="id" title="definition">re_to_dfa</span></a> <a class="idref" href="RegLang.regexp.html#r:46"><span class="id" title="variable">r</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">i</span></a> <a class="idref" href="RegLang.regexp.html#r:46"><span class="id" title="variable">r</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">w</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="RegLang.nfa.html#nfa_to_dfa_correct"><span class="id" title="lemma">nfa_to_dfa_correct</span></a> <a class="idref" href="RegLang.regexp.html#re_to_nfa_correct"><span class="id" title="lemma">re_to_nfa_correct</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="re_to_dfa_size" class="idref" href="#re_to_dfa_size"><span class="id" title="lemma">re_to_dfa_size</span></a> <a id="e:47" class="idref" href="#e:47"><span class="id" title="binder">e</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="RegLang.regexp.html#re_to_dfa"><span class="id" title="definition">re_to_dfa</span></a> <a class="idref" href="RegLang.regexp.html#e:47"><span class="id" title="variable">e</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> 2<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^(</span></a>2 <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">*</span></a> <a class="idref" href="RegLang.regexp.html#re_size"><span class="id" title="definition">re_size</span></a> <a class="idref" href="RegLang.regexp.html#e:47"><span class="id" title="variable">e</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.misc.html#card_set"><span class="id" title="lemma">card_set</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#leq_pexp2l"><span class="id" title="lemma">leq_pexp2l</span></a> // <a class="idref" href="RegLang.regexp.html#re_to_nfa_size"><span class="id" title="lemma">re_to_nfa_size</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Decidability of regular expression equivalence 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="re_equiv" class="idref" href="#re_equiv"><span class="id" title="definition">re_equiv</span></a> <a id="r:48" class="idref" href="#r:48"><span class="id" title="binder">r</span></a> <a id="s:49" class="idref" href="#s:49"><span class="id" title="binder">s</span></a> := <a class="idref" href="RegLang.dfa.html#dfa_equiv"><span class="id" title="definition">dfa_equiv</span></a> (<a class="idref" href="RegLang.regexp.html#re_to_dfa"><span class="id" title="definition">re_to_dfa</span></a> <a class="idref" href="RegLang.regexp.html#r:48"><span class="id" title="variable">r</span></a>) (<a class="idref" href="RegLang.regexp.html#re_to_dfa"><span class="id" title="definition">re_to_dfa</span></a> <a class="idref" href="RegLang.regexp.html#s:49"><span class="id" title="variable">s</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="re_equiv_correct" class="idref" href="#re_equiv_correct"><span class="id" title="lemma">re_equiv_correct</span></a> <a id="r:50" class="idref" href="#r:50"><span class="id" title="binder">r</span></a> <a id="s:51" class="idref" href="#s:51"><span class="id" title="binder">s</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a> (<a class="idref" href="RegLang.regexp.html#r:50"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">i</span></a> <a class="idref" href="RegLang.regexp.html#s:51"><span class="id" title="variable">s</span></a>) (<a class="idref" href="RegLang.regexp.html#re_equiv"><span class="id" title="definition">re_equiv</span></a> <a class="idref" href="RegLang.regexp.html#r:50"><span class="id" title="variable">r</span></a> <a class="idref" href="RegLang.regexp.html#s:51"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_equiv_correct"><span class="id" title="lemma">dfa_equiv_correct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) =&gt; <span class="id" title="var">H</span> <span class="id" title="var">w</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/(<span class="id" title="var">_</span> <span class="id" title="var">w</span>) : <span class="id" title="var">H</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="RegLang.regexp.html#re_to_dfa_correct"><span class="id" title="lemma">re_to_dfa_correct</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RegLang.regexp.html#DFAofRE"><span class="id" title="section">DFAofRE</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab24"></a><h2 class="section">Finite Automata to Regular Expressions (Kleene Construction)</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="KleeneAlgorithm" class="idref" href="#KleeneAlgorithm"><span class="id" title="section">KleeneAlgorithm</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="KleeneAlgorithm.char" class="idref" href="#KleeneAlgorithm.char"><span class="id" title="variable">char</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="KleeneAlgorithm.A" class="idref" href="#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a> : <a class="idref" href="RegLang.dfa.html#dfa"><span class="id" title="record">dfa</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.char"><span class="id" title="variable">char</span></a>.<br/>

<br/>
</div>

<div class="doc">
We first define the transition languages between states. The
  trasition languages are defined such that <span class="inlinecode"><span class="id" title="var">w</span></span> <span class="inlinecode">\<span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">L</span>^<span class="id" title="var">X</span></span> <span class="inlinecode"><span class="id" title="var">q</span></span> <span class="inlinecode"><span class="id" title="var">p</span></span> iff for
  all nonempty strict prefixes <span class="inlinecode"><span class="id" title="var">v</span></span> of <span class="inlinecode"><span class="id" title="var">w</span></span>, <span class="inlinecode"><span class="id" title="keyword">delta</span></span> <span class="inlinecode"><span class="id" title="var">q</span></span> <span class="inlinecode"><span class="id" title="var">v</span></span> <span class="inlinecode">\<span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">X</span></span>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="L" class="idref" href="#L"><span class="id" title="definition">L</span></a> (<a id="X:54" class="idref" href="#X:54"><span class="id" title="binder">X</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">{</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">set</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">}</span></a>) (<a id="p:55" class="idref" href="#p:55"><span class="id" title="binder">p</span></a> <a id="q:56" class="idref" href="#q:56"><span class="id" title="binder">q</span></a> : <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a>) <a id="x:57" class="idref" href="#x:57"><span class="id" title="binder">x</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> <a class="idref" href="RegLang.regexp.html#p:55"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.regexp.html#x:57"><span class="id" title="variable">x</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <a class="idref" href="RegLang.regexp.html#q:56"><span class="id" title="variable">q</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#b14c43cd248537980c3a1a815ab087df"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#b14c43cd248537980c3a1a815ab087df"><span class="id" title="notation">forall</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#b14c43cd248537980c3a1a815ab087df"><span class="id" title="notation">(</span></a><a id="i:58" class="idref" href="#i:58"><span class="id" title="binder">i</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#b14c43cd248537980c3a1a815ab087df"><span class="id" title="notation">:</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#:::'''I_'_x"><span class="id" title="notation">'</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#:::'''I_'_x"><span class="id" title="notation">I_</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#:::'''I_'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="RegLang.regexp.html#x:57"><span class="id" title="variable">x</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#:::'''I_'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#b14c43cd248537980c3a1a815ab087df"><span class="id" title="notation">|</span></a> 0 <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="RegLang.regexp.html#i:58"><span class="id" title="variable">i</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#b14c43cd248537980c3a1a815ab087df"><span class="id" title="notation">)</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#f3be25edeb0349b0a76405eded9d0b98"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> <a class="idref" href="RegLang.regexp.html#p:55"><span class="id" title="variable">p</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#take"><span class="id" title="definition">take</span></a> <a class="idref" href="RegLang.regexp.html#i:58"><span class="id" title="variable">i</span></a> <a class="idref" href="RegLang.regexp.html#x:57"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#X:54"><span class="id" title="variable">X</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#b14c43cd248537980c3a1a815ab087df"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="fcbcec44a97cf972a559a77163a04a0d" class="idref" href="#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">&quot;</span></a>'L^' X" := (<a class="idref" href="RegLang.regexp.html#L"><span class="id" title="definition">L</span></a> <span class="id" title="var">X</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 8,<span class="id" title="var">format</span> "'L^' X").<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dfa_L" class="idref" href="#dfa_L"><span class="id" title="lemma">dfa_L</span></a> <a id="x:59" class="idref" href="#x:59"><span class="id" title="binder">x</span></a> <a id="y:60" class="idref" href="#y:60"><span class="id" title="binder">y</span></a> <a id="w:61" class="idref" href="#w:61"><span class="id" title="binder">w</span></a> : <a class="idref" href="RegLang.regexp.html#w:61"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#setT"><span class="id" title="abbreviation">setT</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">x</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> <a class="idref" href="RegLang.regexp.html#x:59"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.regexp.html#w:61"><span class="id" title="variable">w</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <a class="idref" href="RegLang.regexp.html#y:60"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#unfold_in"><span class="id" title="lemma">unfold_in</span></a>. <span class="id" title="tactic">case</span>: (<span class="id" title="var">_</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <span class="id" title="var">_</span>) =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#forall_inP"><span class="id" title="lemma">forall_inP</span></a> =&gt; ? ?. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="LP" class="idref" href="#LP"><span class="id" title="lemma">LP</span></a> {<a id="X:62" class="idref" href="#X:62"><span class="id" title="binder">X</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">{</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">set</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">}</span></a>} {<a id="p:63" class="idref" href="#p:63"><span class="id" title="binder">p</span></a> <a id="q:64" class="idref" href="#q:64"><span class="id" title="binder">q</span></a> : <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a>} {<a id="x:65" class="idref" href="#x:65"><span class="id" title="binder">x</span></a>} : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a> (<a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> <a class="idref" href="RegLang.regexp.html#p:63"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.regexp.html#x:65"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.regexp.html#q:64"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="keyword">forall</span> <a id="i:66" class="idref" href="#i:66"><span class="id" title="binder">i</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="RegLang.regexp.html#i:66"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.regexp.html#i:66"><span class="id" title="variable">i</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="RegLang.regexp.html#x:65"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> <a class="idref" href="RegLang.regexp.html#p:63"><span class="id" title="variable">p</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#take"><span class="id" title="definition">take</span></a> <a class="idref" href="RegLang.regexp.html#i:66"><span class="id" title="variable">i</span></a> <a class="idref" href="RegLang.regexp.html#x:65"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#X:62"><span class="id" title="variable">X</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="RegLang.regexp.html#x:65"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^</span></a><a class="idref" href="RegLang.regexp.html#X:62"><span class="id" title="variable">X</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">p</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">q</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>); <span class="id" title="tactic">case</span> =&gt; /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> ? <span class="id" title="var">H</span>; <span class="id" title="tactic">split</span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">i</span> <span class="id" title="var">I1</span> <span class="id" title="var">I2</span>. <span class="id" title="tactic">exact</span>: (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#forall_inP"><span class="id" title="lemma">forall_inP</span></a> <span class="id" title="var">H</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Ordinal"><span class="id" title="constructor">Ordinal</span></a> <span class="id" title="var">I2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#forall_inP"><span class="id" title="lemma">forall_inP</span></a> =&gt; [[<span class="id" title="var">i</span> <span class="id" title="var">I1</span> /= <span class="id" title="var">I2</span>]]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="L_monotone" class="idref" href="#L_monotone"><span class="id" title="lemma">L_monotone</span></a> (<a id="X:67" class="idref" href="#X:67"><span class="id" title="binder">X</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">{</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">set</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">}</span></a>) (<a id="x:68" class="idref" href="#x:68"><span class="id" title="binder">x</span></a> <a id="y:69" class="idref" href="#y:69"><span class="id" title="binder">y</span></a> <a id="z:70" class="idref" href="#z:70"><span class="id" title="binder">z</span></a> : <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">subset</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^</span></a><a class="idref" href="RegLang.regexp.html#X:67"><span class="id" title="variable">X</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">x</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^(</span></a><a class="idref" href="RegLang.regexp.html#z:70"><span class="id" title="variable">z</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#c07c66784631827a3968dee93baba0d0"><span class="id" title="notation">|:</span></a> <a class="idref" href="RegLang.regexp.html#X:67"><span class="id" title="variable">X</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">)</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">x</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">w</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#unfold_in"><span class="id" title="lemma">unfold_in</span></a>. <span class="id" title="tactic">case</span>: (<span class="id" title="var">_</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <span class="id" title="var">_</span>) =&gt; //. <span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.misc.html#sub_forall"><span class="id" title="lemma">sub_forall</span></a> =&gt; <span class="id" title="var">i</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<span class="id" title="var">_</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">_</span>) =&gt; //= <span class="id" title="var">H</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> <span class="id" title="var">H</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#orbT"><span class="id" title="lemma">orbT</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="L_nil" class="idref" href="#L_nil"><span class="id" title="lemma">L_nil</span></a> <a id="X:71" class="idref" href="#X:71"><span class="id" title="binder">X</span></a> <a id="x:72" class="idref" href="#x:72"><span class="id" title="binder">x</span></a> <a id="y:73" class="idref" href="#y:73"><span class="id" title="binder">y</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a> (<a class="idref" href="RegLang.regexp.html#x:72"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.regexp.html#y:73"><span class="id" title="variable">y</span></a>) (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626"><span class="id" title="notation">[::]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^</span></a><a class="idref" href="RegLang.regexp.html#X:71"><span class="id" title="variable">X</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">x</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">y</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> <a class="idref" href="RegLang.regexp.html#LP"><span class="id" title="lemma">LP</span></a>) =&gt; //=. <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="L_set0" class="idref" href="#L_set0"><span class="id" title="lemma">L_set0</span></a> <a id="p:74" class="idref" href="#p:74"><span class="id" title="binder">p</span></a> <a id="q:75" class="idref" href="#q:75"><span class="id" title="binder">q</span></a> <a id="w:76" class="idref" href="#w:76"><span class="id" title="binder">w</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#set0"><span class="id" title="definition">set0</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">q</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">p</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.regexp.html#p:74"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.regexp.html#q:75"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="RegLang.regexp.html#w:76"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626"><span class="id" title="notation">[::]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">exists2</span></a> <a id="a:78" class="idref" href="#a:78"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.regexp.html#w:76"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">[::</span></a><a class="idref" href="RegLang.regexp.html#a:77"><span class="id" title="variable">a</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="RegLang.regexp.html#p:74"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.dfa.html#dfa_trans"><span class="id" title="projection">dfa_trans</span></a> <a class="idref" href="RegLang.regexp.html#q:75"><span class="id" title="variable">q</span></a> <a class="idref" href="RegLang.regexp.html#a:78"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>/<a class="idref" href="RegLang.regexp.html#LP"><span class="id" title="lemma">LP</span></a> =&gt; &lt;-. <span class="id" title="tactic">case</span>: <span class="id" title="var">w</span> =&gt; [|<span class="id" title="var">a</span> [|<span class="id" title="var">b</span> <span class="id" title="var">w</span>]] <span class="id" title="var">H</span> ; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>|<span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>;<span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">H</span> 1). <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">case</span>/(<span class="id" title="var">_</span> <span class="id" title="var">_</span>)/<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrfun.html#Wrap"><span class="id" title="constructor">Wrap</span></a> =&gt; //. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="L_split" class="idref" href="#L_split"><span class="id" title="lemma">L_split</span></a> <a id="X:79" class="idref" href="#X:79"><span class="id" title="binder">X</span></a> <a id="p:80" class="idref" href="#p:80"><span class="id" title="binder">p</span></a> <a id="q:81" class="idref" href="#q:81"><span class="id" title="binder">q</span></a> <a id="z:82" class="idref" href="#z:82"><span class="id" title="binder">z</span></a> <a id="w:83" class="idref" href="#w:83"><span class="id" title="binder">w</span></a> : <a class="idref" href="RegLang.regexp.html#w:83"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#L"><span class="id" title="definition">L</span></a> (<a class="idref" href="RegLang.regexp.html#z:82"><span class="id" title="variable">z</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#c07c66784631827a3968dee93baba0d0"><span class="id" title="notation">|:</span></a> <a class="idref" href="RegLang.regexp.html#X:79"><span class="id" title="variable">X</span></a>) <a class="idref" href="RegLang.regexp.html#p:80"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.regexp.html#q:81"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.regexp.html#w:83"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^</span></a><a class="idref" href="RegLang.regexp.html#X:79"><span class="id" title="variable">X</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">p</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="w1:84" class="idref" href="#w1:84"><span class="id" title="binder">w1</span></a> <a id="w2:85" class="idref" href="#w2:85"><span class="id" title="binder">w2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#554fc3f3cf0a27fe0863b7741d119014"><span class="id" title="notation">[/\</span></a> <a class="idref" href="RegLang.regexp.html#w:83"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.regexp.html#w1:84"><span class="id" title="variable">w1</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <a class="idref" href="RegLang.regexp.html#w2:85"><span class="id" title="variable">w2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#554fc3f3cf0a27fe0863b7741d119014"><span class="id" title="notation">,</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="RegLang.regexp.html#w2:85"><span class="id" title="variable">w2</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="RegLang.regexp.html#w:83"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#554fc3f3cf0a27fe0863b7741d119014"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.regexp.html#w1:84"><span class="id" title="variable">w1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^</span></a><a class="idref" href="RegLang.regexp.html#X:79"><span class="id" title="variable">X</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">p</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#554fc3f3cf0a27fe0863b7741d119014"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="RegLang.regexp.html#w2:85"><span class="id" title="variable">w2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^(</span></a><a class="idref" href="RegLang.regexp.html#z:82"><span class="id" title="variable">z</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#c07c66784631827a3968dee93baba0d0"><span class="id" title="notation">|:</span></a> <a class="idref" href="RegLang.regexp.html#X:79"><span class="id" title="variable">X</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">)</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">z</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">q</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#554fc3f3cf0a27fe0863b7741d119014"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>/<a class="idref" href="RegLang.regexp.html#LP"><span class="id" title="lemma">LP</span></a> =&gt; <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="RegLang.misc.html#find_minn_bound"><span class="id" title="lemma">find_minn_bound</span></a> (<span class="id" title="keyword">fun</span> <a id="i:88" class="idref" href="#i:88"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a>0 <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="RegLang.regexp.html#i:86"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.dfa.html#delta"><span class="id" title="definition">delta</span></a> <span class="id" title="var">p</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#take"><span class="id" title="definition">take</span></a> <a class="idref" href="RegLang.regexp.html#i:86"><span class="id" title="variable">i</span></a> <span class="id" title="var">w</span>) <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <span class="id" title="var">z</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a>) (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <span class="id" title="var">w</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">case</span> =&gt; <span class="id" title="var">i</span> [<span class="id" title="var">lt_w</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [<span class="id" title="var">i_gt0</span> /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> <span class="id" title="var">delta_z</span>] <span class="id" title="var">min_i</span>]; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#take"><span class="id" title="definition">take</span></a> <span class="id" title="var">i</span> <span class="id" title="var">w</span>); <span class="id" title="tactic">exists</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#drop"><span class="id" title="definition">drop</span></a> <span class="id" title="var">i</span> <span class="id" title="var">w</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> ? : 0 <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <span class="id" title="var">w</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">exact</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltn_trans"><span class="id" title="lemma">ltn_trans</span></a> <span class="id" title="var">lt_w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#cat_take_drop"><span class="id" title="lemma">cat_take_drop</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size_drop"><span class="id" title="lemma">size_drop</span></a> -{2}[<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <span class="id" title="var">w</span>]<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#subn0"><span class="id" title="lemma">subn0</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltn_sub2l"><span class="id" title="lemma">ltn_sub2l</span></a> //; <span class="id" title="tactic">split</span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.regexp.html#LP"><span class="id" title="lemma">LP</span></a>. <span class="id" title="tactic">split</span> =&gt; // <span class="id" title="var">j</span> <span class="id" title="var">J1</span> <span class="id" title="var">J2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">lt_i_j</span> : <span class="id" title="var">j</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">i</span>. <span class="id" title="tactic">apply</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#leq_trans"><span class="id" title="lemma">leq_trans</span></a> <span class="id" title="var">J2</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size_take"><span class="id" title="lemma">size_take</span></a> <span class="id" title="var">lt_w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span>/(<span class="id" title="var">H2</span> <span class="id" title="var">_</span> <span class="id" title="var">J1</span>) : <span class="id" title="var">j</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <span class="id" title="var">w</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltn_trans"><span class="id" title="lemma">ltn_trans</span></a> <span class="id" title="var">lt_w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#setU1P"><span class="id" title="lemma">setU1P</span></a> =&gt; [<span class="id" title="var">H</span>|]; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.misc.html#take_take"><span class="id" title="lemma">take_take</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">min_i</span> <span class="id" title="var">_</span> <span class="id" title="var">lt_i_j</span>). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#negb_and"><span class="id" title="lemma">negb_and</span></a> <span class="id" title="var">J1</span> <span class="id" title="var">H</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqxx"><span class="id" title="abbreviation">eqxx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.regexp.html#LP"><span class="id" title="lemma">LP</span></a>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H1</span> -{2}[<span class="id" title="var">w</span>](<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#cat_take_drop"><span class="id" title="lemma">cat_take_drop</span></a> <span class="id" title="var">i</span>) <a class="idref" href="RegLang.dfa.html#delta_cat"><span class="id" title="lemma">delta_cat</span></a> <span class="id" title="var">delta_z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> =&gt; // <span class="id" title="var">j</span> <span class="id" title="var">J1</span> <span class="id" title="var">J2</span>. <span class="id" title="tactic">rewrite</span> -{1}<span class="id" title="var">delta_z</span> -<a class="idref" href="RegLang.dfa.html#delta_cat"><span class="id" title="lemma">delta_cat</span></a> -<a class="idref" href="RegLang.misc.html#take_addn"><span class="id" title="lemma">take_addn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <span class="id" title="var">H2</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#addn_gt0"><span class="id" title="lemma">addn_gt0</span></a> <span class="id" title="var">J1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#orbT"><span class="id" title="lemma">orbT</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -[<span class="id" title="var">w</span>](<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#cat_take_drop"><span class="id" title="lemma">cat_take_drop</span></a> <span class="id" title="var">i</span>) <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size_cat"><span class="id" title="lemma">size_cat</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size_take"><span class="id" title="lemma">size_take</span></a> <span class="id" title="var">lt_w</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltn_add2l"><span class="id" title="lemma">ltn_add2l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">H</span>; <span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.regexp.html#LP"><span class="id" title="lemma">LP</span></a>. <span class="id" title="tactic">split</span> =&gt; // <span class="id" title="var">i</span> <span class="id" title="var">I1</span> <span class="id" title="var">I2</span>. <span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#contraTT"><span class="id" title="definition">contraTT</span></a> (<span class="id" title="var">H2</span> <span class="id" title="var">_</span> <span class="id" title="var">I1</span> <span class="id" title="var">I2</span>) =&gt; <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#negb_or"><span class="id" title="lemma">negb_or</span></a> <span class="id" title="var">C</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#andbT"><span class="id" title="lemma">andbT</span></a>. <span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#contraNN"><span class="id" title="definition">contraNN</span></a> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">I2</span>) =&gt; -&gt;. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">I1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="L_cat" class="idref" href="#L_cat"><span class="id" title="lemma">L_cat</span></a> (<a id="X:89" class="idref" href="#X:89"><span class="id" title="binder">X</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">{</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">set</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">}</span></a>) <a id="x:90" class="idref" href="#x:90"><span class="id" title="binder">x</span></a> <a id="y:91" class="idref" href="#y:91"><span class="id" title="binder">y</span></a> <a id="z:92" class="idref" href="#z:92"><span class="id" title="binder">z</span></a> <a id="w1:93" class="idref" href="#w1:93"><span class="id" title="binder">w1</span></a> <a id="w2:94" class="idref" href="#w2:94"><span class="id" title="binder">w2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.regexp.html#z:92"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#X:89"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.regexp.html#w1:93"><span class="id" title="variable">w1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^</span></a><a class="idref" href="RegLang.regexp.html#X:89"><span class="id" title="variable">X</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">x</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.regexp.html#w2:94"><span class="id" title="variable">w2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^</span></a><a class="idref" href="RegLang.regexp.html#X:89"><span class="id" title="variable">X</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">z</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.regexp.html#w1:93"><span class="id" title="variable">w1</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a><a class="idref" href="RegLang.regexp.html#w2:94"><span class="id" title="variable">w2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^</span></a><a class="idref" href="RegLang.regexp.html#X:89"><span class="id" title="variable">X</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">x</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">Hz</span> /<a class="idref" href="RegLang.regexp.html#LP"><span class="id" title="lemma">LP</span></a> [<span class="id" title="var">H11</span> <span class="id" title="var">H12</span>] /<a class="idref" href="RegLang.regexp.html#LP"><span class="id" title="lemma">LP</span></a> [<span class="id" title="var">H21</span> <span class="id" title="var">H22</span>]. <span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.regexp.html#LP"><span class="id" title="lemma">LP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.dfa.html#delta_cat"><span class="id" title="lemma">delta_cat</span></a> <span class="id" title="var">H11</span> <span class="id" title="var">H21</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">i</span> <span class="id" title="var">i_gt0</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#take_cat"><span class="id" title="lemma">take_cat</span></a>. <span class="id" title="tactic">case</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#boolP"><span class="id" title="lemma">boolP</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">_</span>)); <span class="id" title="tactic">first</span> <span class="id" title="tactic">exact</span>: <span class="id" title="var">H12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.dfa.html#delta_cat"><span class="id" title="lemma">delta_cat</span></a> <span class="id" title="var">H11</span> -<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#leqNgt"><span class="id" title="lemma">leqNgt</span></a> =&gt; <span class="id" title="var">le_w1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#posnP"><span class="id" title="lemma">posnP</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <span class="id" title="var">w1</span>)) =&gt; [-&gt;|<span class="id" title="var">Hi</span>]; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#take0"><span class="id" title="lemma">take0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <span class="id" title="var">H22</span> =&gt; //. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltn_add2l"><span class="id" title="lemma">ltn_add2l</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <span class="id" title="var">w1</span>)) <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#subnKC"><span class="id" title="lemma">subnKC</span></a> // -<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size_cat"><span class="id" title="lemma">size_cat</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="L_catL" class="idref" href="#L_catL"><span class="id" title="lemma">L_catL</span></a> <a id="X:95" class="idref" href="#X:95"><span class="id" title="binder">X</span></a> <a id="x:96" class="idref" href="#x:96"><span class="id" title="binder">x</span></a> <a id="y:97" class="idref" href="#y:97"><span class="id" title="binder">y</span></a> <a id="z:98" class="idref" href="#z:98"><span class="id" title="binder">z</span></a> <a id="w1:99" class="idref" href="#w1:99"><span class="id" title="binder">w1</span></a> <a id="w2:100" class="idref" href="#w2:100"><span class="id" title="binder">w2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.regexp.html#w1:99"><span class="id" title="variable">w1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^</span></a><a class="idref" href="RegLang.regexp.html#X:95"><span class="id" title="variable">X</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">x</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.regexp.html#w2:100"><span class="id" title="variable">w2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^(</span></a><a class="idref" href="RegLang.regexp.html#z:98"><span class="id" title="variable">z</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#c07c66784631827a3968dee93baba0d0"><span class="id" title="notation">|:</span></a> <a class="idref" href="RegLang.regexp.html#X:95"><span class="id" title="variable">X</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">)</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">z</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.regexp.html#w1:99"><span class="id" title="variable">w1</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a><a class="idref" href="RegLang.regexp.html#w2:100"><span class="id" title="variable">w2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^(</span></a><a class="idref" href="RegLang.regexp.html#z:98"><span class="id" title="variable">z</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#c07c66784631827a3968dee93baba0d0"><span class="id" title="notation">|:</span></a> <a class="idref" href="RegLang.regexp.html#X:95"><span class="id" title="variable">X</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">)</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">x</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">move</span>/(<a class="idref" href="RegLang.regexp.html#L_monotone"><span class="id" title="lemma">L_monotone</span></a> <span class="id" title="var">z</span>). <span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.regexp.html#L_cat"><span class="id" title="lemma">L_cat</span></a>. <span class="id" title="tactic">exact</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#setU11"><span class="id" title="lemma">setU11</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="L_catR" class="idref" href="#L_catR"><span class="id" title="lemma">L_catR</span></a> <a id="X:101" class="idref" href="#X:101"><span class="id" title="binder">X</span></a> <a id="x:102" class="idref" href="#x:102"><span class="id" title="binder">x</span></a> <a id="y:103" class="idref" href="#y:103"><span class="id" title="binder">y</span></a> <a id="z:104" class="idref" href="#z:104"><span class="id" title="binder">z</span></a> <a id="w1:105" class="idref" href="#w1:105"><span class="id" title="binder">w1</span></a> <a id="w2:106" class="idref" href="#w2:106"><span class="id" title="binder">w2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.regexp.html#w1:105"><span class="id" title="variable">w1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^(</span></a><a class="idref" href="RegLang.regexp.html#z:104"><span class="id" title="variable">z</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#c07c66784631827a3968dee93baba0d0"><span class="id" title="notation">|:</span></a> <a class="idref" href="RegLang.regexp.html#X:101"><span class="id" title="variable">X</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">)</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">x</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.regexp.html#w2:106"><span class="id" title="variable">w2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^</span></a><a class="idref" href="RegLang.regexp.html#X:101"><span class="id" title="variable">X</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">z</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.regexp.html#w1:105"><span class="id" title="variable">w1</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a><a class="idref" href="RegLang.regexp.html#w2:106"><span class="id" title="variable">w2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^(</span></a><a class="idref" href="RegLang.regexp.html#z:104"><span class="id" title="variable">z</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#c07c66784631827a3968dee93baba0d0"><span class="id" title="notation">|:</span></a> <a class="idref" href="RegLang.regexp.html#X:101"><span class="id" title="variable">X</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">)</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">x</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">H</span> /(<a class="idref" href="RegLang.regexp.html#L_monotone"><span class="id" title="lemma">L_monotone</span></a> <span class="id" title="var">z</span>). <span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.regexp.html#L_cat"><span class="id" title="lemma">L_cat</span></a> <span class="id" title="var">H</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#setU11"><span class="id" title="lemma">setU11</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="L_star" class="idref" href="#L_star"><span class="id" title="lemma">L_star</span></a> (<a id="X:107" class="idref" href="#X:107"><span class="id" title="binder">X</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">{</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">set</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">}</span></a>) <a id="z:108" class="idref" href="#z:108"><span class="id" title="binder">z</span></a> <a id="w:109" class="idref" href="#w:109"><span class="id" title="binder">w</span></a> : <a class="idref" href="RegLang.regexp.html#w:109"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.languages.html#star"><span class="id" title="definition">star</span></a> (<a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^</span></a><a class="idref" href="RegLang.regexp.html#X:107"><span class="id" title="variable">X</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">z</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">z</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.regexp.html#w:109"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^(</span></a><a class="idref" href="RegLang.regexp.html#z:108"><span class="id" title="variable">z</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#c07c66784631827a3968dee93baba0d0"><span class="id" title="notation">|:</span></a> <a class="idref" href="RegLang.regexp.html#X:107"><span class="id" title="variable">X</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">)</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">z</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">z</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="RegLang.languages.html#starP"><span class="id" title="lemma">starP</span></a> =&gt; [<span class="id" title="var">vv</span> <span class="id" title="var">Hvv</span> -&gt;]. <span class="id" title="tactic">elim</span>: <span class="id" title="var">vv</span> <span class="id" title="var">Hvv</span> =&gt; [<span class="id" title="var">_</span>|<span class="id" title="var">r</span> <span class="id" title="var">vv</span> <span class="id" title="var">IHvv</span>]; <span class="id" title="tactic">first</span> <span class="id" title="tactic">exact</span>/<a class="idref" href="RegLang.regexp.html#L_nil"><span class="id" title="lemma">L_nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; /= /<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [/<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [<span class="id" title="var">_</span> <span class="id" title="var">H1</span>] <span class="id" title="var">H2</span>]. <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.regexp.html#L_catL"><span class="id" title="lemma">L_catL</span></a> <span class="id" title="var">H1</span> (<span class="id" title="var">IHvv</span> <span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Main Lemma - L satisfies a recursive equation that can be used
  to construct a regular expression 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="L_rec" class="idref" href="#L_rec"><span class="id" title="lemma">L_rec</span></a> (<a id="X:110" class="idref" href="#X:110"><span class="id" title="binder">X</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">{</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">set</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">}</span></a>) <a id="x:111" class="idref" href="#x:111"><span class="id" title="binder">x</span></a> <a id="y:112" class="idref" href="#y:112"><span class="id" title="binder">y</span></a> <a id="z:113" class="idref" href="#z:113"><span class="id" title="binder">z</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^(</span></a><a class="idref" href="RegLang.regexp.html#z:113"><span class="id" title="variable">z</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#c07c66784631827a3968dee93baba0d0"><span class="id" title="notation">|:</span></a> <a class="idref" href="RegLang.regexp.html#X:110"><span class="id" title="variable">X</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">)</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">x</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">i</span></a> <a class="idref" href="RegLang.languages.html#plus"><span class="id" title="definition">plus</span></a> (<a class="idref" href="RegLang.languages.html#conc"><span class="id" title="definition">conc</span></a> (<a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^</span></a><a class="idref" href="RegLang.regexp.html#X:110"><span class="id" title="variable">X</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">x</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">z</span></a>) (<a class="idref" href="RegLang.languages.html#conc"><span class="id" title="definition">conc</span></a> (<a class="idref" href="RegLang.languages.html#star"><span class="id" title="definition">star</span></a> (<a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^</span></a><a class="idref" href="RegLang.regexp.html#X:110"><span class="id" title="variable">X</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">z</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">z</span></a>)) (<a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^</span></a><a class="idref" href="RegLang.regexp.html#X:110"><span class="id" title="variable">X</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">z</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">y</span></a>))) (<a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^</span></a><a class="idref" href="RegLang.regexp.html#X:110"><span class="id" title="variable">X</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">x</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">y</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">w</span>. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>/<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span>: <span class="id" title="var">w</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">apply</span>: (<a class="idref" href="RegLang.misc.html#size_induction"><span class="id" title="lemma">size_induction</span></a> (<span class="id" title="keyword">measure</span> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a>)) =&gt; <span class="id" title="var">w</span> <span class="id" title="var">IHw</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="RegLang.regexp.html#L_split"><span class="id" title="lemma">L_split</span></a> =&gt; [|[<span class="id" title="var">w1</span> [<span class="id" title="var">w2</span> [<span class="id" title="var">Hw'</span> <span class="id" title="var">H1</span> <span class="id" title="var">Hw1</span> <span class="id" title="var">Hw2</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> =&gt; -&gt;. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#orbT"><span class="id" title="lemma">orbT</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span>: (<span class="id" title="var">IHw</span> <span class="id" title="var">w2</span> <span class="id" title="var">H1</span> <span class="id" title="var">z</span> <span class="id" title="var">y</span> <span class="id" title="var">Hw2</span>) <span class="id" title="var">Hw'</span> =&gt; <span class="id" title="var">H4</span> -&gt; {<span class="id" title="var">IHw</span> <span class="id" title="var">H1</span>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> (<a class="idref" href="RegLang.languages.html#conc_cat"><span class="id" title="lemma">conc_cat</span></a> <span class="id" title="var">Hw1</span> <span class="id" title="var">_</span>) //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>/<a class="idref" href="RegLang.languages.html#plusP"><span class="id" title="lemma">plusP</span></a> : <span class="id" title="var">H4</span> =&gt; <span class="id" title="var">H</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -[<span class="id" title="var">w2</span>]<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#cat0s"><span class="id" title="lemma">cat0s</span></a> <a class="idref" href="RegLang.languages.html#conc_cat"><span class="id" title="lemma">conc_cat</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="RegLang.languages.html#concP"><span class="id" title="lemma">concP</span></a> : <span class="id" title="var">H</span> =&gt; [<span class="id" title="var">w21</span>] [<span class="id" title="var">w22</span>] [<span class="id" title="var">W1</span> [<span class="id" title="var">W2</span>]] /<a class="idref" href="RegLang.languages.html#concP"><span class="id" title="lemma">concP</span></a> [<span class="id" title="var">w221</span>] [<span class="id" title="var">w222</span>] [<span class="id" title="var">W3</span> [<span class="id" title="var">W4</span> <span class="id" title="var">W5</span>]]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#catA"><span class="id" title="lemma">catA</span></a> <a class="idref" href="RegLang.languages.html#conc_cat"><span class="id" title="lemma">conc_cat</span></a> // <a class="idref" href="RegLang.languages.html#star_cat"><span class="id" title="lemma">star_cat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">case</span>/<a class="idref" href="RegLang.languages.html#plusP"><span class="id" title="lemma">plusP</span></a> ; <span class="id" title="var">last</span> <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.regexp.html#L_monotone"><span class="id" title="lemma">L_monotone</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="RegLang.languages.html#concP"><span class="id" title="lemma">concP</span></a> =&gt; [<span class="id" title="var">w1</span>] [<span class="id" title="var">w2</span>] [-&gt; [<span class="id" title="var">Hw1</span>]] /<a class="idref" href="RegLang.languages.html#concP"><span class="id" title="lemma">concP</span></a> [<span class="id" title="var">w3</span>] [<span class="id" title="var">w4</span>] [-&gt; [<span class="id" title="var">Hw3</span> <span class="id" title="var">Hw4</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="RegLang.regexp.html#L_catL"><span class="id" title="lemma">L_catL</span></a> <span class="id" title="var">Hw1</span>) // (<a class="idref" href="RegLang.regexp.html#L_catR"><span class="id" title="lemma">L_catR</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Hw4</span>) // <a class="idref" href="RegLang.regexp.html#L_star"><span class="id" title="lemma">L_star</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Construction of the regular expression 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="edges" class="idref" href="#edges"><span class="id" title="definition">edges</span></a> (<a id="x:114" class="idref" href="#x:114"><span class="id" title="binder">x</span></a> <a id="y:115" class="idref" href="#y:115"><span class="id" title="binder">y</span></a> : <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a>) := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#1871917561e26284874cb982a8cc32df"><span class="id" title="notation">\</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#1871917561e26284874cb982a8cc32df"><span class="id" title="notation">big</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#1871917561e26284874cb982a8cc32df"><span class="id" title="notation">[</span></a><a class="idref" href="RegLang.regexp.html#Plus"><span class="id" title="constructor">Plus</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#1871917561e26284874cb982a8cc32df"><span class="id" title="notation">/</span></a><a class="idref" href="RegLang.regexp.html#:::'Void'"><span class="id" title="notation">Void</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#1871917561e26284874cb982a8cc32df"><span class="id" title="notation">]</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#1871917561e26284874cb982a8cc32df"><span class="id" title="notation">_</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#1871917561e26284874cb982a8cc32df"><span class="id" title="notation">(</span></a><a id="a:116" class="idref" href="#a:116"><span class="id" title="binder">a</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#1871917561e26284874cb982a8cc32df"><span class="id" title="notation">|</span></a> <a class="idref" href="RegLang.dfa.html#dfa_trans"><span class="id" title="projection">dfa_trans</span></a> <a class="idref" href="RegLang.regexp.html#x:114"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.regexp.html#a:116"><span class="id" title="variable">a</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <a class="idref" href="RegLang.regexp.html#y:115"><span class="id" title="variable">y</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#1871917561e26284874cb982a8cc32df"><span class="id" title="notation">)</span></a> <a class="idref" href="RegLang.regexp.html#Atom"><span class="id" title="constructor">Atom</span></a> <a class="idref" href="RegLang.regexp.html#a:116"><span class="id" title="variable">a</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="edgesP" class="idref" href="#edgesP"><span class="id" title="definition">edgesP</span></a> <a id="x:117" class="idref" href="#x:117"><span class="id" title="binder">x</span></a> <a id="y:118" class="idref" href="#y:118"><span class="id" title="binder">y</span></a> <a id="w:119" class="idref" href="#w:119"><span class="id" title="binder">w</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">exists2</span></a> <a id="a:121" class="idref" href="#a:121"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.regexp.html#w:119"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">[::</span></a><a class="idref" href="RegLang.regexp.html#a:120"><span class="id" title="variable">a</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="RegLang.dfa.html#dfa_trans"><span class="id" title="projection">dfa_trans</span></a> <a class="idref" href="RegLang.regexp.html#x:117"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.regexp.html#a:121"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.regexp.html#y:118"><span class="id" title="variable">y</span></a>) (<a class="idref" href="RegLang.regexp.html#w:119"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#edges"><span class="id" title="definition">edges</span></a> <a class="idref" href="RegLang.regexp.html#x:117"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.regexp.html#y:118"><span class="id" title="variable">y</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> (<a class="idref" href="RegLang.regexp.html#big_plusP"><span class="id" title="lemma">big_plusP</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) =&gt; [|] [<span class="id" title="var">a</span>] /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> ? /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> ?; <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="R0" class="idref" href="#R0"><span class="id" title="definition">R0</span></a> <a id="x:122" class="idref" href="#x:122"><span class="id" title="binder">x</span></a> <a id="y:123" class="idref" href="#y:123"><span class="id" title="binder">y</span></a> := <a class="idref" href="RegLang.regexp.html#Plus"><span class="id" title="constructor">Plus</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">if</span></a> <a class="idref" href="RegLang.regexp.html#x:122"><span class="id" title="variable">x</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <a class="idref" href="RegLang.regexp.html#y:123"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">then</span></a> <a class="idref" href="RegLang.regexp.html#:::'Eps'"><span class="id" title="notation">Eps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssreflect.html#::boolean_if_scope:'if'_x_'then'_x_'else'_x"><span class="id" title="notation">else</span></a> <a class="idref" href="RegLang.regexp.html#:::'Void'"><span class="id" title="notation">Void</span></a>) (<a class="idref" href="RegLang.regexp.html#edges"><span class="id" title="definition">edges</span></a> <a class="idref" href="RegLang.regexp.html#x:122"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.regexp.html#y:123"><span class="id" title="variable">y</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mem_R0" class="idref" href="#mem_R0"><span class="id" title="lemma">mem_R0</span></a> <a id="w:124" class="idref" href="#w:124"><span class="id" title="binder">w</span></a> <a id="x:125" class="idref" href="#x:125"><span class="id" title="binder">x</span></a> <a id="y:126" class="idref" href="#y:126"><span class="id" title="binder">y</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a> (<a class="idref" href="RegLang.regexp.html#w:124"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626"><span class="id" title="notation">[::]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="RegLang.regexp.html#x:125"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><a class="idref" href="RegLang.regexp.html#y:126"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">exists2</span></a> <a id="a:128" class="idref" href="#a:128"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.regexp.html#w:124"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">[::</span></a><a class="idref" href="RegLang.regexp.html#a:127"><span class="id" title="variable">a</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="RegLang.dfa.html#dfa_trans"><span class="id" title="projection">dfa_trans</span></a> <a class="idref" href="RegLang.regexp.html#x:125"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.regexp.html#a:128"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.regexp.html#y:126"><span class="id" title="variable">y</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="RegLang.regexp.html#w:124"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#R0"><span class="id" title="definition">R0</span></a> <a class="idref" href="RegLang.regexp.html#x:125"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.regexp.html#y:126"><span class="id" title="variable">y</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> <a class="idref" href="RegLang.languages.html#plusP"><span class="id" title="lemma">plusP</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">case</span> =&gt; [| /<a class="idref" href="RegLang.regexp.html#edgesP"><span class="id" title="definition">edgesP</span></a>]; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">case</span> <span class="id" title="var">e</span> : (<span class="id" title="var">x</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <span class="id" title="var">y</span>) =&gt; // /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> <span class="id" title="var">e</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">case</span> =&gt; [[-&gt; -&gt;]|/<a class="idref" href="RegLang.regexp.html#edgesP"><span class="id" title="definition">edgesP</span></a>];<span class="id" title="tactic">auto</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqxx"><span class="id" title="abbreviation">eqxx</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="R" class="idref" href="#R"><span class="id" title="definition">R</span></a> (<a id="X:129" class="idref" href="#X:129"><span class="id" title="binder">X</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a>) (<a id="x:130" class="idref" href="#x:130"><span class="id" title="binder">x</span></a> <a id="y:131" class="idref" href="#y:131"><span class="id" title="binder">y</span></a> : <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="RegLang.regexp.html#X:129"><span class="id" title="variable">X</span></a> <span class="id" title="var">isn't</span> <span class="id" title="var">z</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">X'</span> <span class="id" title="keyword">then</span> <a class="idref" href="RegLang.regexp.html#R0"><span class="id" title="definition">R0</span></a> <a class="idref" href="RegLang.regexp.html#x:130"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.regexp.html#y:131"><span class="id" title="variable">y</span></a> <span class="id" title="keyword">else</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.regexp.html#Plus"><span class="id" title="constructor">Plus</span></a> (<a class="idref" href="RegLang.regexp.html#Conc"><span class="id" title="constructor">Conc</span></a> (<a class="idref" href="RegLang.regexp.html#R:132"><span class="id" title="definition">R</span></a> <span class="id" title="var">X'</span> <a class="idref" href="RegLang.regexp.html#x:130"><span class="id" title="variable">x</span></a> <span class="id" title="var">z</span>) (<a class="idref" href="RegLang.regexp.html#Conc"><span class="id" title="constructor">Conc</span></a> (<a class="idref" href="RegLang.regexp.html#Star"><span class="id" title="constructor">Star</span></a> (<a class="idref" href="RegLang.regexp.html#R:132"><span class="id" title="definition">R</span></a> <span class="id" title="var">X'</span> <span class="id" title="var">z</span> <span class="id" title="var">z</span>)) (<a class="idref" href="RegLang.regexp.html#R:132"><span class="id" title="definition">R</span></a> <span class="id" title="var">X'</span> <span class="id" title="var">z</span> <a class="idref" href="RegLang.regexp.html#y:131"><span class="id" title="variable">y</span></a>))) (<a class="idref" href="RegLang.regexp.html#R:132"><span class="id" title="definition">R</span></a> <span class="id" title="var">X'</span> <a class="idref" href="RegLang.regexp.html#x:130"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.regexp.html#y:131"><span class="id" title="variable">y</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="f479b52014d67b9b0e4c0398257014f2" class="idref" href="#f479b52014d67b9b0e4c0398257014f2"><span class="id" title="notation">&quot;</span></a>'R^' X" := (<a class="idref" href="RegLang.regexp.html#R"><span class="id" title="definition">R</span></a> <span class="id" title="var">X</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 8, <span class="id" title="var">format</span> "'R^' X").<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="L_R" class="idref" href="#L_R"><span class="id" title="lemma">L_R</span></a> (<a id="X:134" class="idref" href="#X:134"><span class="id" title="binder">X</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a>) <a id="x:135" class="idref" href="#x:135"><span class="id" title="binder">x</span></a> <a id="y:136" class="idref" href="#y:136"><span class="id" title="binder">y</span></a> : <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">L</span></a><a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">^</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#6308ce91f23e15d48045c8a55b43b8f5"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#6308ce91f23e15d48045c8a55b43b8f5"><span class="id" title="notation">set</span></a> <a id="z:137" class="idref" href="#z:137"><span class="id" title="binder">z</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#6308ce91f23e15d48045c8a55b43b8f5"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#X:134"><span class="id" title="variable">X</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#6308ce91f23e15d48045c8a55b43b8f5"><span class="id" title="notation">]</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">x</span></a> <a class="idref" href="RegLang.regexp.html#fcbcec44a97cf972a559a77163a04a0d"><span class="id" title="notation">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">i</span></a> <a class="idref" href="RegLang.regexp.html#f479b52014d67b9b0e4c0398257014f2"><span class="id" title="notation">R</span></a><a class="idref" href="RegLang.regexp.html#f479b52014d67b9b0e4c0398257014f2"><span class="id" title="notation">^</span></a><a class="idref" href="RegLang.regexp.html#X:134"><span class="id" title="variable">X</span></a> <a class="idref" href="RegLang.regexp.html#f479b52014d67b9b0e4c0398257014f2"><span class="id" title="notation">x</span></a> <a class="idref" href="RegLang.regexp.html#f479b52014d67b9b0e4c0398257014f2"><span class="id" title="notation">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">X</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> =&gt; [|<span class="id" title="var">z</span> <span class="id" title="var">X'</span> <span class="id" title="var">IH</span>] <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#6308ce91f23e15d48045c8a55b43b8f5"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#6308ce91f23e15d48045c8a55b43b8f5"><span class="id" title="notation">set</span></a> <a id="z:140" class="idref" href="#z:140"><span class="id" title="binder">z</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#6308ce91f23e15d48045c8a55b43b8f5"><span class="id" title="notation">in</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626"><span class="id" title="notation">[::]</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#6308ce91f23e15d48045c8a55b43b8f5"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#set0"><span class="id" title="definition">set0</span></a>) //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>/<a class="idref" href="RegLang.regexp.html#mem_R0"><span class="id" title="lemma">mem_R0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span>/<a class="idref" href="RegLang.regexp.html#L_set0"><span class="id" title="lemma">L_set0</span></a> =&gt; [[-&gt; -&gt;]|[<span class="id" title="var">a</span> -&gt; -&gt;]]; <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span> =&gt; [[-&gt; -&gt;]|[<span class="id" title="var">a</span> -&gt; &lt;-]]; <span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.regexp.html#LP"><span class="id" title="lemma">LP</span></a> =&gt; /=; <span class="id" title="tactic">split</span> =&gt; // [[|<span class="id" title="var">i</span>]] //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#set_cons"><span class="id" title="lemma">set_cons</span></a> /= (<a class="idref" href="RegLang.regexp.html#L_rec"><span class="id" title="lemma">L_rec</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) -2!<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#topredE"><span class="id" title="lemma">topredE</span></a> /= /<a class="idref" href="RegLang.languages.html#plus"><span class="id" title="definition">plus</span></a> /= <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.languages.html#conc_eq"><span class="id" title="lemma">conc_eq</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">exact</span>: <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.languages.html#conc_eq"><span class="id" title="lemma">conc_eq</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">exact</span>: <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.languages.html#star_eq"><span class="id" title="lemma">star_eq</span></a>. <span class="id" title="tactic">exact</span>: <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="dfa_to_re" class="idref" href="#dfa_to_re"><span class="id" title="definition">dfa_to_re</span></a> : <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.char"><span class="id" title="variable">char</span></a> := <a class="idref" href="RegLang.regexp.html#99715ae27b3e7216a233fea70a9f3491"><span class="id" title="notation">\</span></a><a class="idref" href="RegLang.regexp.html#99715ae27b3e7216a233fea70a9f3491"><span class="id" title="notation">sigma_</span></a><a class="idref" href="RegLang.regexp.html#99715ae27b3e7216a233fea70a9f3491"><span class="id" title="notation">(</span></a><a id="x:141" class="idref" href="#x:141"><span class="id" title="binder">x</span></a> <a class="idref" href="RegLang.regexp.html#99715ae27b3e7216a233fea70a9f3491"><span class="id" title="notation">|</span></a> <a class="idref" href="RegLang.regexp.html#x:141"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_fin"><span class="id" title="projection">dfa_fin</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a><a class="idref" href="RegLang.regexp.html#99715ae27b3e7216a233fea70a9f3491"><span class="id" title="notation">)</span></a> <a class="idref" href="RegLang.regexp.html#f479b52014d67b9b0e4c0398257014f2"><span class="id" title="notation">R</span></a><a class="idref" href="RegLang.regexp.html#f479b52014d67b9b0e4c0398257014f2"><span class="id" title="notation">^(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#enum"><span class="id" title="abbreviation">enum</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a><a class="idref" href="RegLang.regexp.html#f479b52014d67b9b0e4c0398257014f2"><span class="id" title="notation">)</span></a> <a class="idref" href="RegLang.regexp.html#f479b52014d67b9b0e4c0398257014f2"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.regexp.html#f479b52014d67b9b0e4c0398257014f2"><span class="id" title="notation">dfa_s</span></a> <a class="idref" href="RegLang.regexp.html#f479b52014d67b9b0e4c0398257014f2"><span class="id" title="notation">A</span></a><a class="idref" href="RegLang.regexp.html#f479b52014d67b9b0e4c0398257014f2"><span class="id" title="notation">)</span></a> <a class="idref" href="RegLang.regexp.html#f479b52014d67b9b0e4c0398257014f2"><span class="id" title="notation">x</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dfa_to_re_correct" class="idref" href="#dfa_to_re_correct"><span class="id" title="lemma">dfa_to_re_correct</span></a> : <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">i</span></a> <a class="idref" href="RegLang.regexp.html#dfa_to_re"><span class="id" title="definition">dfa_to_re</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">w</span>. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>/<a class="idref" href="RegLang.regexp.html#big_plusP"><span class="id" title="lemma">big_plusP</span></a> =&gt; [<span class="id" title="var">H</span>|[<span class="id" title="var">x</span> <span class="id" title="var">Hx</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> (<a class="idref" href="RegLang.dfa.html#delta_s"><span class="id" title="definition">delta_s</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">w</span>) =&gt; //. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="RegLang.regexp.html#L_R"><span class="id" title="lemma">L_R</span></a> <a class="idref" href="RegLang.misc.html#set_enum"><span class="id" title="lemma">set_enum</span></a> <a class="idref" href="RegLang.regexp.html#dfa_L"><span class="id" title="lemma">dfa_L</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="RegLang.regexp.html#L_R"><span class="id" title="lemma">L_R</span></a> <a class="idref" href="RegLang.misc.html#set_enum"><span class="id" title="lemma">set_enum</span></a> <a class="idref" href="RegLang.regexp.html#dfa_L"><span class="id" title="lemma">dfa_L</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> /<a class="idref" href="RegLang.dfa.html#dfa_accept"><span class="id" title="definition">dfa_accept</span></a> =&gt; /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> -&gt;.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab25"></a><h2 class="section">Size Bound for Kleene Theorem</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <a id="KleeneAlgorithm.c" class="idref" href="#KleeneAlgorithm.c"><span class="id" title="variable">c</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#331a87f8f0f3c9336601c27f1e458dc3"><span class="id" title="notation">(</span></a>2 <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">*</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.char"><span class="id" title="variable">char</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#331a87f8f0f3c9336601c27f1e458dc3"><span class="id" title="notation">).+3</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="R0_size" class="idref" href="#R0_size"><span class="id" title="lemma">R0_size</span></a> <a id="x:142" class="idref" href="#x:142"><span class="id" title="binder">x</span></a> <a id="y:143" class="idref" href="#y:143"><span class="id" title="binder">y</span></a> : <a class="idref" href="RegLang.regexp.html#re_size"><span class="id" title="definition">re_size</span></a> (<a class="idref" href="RegLang.regexp.html#R0"><span class="id" title="definition">R0</span></a> <a class="idref" href="RegLang.regexp.html#x:142"><span class="id" title="variable">x</span></a> <a class="idref" href="RegLang.regexp.html#y:143"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.c"><span class="id" title="variable">c</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= [<span class="id" title="var">X</span> <span class="id" title="tactic">in</span> <a class="idref" href="RegLang.regexp.html#X:144"><span class="id" title="variable">X</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">_</span>](<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1); <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span> (<span class="id" title="var">_</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#add1n"><span class="id" title="lemma">add1n</span></a> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltnS"><span class="id" title="lemma">ltnS</span></a>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="RegLang.regexp.html#edges"><span class="id" title="definition">edges</span></a> -<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#big_filter"><span class="id" title="lemma">big_filter</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#leq_trans"><span class="id" title="lemma">leq_trans</span></a> (<a class="idref" href="RegLang.regexp.html#big_plus_size"><span class="id" title="lemma">big_plus_size</span></a> (<span class="id" title="var">m</span> := 1) <span class="id" title="var">_</span>) <span class="id" title="var">_</span> =&gt; [//|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size_filter"><span class="id" title="lemma">size_filter</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltnS"><span class="id" title="lemma">ltnS</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mulnC"><span class="id" title="lemma">mulnC</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#leq_mul2l"><span class="id" title="lemma">leq_mul2l</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#leq_trans"><span class="id" title="lemma">leq_trans</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#count_size"><span class="id" title="lemma">count_size</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#index_enum"><span class="id" title="definition">index_enum</span></a> -<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#enumT"><span class="id" title="lemma">enumT</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#cardE"><span class="id" title="lemma">cardE</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="R_size_rec" class="idref" href="#R_size_rec"><span class="id" title="definition">R_size_rec</span></a> (<a id="n:145" class="idref" href="#n:145"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) := <span class="id" title="keyword">if</span> <a class="idref" href="RegLang.regexp.html#n:145"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">n'</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a> <span class="id" title="keyword">then</span> 4 <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">*</span></a> <a class="idref" href="RegLang.regexp.html#R_size_rec:146"><span class="id" title="definition">R_size_rec</span></a> <span class="id" title="var">n'</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 4 <span class="id" title="keyword">else</span> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.c"><span class="id" title="variable">c</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="R_size" class="idref" href="#R_size"><span class="id" title="lemma">R_size</span></a> <a id="x:148" class="idref" href="#x:148"><span class="id" title="binder">x</span></a> : <a class="idref" href="RegLang.regexp.html#re_size"><span class="id" title="definition">re_size</span></a> (<a class="idref" href="RegLang.regexp.html#f479b52014d67b9b0e4c0398257014f2"><span class="id" title="notation">R</span></a><a class="idref" href="RegLang.regexp.html#f479b52014d67b9b0e4c0398257014f2"><span class="id" title="notation">^(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#enum"><span class="id" title="abbreviation">enum</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a><a class="idref" href="RegLang.regexp.html#f479b52014d67b9b0e4c0398257014f2"><span class="id" title="notation">)</span></a> <a class="idref" href="RegLang.regexp.html#f479b52014d67b9b0e4c0398257014f2"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.regexp.html#f479b52014d67b9b0e4c0398257014f2"><span class="id" title="notation">dfa_s</span></a> <a class="idref" href="RegLang.regexp.html#f479b52014d67b9b0e4c0398257014f2"><span class="id" title="notation">A</span></a><a class="idref" href="RegLang.regexp.html#f479b52014d67b9b0e4c0398257014f2"><span class="id" title="notation">)</span></a> <a class="idref" href="RegLang.regexp.html#f479b52014d67b9b0e4c0398257014f2"><span class="id" title="notation">x</span></a>) <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="RegLang.regexp.html#R_size_rec"><span class="id" title="definition">R_size_rec</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a> .<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#cardE"><span class="id" title="lemma">cardE</span></a>. <span class="id" title="tactic">elim</span>: (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#enum"><span class="id" title="abbreviation">enum</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a>) (<a class="idref" href="RegLang.dfa.html#dfa_s"><span class="id" title="projection">dfa_s</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">x</span> =&gt; [|<span class="id" title="var">r</span> <span class="id" title="var">s</span> <span class="id" title="var">IH</span>] <span class="id" title="var">p</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.regexp.html#R0_size"><span class="id" title="lemma">R0_size</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /= 6!<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#addSn"><span class="id" title="lemma">addSn</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#addnS"><span class="id" title="lemma">addnS</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#addn4"><span class="id" title="lemma">addn4</span></a> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltnS"><span class="id" title="lemma">ltnS</span></a> !(<a class="idref" href="RegLang.setoid_leq.html#leqRW"><span class="id" title="definition">leqRW</span></a> (<span class="id" title="var">IH</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mulSn"><span class="id" title="lemma">mulSn</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mul0n"><span class="id" title="lemma">mul0n</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#addn0"><span class="id" title="lemma">addn0</span></a> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#addnA"><span class="id" title="lemma">addnA</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="R_size_low" class="idref" href="#R_size_low"><span class="id" title="lemma">R_size_low</span></a> (<a id="n:149" class="idref" href="#n:149"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : 3 <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="RegLang.regexp.html#R_size_rec"><span class="id" title="definition">R_size_rec</span></a> <a class="idref" href="RegLang.regexp.html#n:149"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">elim</span>: <span class="id" title="var">n</span> =&gt; // <span class="id" title="var">n</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="RegLang.setoid_leq.html#leqRW"><span class="id" title="definition">leqRW</span></a> <span class="id" title="var">IH</span>) /= -(<a class="idref" href="RegLang.setoid_leq.html#leqRW"><span class="id" title="definition">leqRW</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#leq_addr"><span class="id" title="lemma">leq_addr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#leq_pmull"><span class="id" title="lemma">leq_pmull</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="R_size_high" class="idref" href="#R_size_high"><span class="id" title="lemma">R_size_high</span></a> <a id="n:150" class="idref" href="#n:150"><span class="id" title="binder">n</span></a> : <a class="idref" href="RegLang.regexp.html#R_size_rec"><span class="id" title="definition">R_size_rec</span></a> <a class="idref" href="RegLang.regexp.html#n:150"><span class="id" title="variable">n</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.c"><span class="id" title="variable">c</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">*</span></a> 4<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^(</span></a>2 <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">*</span></a> <a class="idref" href="RegLang.regexp.html#n:150"><span class="id" title="variable">n</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">n</span> =&gt; //= [|<span class="id" title="var">n</span> <span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mulnS"><span class="id" title="lemma">mulnS</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#muln0"><span class="id" title="lemma">muln0</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#addn0"><span class="id" title="lemma">addn0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> [<span class="id" title="tactic">in</span> <span class="id" title="var">X</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a><a class="idref" href="RegLang.regexp.html#X:151"><span class="id" title="variable">X</span></a>]<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mulnS"><span class="id" title="lemma">mulnS</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#expnD"><span class="id" title="lemma">expnD</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mulnA"><span class="id" title="lemma">mulnA</span></a> [<a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.c"><span class="id" title="variable">c</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">*</span></a> <span class="id" title="var">_</span>]<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mulnC"><span class="id" title="lemma">mulnC</span></a> -<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mulnA"><span class="id" title="lemma">mulnA</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="RegLang.setoid_leq.html#leqRW"><span class="id" title="definition">leqRW</span></a> <span class="id" title="var">IH</span>) -[4<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a>2]/(<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">(</span></a>1<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>3<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">)</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">*</span></a> 4) -<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mulnA"><span class="id" title="lemma">mulnA</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mulnDl"><span class="id" title="lemma">mulnDl</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#mul1n"><span class="id" title="lemma">mul1n</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#leq_add"><span class="id" title="lemma">leq_add</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="RegLang.setoid_leq.html#leqRW"><span class="id" title="definition">leqRW</span></a> (<a class="idref" href="RegLang.regexp.html#R_size_low"><span class="id" title="lemma">R_size_low</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dfa_to_re_size" class="idref" href="#dfa_to_re_size"><span class="id" title="lemma">dfa_to_re_size</span></a> : <a class="idref" href="RegLang.regexp.html#re_size"><span class="id" title="definition">re_size</span></a> <a class="idref" href="RegLang.regexp.html#dfa_to_re"><span class="id" title="definition">dfa_to_re</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">*</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.c"><span class="id" title="variable">c</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">*</span></a> 4 <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">(</span></a>2 <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">*</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">)</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">).+1).+1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="RegLang.regexp.html#dfa_to_re"><span class="id" title="definition">dfa_to_re</span></a> -<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#big_filter"><span class="id" title="lemma">big_filter</span></a> (<a class="idref" href="RegLang.setoid_leq.html#leqRW"><span class="id" title="definition">leqRW</span></a> (<a class="idref" href="RegLang.regexp.html#big_plus_size"><span class="id" title="lemma">big_plus_size</span></a> (<span class="id" title="var">m</span> := <a class="idref" href="RegLang.regexp.html#R_size_rec"><span class="id" title="definition">R_size_rec</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="RegLang.regexp.html#KleeneAlgorithm.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a>)<span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="RegLang.setoid_leq.html#leqRW"><span class="id" title="definition">leqRW</span></a> (<a class="idref" href="RegLang.regexp.html#R_size_high"><span class="id" title="lemma">R_size_high</span></a> <span class="id" title="var">_</span>)) <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size_filter"><span class="id" title="lemma">size_filter</span></a> (<a class="idref" href="RegLang.setoid_leq.html#leqRW"><span class="id" title="definition">leqRW</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#count_size"><span class="id" title="lemma">count_size</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltnS"><span class="id" title="lemma">ltnS</span></a> /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#index_enum"><span class="id" title="definition">index_enum</span></a> -<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#enumT"><span class="id" title="lemma">enumT</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#cardE"><span class="id" title="lemma">cardE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">q</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.regexp.html#R_size"><span class="id" title="lemma">R_size</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RegLang.regexp.html#KleeneAlgorithm"><span class="id" title="section">KleeneAlgorithm</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="regularP" class="idref" href="#regularP"><span class="id" title="lemma">regularP</span></a> (<a id="char:152" class="idref" href="#char:152"><span class="id" title="binder">char</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) (<a id="L:153" class="idref" href="#L:153"><span class="id" title="binder">L</span></a> : <a class="idref" href="RegLang.languages.html#lang"><span class="id" title="definition">lang</span></a> <a class="idref" href="RegLang.regexp.html#char:152"><span class="id" title="variable">char</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> <a class="idref" href="RegLang.regexp.html#L:153"><span class="id" title="variable">L</span></a> <a class="idref" href="RegLang.misc.html#:::x_'&lt;-T-&gt;'_x"><span class="id" title="notation">&lt;-</span></a><a class="idref" href="RegLang.misc.html#:::x_'&lt;-T-&gt;'_x"><span class="id" title="notation">T</span></a><a class="idref" href="RegLang.misc.html#:::x_'&lt;-T-&gt;'_x"><span class="id" title="notation">-&gt;</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a> <a id="e:154" class="idref" href="#e:154"><span class="id" title="binder">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> <a class="idref" href="RegLang.regexp.html#char:152"><span class="id" title="variable">char</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <span class="id" title="keyword">forall</span> <a id="x:155" class="idref" href="#x:155"><span class="id" title="binder">x</span></a>, <a class="idref" href="RegLang.regexp.html#L:153"><span class="id" title="variable">L</span></a> <a class="idref" href="RegLang.regexp.html#x:155"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="RegLang.regexp.html#x:155"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#e:154"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> =&gt; [[<span class="id" title="var">A</span> <span class="id" title="var">HA</span>]|[<span class="id" title="var">e</span> <span class="id" title="var">He</span>]].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> (<a class="idref" href="RegLang.regexp.html#dfa_to_re"><span class="id" title="definition">dfa_to_re</span></a> <span class="id" title="var">A</span>) =&gt; <span class="id" title="var">x</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="RegLang.regexp.html#dfa_to_re_correct"><span class="id" title="lemma">dfa_to_re_correct</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> (<a class="idref" href="RegLang.regexp.html#re_to_dfa"><span class="id" title="definition">re_to_dfa</span></a> <span class="id" title="var">e</span>) =&gt; <span class="id" title="var">x</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.regexp.html#re_to_dfa_correct"><span class="id" title="lemma">re_to_dfa_correct</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Closure of Regular Expressions under intersection and complement 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="Inter" class="idref" href="#Inter"><span class="id" title="definition">Inter</span></a> (<a id="char:156" class="idref" href="#char:156"><span class="id" title="binder">char</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) (<a id="r:157" class="idref" href="#r:157"><span class="id" title="binder">r</span></a> <a id="s:158" class="idref" href="#s:158"><span class="id" title="binder">s</span></a> : <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> <a class="idref" href="RegLang.regexp.html#char:156"><span class="id" title="variable">char</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="RegLang.regexp.html#dfa_to_re"><span class="id" title="definition">dfa_to_re</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_op"><span class="id" title="definition">dfa_op</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#andb"><span class="id" title="definition">andb</span></a> (<a class="idref" href="RegLang.regexp.html#re_to_dfa"><span class="id" title="definition">re_to_dfa</span></a> <a class="idref" href="RegLang.regexp.html#r:157"><span class="id" title="variable">r</span></a>) (<a class="idref" href="RegLang.regexp.html#re_to_dfa"><span class="id" title="definition">re_to_dfa</span></a> <a class="idref" href="RegLang.regexp.html#s:158"><span class="id" title="variable">s</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Inter_correct" class="idref" href="#Inter_correct"><span class="id" title="lemma">Inter_correct</span></a> (<a id="char:159" class="idref" href="#char:159"><span class="id" title="binder">char</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) (<a id="r:160" class="idref" href="#r:160"><span class="id" title="binder">r</span></a> <a id="s:161" class="idref" href="#s:161"><span class="id" title="binder">s</span></a> : <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> <a class="idref" href="RegLang.regexp.html#char:159"><span class="id" title="variable">char</span></a>) <a id="w:162" class="idref" href="#w:162"><span class="id" title="binder">w</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="RegLang.regexp.html#w:162"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#Inter"><span class="id" title="definition">Inter</span></a> <a class="idref" href="RegLang.regexp.html#r:160"><span class="id" title="variable">r</span></a> <a class="idref" href="RegLang.regexp.html#s:161"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.regexp.html#w:162"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#r:160"><span class="id" title="variable">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.regexp.html#w:162"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#s:161"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="RegLang.regexp.html#Inter"><span class="id" title="definition">Inter</span></a> -<a class="idref" href="RegLang.regexp.html#dfa_to_re_correct"><span class="id" title="lemma">dfa_to_re_correct</span></a> <a class="idref" href="RegLang.dfa.html#dfa_op_correct"><span class="id" title="lemma">dfa_op_correct</span></a> !<a class="idref" href="RegLang.regexp.html#re_to_dfa_correct"><span class="id" title="lemma">re_to_dfa_correct</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Neg" class="idref" href="#Neg"><span class="id" title="definition">Neg</span></a> (<a id="char:163" class="idref" href="#char:163"><span class="id" title="binder">char</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) (<a id="r:164" class="idref" href="#r:164"><span class="id" title="binder">r</span></a> : <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> <a class="idref" href="RegLang.regexp.html#char:163"><span class="id" title="variable">char</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="RegLang.regexp.html#dfa_to_re"><span class="id" title="definition">dfa_to_re</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_compl"><span class="id" title="definition">dfa_compl</span></a> (<a class="idref" href="RegLang.regexp.html#re_to_dfa"><span class="id" title="definition">re_to_dfa</span></a> <a class="idref" href="RegLang.regexp.html#r:164"><span class="id" title="variable">r</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Neg_correct" class="idref" href="#Neg_correct"><span class="id" title="lemma">Neg_correct</span></a> (<a id="char:165" class="idref" href="#char:165"><span class="id" title="binder">char</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) (<a id="r:166" class="idref" href="#r:166"><span class="id" title="binder">r</span></a> : <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> <a class="idref" href="RegLang.regexp.html#char:165"><span class="id" title="variable">char</span></a>) <a id="w:167" class="idref" href="#w:167"><span class="id" title="binder">w</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="RegLang.regexp.html#w:167"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#Neg"><span class="id" title="definition">Neg</span></a> <a class="idref" href="RegLang.regexp.html#r:166"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.regexp.html#w:167"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#c1ad6bcc76a6221225111f87bc3b0c3d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#c1ad6bcc76a6221225111f87bc3b0c3d"><span class="id" title="notation">notin</span></a> <a class="idref" href="RegLang.regexp.html#r:166"><span class="id" title="variable">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="RegLang.regexp.html#Neg"><span class="id" title="definition">Neg</span></a> -<a class="idref" href="RegLang.regexp.html#dfa_to_re_correct"><span class="id" title="lemma">dfa_to_re_correct</span></a> <a class="idref" href="RegLang.dfa.html#dfa_compl_correct"><span class="id" title="lemma">dfa_compl_correct</span></a> !<a class="idref" href="RegLang.regexp.html#re_to_dfa_correct"><span class="id" title="lemma">re_to_dfa_correct</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab26"></a><h2 class="section">Regular expression for images of homomorphimsms</h2>

</div>
<div class="code">

<br/>
<span class="id" title="var">Prenex</span> <span class="id" title="var">Implicits</span> <span class="id" title="var">Conc</span>.<br/>
<span class="id" title="keyword">Definition</span> <a id="String" class="idref" href="#String"><span class="id" title="definition">String</span></a> (<a id="char:168" class="idref" href="#char:168"><span class="id" title="binder">char</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) (<a id="w:169" class="idref" href="#w:169"><span class="id" title="binder">w</span></a> : <a class="idref" href="RegLang.languages.html#word"><span class="id" title="definition">word</span></a> <a class="idref" href="RegLang.regexp.html#char:168"><span class="id" title="variable">char</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#foldr"><span class="id" title="definition">foldr</span></a> <a class="idref" href="RegLang.regexp.html#Conc"><span class="id" title="constructor">Conc</span></a> <a class="idref" href="RegLang.regexp.html#:::'Eps'"><span class="id" title="notation">Eps</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">seq</span></a> <a class="idref" href="RegLang.regexp.html#Atom"><span class="id" title="constructor">Atom</span></a> <a class="idref" href="RegLang.regexp.html#a:170"><span class="id" title="variable">a</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">|</span></a> <a id="a:170" class="idref" href="#a:170"><span class="id" title="binder">a</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="RegLang.regexp.html#w:169"><span class="id" title="variable">w</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">]</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="StringE" class="idref" href="#StringE"><span class="id" title="lemma">StringE</span></a> (<a id="char:171" class="idref" href="#char:171"><span class="id" title="binder">char</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) (<a id="w:172" class="idref" href="#w:172"><span class="id" title="binder">w</span></a> : <a class="idref" href="RegLang.languages.html#word"><span class="id" title="definition">word</span></a> <a class="idref" href="RegLang.regexp.html#char:171"><span class="id" title="variable">char</span></a>) : <a class="idref" href="RegLang.regexp.html#String"><span class="id" title="definition">String</span></a> <a class="idref" href="RegLang.regexp.html#w:172"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">i</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#pred1"><span class="id" title="definition">pred1</span></a> <a class="idref" href="RegLang.regexp.html#w:172"><span class="id" title="variable">w</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">w</span> =&gt; [|<span class="id" title="var">a</span> <span class="id" title="var">v</span> <span class="id" title="var">IHv</span>] <span class="id" title="var">w</span> //=. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> /<a class="idref" href="RegLang.regexp.html#String"><span class="id" title="definition">String</span></a> /=. <span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.languages.html#concP"><span class="id" title="lemma">concP</span></a>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">w1</span>] [<span class="id" title="var">w2</span>] [<span class="id" title="var">e</span> []]. <span class="id" title="tactic">set</span> <span class="id" title="var">r</span> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#foldr"><span class="id" title="definition">foldr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -/(<a class="idref" href="RegLang.regexp.html#re_lang"><span class="id" title="definition">re_lang</span></a> <span class="id" title="var">r</span>) <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> <span class="id" title="var">e</span> =&gt; /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> -&gt; <span class="id" title="var">H</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHv</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">e</span>. <span class="id" title="tactic">exists</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">[::</span></a> <span class="id" title="var">a</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">]</span></a>; <span class="id" title="tactic">exists</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">split</span> =&gt; //; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHv</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqxx"><span class="id" title="abbreviation">eqxx</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="Image" class="idref" href="#Image"><span class="id" title="section">Image</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variables</span> (<a id="Image.char" class="idref" href="#Image.char"><span class="id" title="variable">char</span></a> <a id="Image.char'" class="idref" href="#Image.char'"><span class="id" title="variable">char'</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) (<a id="Image.h" class="idref" href="#Image.h"><span class="id" title="variable">h</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> <a class="idref" href="RegLang.regexp.html#char:174"><span class="id" title="variable">char</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> <a class="idref" href="RegLang.regexp.html#char':173"><span class="id" title="variable">char'</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a id="Image.h_hom" class="idref" href="#Image.h_hom"><span class="id" title="variable">h_hom</span></a> : <a class="idref" href="RegLang.languages.html#homomorphism"><span class="id" title="definition">homomorphism</span></a> <a class="idref" href="RegLang.regexp.html#Image.h"><span class="id" title="variable">h</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="re_image" class="idref" href="#re_image"><span class="id" title="definition">re_image</span></a> (<a id="e:177" class="idref" href="#e:177"><span class="id" title="binder">e</span></a> : <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> <a class="idref" href="RegLang.regexp.html#Image.char"><span class="id" title="variable">char</span></a>) : <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> <a class="idref" href="RegLang.regexp.html#Image.char'"><span class="id" title="variable">char'</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="RegLang.regexp.html#e:177"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#:::'Void'"><span class="id" title="notation">Void</span></a> =&gt; <a class="idref" href="RegLang.regexp.html#:::'Void'"><span class="id" title="notation">Void</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#:::'Eps'"><span class="id" title="notation">Eps</span></a> =&gt; <a class="idref" href="RegLang.regexp.html#:::'Eps'"><span class="id" title="notation">Eps</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#Atom"><span class="id" title="constructor">Atom</span></a> <span class="id" title="var">a</span> =&gt; <a class="idref" href="RegLang.regexp.html#String"><span class="id" title="definition">String</span></a> (<a class="idref" href="RegLang.regexp.html#Image.h"><span class="id" title="variable">h</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">[::</span></a> <span class="id" title="var">a</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">]</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#Star"><span class="id" title="constructor">Star</span></a> <span class="id" title="var">e</span> =&gt; <a class="idref" href="RegLang.regexp.html#Star"><span class="id" title="constructor">Star</span></a> (<a class="idref" href="RegLang.regexp.html#re_image:178"><span class="id" title="definition">re_image</span></a> <a class="idref" href="RegLang.regexp.html#e:177"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#Plus"><span class="id" title="constructor">Plus</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <a class="idref" href="RegLang.regexp.html#Plus"><span class="id" title="constructor">Plus</span></a> (<a class="idref" href="RegLang.regexp.html#re_image:178"><span class="id" title="definition">re_image</span></a> <span class="id" title="var">e1</span>) (<a class="idref" href="RegLang.regexp.html#re_image:178"><span class="id" title="definition">re_image</span></a> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#Conc"><span class="id" title="constructor">Conc</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <a class="idref" href="RegLang.regexp.html#Conc"><span class="id" title="constructor">Conc</span></a> (<a class="idref" href="RegLang.regexp.html#re_image:178"><span class="id" title="definition">re_image</span></a> <span class="id" title="var">e1</span>) (<a class="idref" href="RegLang.regexp.html#re_image:178"><span class="id" title="definition">re_image</span></a> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="re_imageP" class="idref" href="#re_imageP"><span class="id" title="lemma">re_imageP</span></a> <a id="e:180" class="idref" href="#e:180"><span class="id" title="binder">e</span></a> <a id="v:181" class="idref" href="#v:181"><span class="id" title="binder">v</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a> (<a class="idref" href="RegLang.languages.html#image"><span class="id" title="definition">image</span></a> <a class="idref" href="RegLang.regexp.html#Image.h"><span class="id" title="variable">h</span></a> (<a class="idref" href="RegLang.regexp.html#re_lang"><span class="id" title="definition">re_lang</span></a> <a class="idref" href="RegLang.regexp.html#e:180"><span class="id" title="variable">e</span></a>) <a class="idref" href="RegLang.regexp.html#v:181"><span class="id" title="variable">v</span></a>) (<a class="idref" href="RegLang.regexp.html#v:181"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#re_image"><span class="id" title="definition">re_image</span></a> <a class="idref" href="RegLang.regexp.html#e:180"><span class="id" title="variable">e</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span> <span class="id" title="var">h_hom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">e</span> <span class="id" title="var">v</span> =&gt; [||<span class="id" title="var">a</span>|<span class="id" title="var">e</span> <span class="id" title="var">IHe</span>|<span class="id" title="var">e1</span> <span class="id" title="var">IHe1</span> <span class="id" title="var">e2</span> <span class="id" title="var">IHe2</span>|<span class="id" title="var">e1</span> <span class="id" title="var">IHe1</span> <span class="id" title="var">e2</span> <span class="id" title="var">IHe2</span>] <span class="id" title="var">v</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>; <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">u</span>]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>; <span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>) =&gt; [-&gt; |[<span class="id" title="var">w</span>] [] /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> -&gt; &lt;-]; <span class="id" title="var">last</span> <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.languages.html#h0"><span class="id" title="lemma">h0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626"><span class="id" title="notation">[::]</span></a>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="RegLang.languages.html#h0"><span class="id" title="lemma">h0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.regexp.html#StringE"><span class="id" title="lemma">StringE</span></a>. <span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>) =&gt; [-&gt;|[<span class="id" title="var">w</span> /=]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">[::</span></a><span class="id" title="var">a</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">]</span></a> =&gt; //. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="RegLang.languages.html#atom"><span class="id" title="definition">atom</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="RegLang.languages.html#atom"><span class="id" title="definition">atom</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> =&gt; [[]] /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> -&gt; &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>) =&gt; [/<a class="idref" href="RegLang.languages.html#starP"><span class="id" title="lemma">starP</span></a> [<span class="id" title="var">vv</span>] /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#allP"><span class="id" title="lemma">allP</span></a> <span class="id" title="var">Hvv</span> <span class="id" title="var">dev_v</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> {<span class="id" title="var">Hvv</span> <span class="id" title="var">IHe</span>} <span class="id" title="var">Hvv</span> <span class="id" title="var">v'</span> : <a class="idref" href="RegLang.regexp.html#v':182"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <span class="id" title="var">vv</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.languages.html#image"><span class="id" title="definition">image</span></a> <a class="idref" href="RegLang.regexp.html#Image.h"><span class="id" title="variable">h</span></a> (<a class="idref" href="RegLang.regexp.html#re_lang"><span class="id" title="definition">re_lang</span></a> <span class="id" title="var">e</span>) <a class="idref" href="RegLang.regexp.html#v':182"><span class="id" title="variable">v'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span> =&gt; /<span class="id" title="var">Hvv</span> /= /<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [<span class="id" title="var">_</span> /<span class="id" title="var">IHe</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">elim</span>: <span class="id" title="var">vv</span> <span class="id" title="var">Hvv</span> =&gt; [|<span class="id" title="var">v</span> <span class="id" title="var">vv</span> <span class="id" title="var">IHvv</span>] <span class="id" title="var">Hvv</span> /=; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626"><span class="id" title="notation">[::]</span></a>; <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="RegLang.languages.html#h0"><span class="id" title="lemma">h0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<span class="id" title="var">Hvv</span> <span class="id" title="var">v</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#mem_head"><span class="id" title="lemma">mem_head</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) =&gt; <span class="id" title="var">w</span> [<span class="id" title="var">Hw1</span> <span class="id" title="var">Hw2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>/<a class="idref" href="RegLang.misc.html#all1s"><span class="id" title="lemma">all1s</span></a>: <span class="id" title="var">Hvv</span> =&gt; <span class="id" title="var">Hv</span> /<span class="id" title="var">IHvv</span> [<span class="id" title="var">ww</span> [<span class="id" title="var">Hww1</span> <span class="id" title="var">Hww2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">w</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a><span class="id" title="var">ww</span>); <span class="id" title="tactic">split</span>; <span class="id" title="tactic">by</span> [<span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.languages.html#star_cat"><span class="id" title="lemma">star_cat</span></a> | <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.regexp.html#Image.h_hom"><span class="id" title="variable">h_hom</span></a> <span class="id" title="var">Hw2</span> <span class="id" title="var">Hww2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">case</span> =&gt; <span class="id" title="var">w</span> [] /<a class="idref" href="RegLang.languages.html#starP"><span class="id" title="lemma">starP</span></a> [<span class="id" title="var">ww</span>] /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#allP"><span class="id" title="lemma">allP</span></a> <span class="id" title="var">Hww1</span> -&gt; &lt;-. <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.languages.html#h_flatten"><span class="id" title="lemma">h_flatten</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.languages.html#starI"><span class="id" title="lemma">starI</span></a> =&gt; <span class="id" title="var">v'</span> /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#mapP"><span class="id" title="lemma">mapP</span></a> [<span class="id" title="var">w'</span> /<span class="id" title="var">Hww1</span> /= /<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [<span class="id" title="var">_</span> <span class="id" title="var">Hw'</span> -&gt;]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="var">IHe</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">w'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">case</span> =&gt; [/<span class="id" title="var">IHe1</span> | /<span class="id" title="var">IHe2</span>] [<span class="id" title="var">w</span>] [] <span class="id" title="var">H</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">w</span> =&gt; //. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="RegLang.languages.html#plus"><span class="id" title="definition">plus</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <span class="id" title="var">w</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#re_lang"><span class="id" title="definition">re_lang</span></a> <span class="id" title="var">e1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">w</span> =&gt; //. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="RegLang.languages.html#plus"><span class="id" title="definition">plus</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <span class="id" title="var">w</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#re_lang"><span class="id" title="definition">re_lang</span></a> <span class="id" title="var">e2</span>) ?<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#orbT"><span class="id" title="lemma">orbT</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">case</span> =&gt; <span class="id" title="var">w</span> []. <span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a> =&gt; <span class="id" title="var">H</span> &lt;-; [<span class="id" title="tactic">left</span>; <span class="id" title="tactic">apply</span>/<span class="id" title="var">IHe1</span> |<span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span>/<span class="id" title="var">IHe2</span>]; <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#iffP"><span class="id" title="lemma">iffP</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">case</span>/<a class="idref" href="RegLang.languages.html#concP"><span class="id" title="lemma">concP</span></a> =&gt; <span class="id" title="var">v1</span> [<span class="id" title="var">v2</span>] [<span class="id" title="var">e</span>] [/<span class="id" title="var">IHe1</span> [<span class="id" title="var">w</span> [<span class="id" title="var">Hw1</span> <span class="id" title="var">Hw2</span>]] /<span class="id" title="var">IHe2</span> [<span class="id" title="var">w'</span> [<span class="id" title="var">Hw1'</span> <span class="id" title="var">Hw2'</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">w</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a><span class="id" title="var">w'</span>); <span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.languages.html#conc_cat"><span class="id" title="lemma">conc_cat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.regexp.html#Image.h_hom"><span class="id" title="variable">h_hom</span></a> <span class="id" title="var">e</span> <span class="id" title="var">Hw2</span> <span class="id" title="var">Hw2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">case</span> =&gt; <span class="id" title="var">w</span> [] /<a class="idref" href="RegLang.languages.html#concP"><span class="id" title="lemma">concP</span></a> [<span class="id" title="var">w1</span>] [<span class="id" title="var">w2</span>] [-&gt; [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span> &lt;-]]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.regexp.html#Image.h_hom"><span class="id" title="variable">h_hom</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.languages.html#conc_cat"><span class="id" title="lemma">conc_cat</span></a>; [<span class="id" title="tactic">apply</span>/<span class="id" title="var">IHe1</span>|<span class="id" title="tactic">apply</span>/<span class="id" title="var">IHe2</span>]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">w1</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">w2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RegLang.regexp.html#Image"><span class="id" title="section">Image</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="im_regular" class="idref" href="#im_regular"><span class="id" title="lemma">im_regular</span></a> (<a id="char:183" class="idref" href="#char:183"><span class="id" title="binder">char</span></a> <a id="char':184" class="idref" href="#char':184"><span class="id" title="binder">char'</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) (<a id="h:185" class="idref" href="#h:185"><span class="id" title="binder">h</span></a> : <a class="idref" href="RegLang.languages.html#word"><span class="id" title="definition">word</span></a> <a class="idref" href="RegLang.regexp.html#char:183"><span class="id" title="variable">char</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.languages.html#word"><span class="id" title="definition">word</span></a> <a class="idref" href="RegLang.regexp.html#char':184"><span class="id" title="variable">char'</span></a>) <a id="L:186" class="idref" href="#L:186"><span class="id" title="binder">L</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="RegLang.languages.html#homomorphism"><span class="id" title="definition">homomorphism</span></a> <a class="idref" href="RegLang.regexp.html#h:185"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> <a class="idref" href="RegLang.regexp.html#L:186"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> (<a class="idref" href="RegLang.languages.html#image"><span class="id" title="definition">image</span></a> <a class="idref" href="RegLang.regexp.html#h:185"><span class="id" title="variable">h</span></a> <a class="idref" href="RegLang.regexp.html#L:186"><span class="id" title="variable">L</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">hom_h</span> /<a class="idref" href="RegLang.regexp.html#regularP"><span class="id" title="lemma">regularP</span></a> [<span class="id" title="var">e</span> <span class="id" title="var">He</span>]. <span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.regexp.html#regularP"><span class="id" title="lemma">regularP</span></a>. <span class="id" title="tactic">exists</span> (@<a class="idref" href="RegLang.regexp.html#re_image"><span class="id" title="definition">re_image</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span> <span class="id" title="var">e</span>) =&gt; <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="RegLang.languages.html#image"><span class="id" title="definition">image</span></a> <span class="id" title="var">h</span> (<a class="idref" href="RegLang.regexp.html#re_lang"><span class="id" title="definition">re_lang</span></a> <span class="id" title="var">e</span>) <span class="id" title="var">w</span>); <span class="id" title="tactic">first</span> <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.languages.html#image_ext"><span class="id" title="lemma">image_ext</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#rwP"><span class="id" title="lemma">rwP</span></a> (<a class="idref" href="RegLang.regexp.html#re_imageP"><span class="id" title="lemma">re_imageP</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab27"></a><h2 class="section">Regular Expression for word reversal</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="Rev" class="idref" href="#Rev"><span class="id" title="definition">Rev</span></a> (<a id="char:187" class="idref" href="#char:187"><span class="id" title="binder">char</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) (<a id="e:188" class="idref" href="#e:188"><span class="id" title="binder">e</span></a> : <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> <a class="idref" href="RegLang.regexp.html#char:187"><span class="id" title="variable">char</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="RegLang.regexp.html#e:188"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#Star"><span class="id" title="constructor">Star</span></a> <span class="id" title="var">e</span> =&gt; <a class="idref" href="RegLang.regexp.html#Star"><span class="id" title="constructor">Star</span></a> (<a class="idref" href="RegLang.regexp.html#Rev:189"><span class="id" title="definition">Rev</span></a> <a class="idref" href="RegLang.regexp.html#e:188"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#Plus"><span class="id" title="constructor">Plus</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <a class="idref" href="RegLang.regexp.html#Plus"><span class="id" title="constructor">Plus</span></a> (<a class="idref" href="RegLang.regexp.html#Rev:189"><span class="id" title="definition">Rev</span></a> <span class="id" title="var">e1</span>) (<a class="idref" href="RegLang.regexp.html#Rev:189"><span class="id" title="definition">Rev</span></a> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="RegLang.regexp.html#Conc"><span class="id" title="constructor">Conc</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <a class="idref" href="RegLang.regexp.html#Conc"><span class="id" title="constructor">Conc</span></a> (<a class="idref" href="RegLang.regexp.html#Rev:189"><span class="id" title="definition">Rev</span></a> <span class="id" title="var">e2</span>) (<a class="idref" href="RegLang.regexp.html#Rev:189"><span class="id" title="definition">Rev</span></a> <span class="id" title="var">e1</span>)<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="RegLang.regexp.html#e:188"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Rev_correct" class="idref" href="#Rev_correct"><span class="id" title="lemma">Rev_correct</span></a> (<a id="char:191" class="idref" href="#char:191"><span class="id" title="binder">char</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) (<a id="e:192" class="idref" href="#e:192"><span class="id" title="binder">e</span></a> : <a class="idref" href="RegLang.regexp.html#regexp"><span class="id" title="inductive">regexp</span></a> <a class="idref" href="RegLang.regexp.html#char:191"><span class="id" title="variable">char</span></a>) <a id="w:193" class="idref" href="#w:193"><span class="id" title="binder">w</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="RegLang.regexp.html#w:193"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#Rev"><span class="id" title="definition">Rev</span></a> <a class="idref" href="RegLang.regexp.html#e:192"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="RegLang.regexp.html#w:193"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.regexp.html#e:192"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">e</span> <span class="id" title="var">w</span> =&gt; [||<span class="id" title="var">a</span>|<span class="id" title="var">e</span> <span class="id" title="var">IH</span>|<span class="id" title="var">e1</span> <span class="id" title="var">IH1</span> <span class="id" title="var">e2</span> <span class="id" title="var">IH2</span>|<span class="id" title="var">e1</span> <span class="id" title="var">IH1</span> <span class="id" title="var">e2</span> <span class="id" title="var">IH2</span>] <span class="id" title="var">w</span> //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>/<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>-&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#last_ind"><span class="id" title="lemma">last_ind</span></a>: <span class="id" title="var">w</span> =&gt; //= <span class="id" title="var">s</span> <span class="id" title="var">a</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#rev_rcons"><span class="id" title="lemma">rev_rcons</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>-&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">elim</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#last_ind"><span class="id" title="lemma">last_ind</span></a>: <span class="id" title="var">w</span> =&gt; //= <span class="id" title="var">w</span> ? <span class="id" title="var">_</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#rev_rcons"><span class="id" title="lemma">rev_rcons</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /=; <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>/<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>; <span class="id" title="tactic">case</span>/<a class="idref" href="RegLang.languages.html#starP"><span class="id" title="lemma">starP</span></a> =&gt; <span class="id" title="var">vv</span> /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#allP"><span class="id" title="lemma">allP</span></a> /= <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span>-&gt;. <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.misc.html#rev_flatten"><span class="id" title="lemma">rev_flatten</span></a>. <span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.languages.html#starI"><span class="id" title="lemma">starI</span></a> =&gt; <span class="id" title="var">v'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#mem_rev"><span class="id" title="lemma">mem_rev</span></a> =&gt; /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#mapP"><span class="id" title="lemma">mapP</span></a> [<span class="id" title="var">v</span> <span class="id" title="var">V1</span> -&gt;]. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">IH</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">V1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> -{2}[<span class="id" title="var">w</span>]<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#revK"><span class="id" title="lemma">revK</span></a> =&gt; -&gt;. <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.misc.html#rev_flatten"><span class="id" title="lemma">rev_flatten</span></a>. <span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.languages.html#starI"><span class="id" title="lemma">starI</span></a> =&gt; <span class="id" title="var">v'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#mem_rev"><span class="id" title="lemma">mem_rev</span></a> =&gt; /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#mapP"><span class="id" title="lemma">mapP</span></a> [<span class="id" title="var">v</span> <span class="id" title="var">V1</span> -&gt;]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IH</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#revK"><span class="id" title="lemma">revK</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">V1</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /= !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> -!/(<a class="idref" href="RegLang.regexp.html#re_lang"><span class="id" title="definition">re_lang</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">IH1</span> <span class="id" title="var">IH2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /=. <span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.languages.html#concP"><span class="id" title="lemma">concP</span></a>/<a class="idref" href="RegLang.languages.html#concP"><span class="id" title="lemma">concP</span></a> =&gt; [] [<span class="id" title="var">w1</span>] [<span class="id" title="var">w2</span>]; <span class="id" title="tactic">rewrite</span> -!/(<a class="idref" href="RegLang.regexp.html#re_lang"><span class="id" title="definition">re_lang</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span> =&gt; [-&gt; [<span class="id" title="var">A</span> <span class="id" title="var">B</span>]]. <span class="id" title="tactic">exists</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#rev"><span class="id" title="definition">rev</span></a> <span class="id" title="var">w2</span>); <span class="id" title="tactic">exists</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#rev"><span class="id" title="definition">rev</span></a> <span class="id" title="var">w1</span>). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#rev_cat"><span class="id" title="lemma">rev_cat</span></a> -<span class="id" title="var">IH1</span> -<span class="id" title="var">IH2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> -{2}[<span class="id" title="var">w</span>]<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#revK"><span class="id" title="lemma">revK</span></a>. <span class="id" title="tactic">move</span> =&gt; [-&gt; [<span class="id" title="var">A</span> <span class="id" title="var">B</span>]]. <span class="id" title="tactic">exists</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#rev"><span class="id" title="definition">rev</span></a> <span class="id" title="var">w2</span>); <span class="id" title="tactic">exists</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#rev"><span class="id" title="definition">rev</span></a> <span class="id" title="var">w1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#rev_cat"><span class="id" title="lemma">rev_cat</span></a> <span class="id" title="var">IH1</span> <span class="id" title="var">IH2</span> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#revK"><span class="id" title="lemma">revK</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="regular_rev" class="idref" href="#regular_rev"><span class="id" title="lemma">regular_rev</span></a> (<a id="char:194" class="idref" href="#char:194"><span class="id" title="binder">char</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) (<a id="L:195" class="idref" href="#L:195"><span class="id" title="binder">L</span></a> : <a class="idref" href="RegLang.languages.html#lang"><span class="id" title="definition">lang</span></a> <a class="idref" href="RegLang.regexp.html#char:194"><span class="id" title="variable">char</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> <a class="idref" href="RegLang.regexp.html#L:195"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.dfa.html#regular"><span class="id" title="definition">regular</span></a> (<span class="id" title="keyword">fun</span> <a id="x:196" class="idref" href="#x:196"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="RegLang.regexp.html#L:195"><span class="id" title="variable">L</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="RegLang.regexp.html#x:196"><span class="id" title="variable">x</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">case</span>/<a class="idref" href="RegLang.regexp.html#regularP"><span class="id" title="lemma">regularP</span></a> =&gt; <span class="id" title="var">e</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span>/<a class="idref" href="RegLang.regexp.html#regularP"><span class="id" title="lemma">regularP</span></a>. <span class="id" title="tactic">exists</span> (<a class="idref" href="RegLang.regexp.html#Rev"><span class="id" title="definition">Rev</span></a> <span class="id" title="var">e</span>) =&gt; <span class="id" title="var">x</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="RegLang.regexp.html#Rev_correct"><span class="id" title="lemma">Rev_correct</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/coq-community/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
