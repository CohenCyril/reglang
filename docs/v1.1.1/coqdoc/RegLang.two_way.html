<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../../..">Project Website</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="comment">(*&nbsp;Authors&nbsp;Christian&nbsp;Doczkal&nbsp;and&nbsp;Jan-Oliver&nbsp;Kaiser&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;Distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;CeCILL-B.&nbsp;*)</span><br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">mathcomp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.all_ssreflect.html#"><span class="id" title="library">all_ssreflect</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">RegLang</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="RegLang.misc.html#"><span class="id" title="library">misc</span></a> <a class="idref" href="RegLang.languages.html#"><span class="id" title="library">languages</span></a> <a class="idref" href="RegLang.dfa.html#"><span class="id" title="library">dfa</span></a> <a class="idref" href="RegLang.regexp.html#"><span class="id" title="library">regexp</span></a> <a class="idref" href="RegLang.myhill_nerode.html#"><span class="id" title="library">myhill_nerode</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span> "Type".<br/>

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Strict</span> <span class="id" title="keyword">Implicit</span>.<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Printing</span> <span class="id" title="keyword">Implicit</span> <span class="id" title="var">Defensive</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab37"></a><h1 class="section">Two Way Automata</h1>

<div class="paragraph"> </div>

<a id="lab38"></a><h2 class="section">Preliminaries</h2>


<div class="paragraph"> </div>

We want to represent configurations of two-way automata as pairs of states and
positions on the input word extended with left and right markers. That is
positions will be of type <span class="inlinecode">'<span class="id" title="var">I_n</span>.+2</span> with <span class="inlinecode"><span class="id" title="var">n</span></span> beeing the length of the input
word. We need some facts about finite ordinals of this form. 

<div class="paragraph"> </div>

We define a three-way case analysis on <span class="inlinecode">'<span class="id" title="var">I_n</span>.+2</span>. If <span class="inlinecode"><span class="id" title="var">i</span>:'<span class="id" title="var">I_n</span>.+2</span> is
neither <span class="inlinecode"><span class="id" title="var">ord0</span></span> nor <span class="inlinecode"><span class="id" title="var">ord_max</span></span>, then we can cast it (with offset 1) to
<span class="inlinecode">'<span class="id" title="var">I_n</span></span>. This is used for looking up charaters of an input word 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a id="ord2_spec" class="idref" href="#ord2_spec"><span class="id" title="inductive">ord2_spec</span></a> <a id="n:1" class="idref" href="#n:1"><span class="id" title="binder">n</span></a> (<a id="m:2" class="idref" href="#m:2"><span class="id" title="binder">m</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#:::'''I_'_x"><span class="id" title="notation">'</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#:::'''I_'_x"><span class="id" title="notation">I_n</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bc63483175fac06bcd5541a5e9093b18"><span class="id" title="notation">.+2</span></a>) :=<br/>
| <a id="Ord20" class="idref" href="#Ord20"><span class="id" title="constructor">Ord20</span></a> <span class="id" title="keyword">of</span> <a class="idref" href="RegLang.two_way.html#m:2"><span class="id" title="variable">m</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ord0"><span class="id" title="definition">ord0</span></a><br/>
| <a id="Ord2M" class="idref" href="#Ord2M"><span class="id" title="constructor">Ord2M</span></a> <span class="id" title="keyword">of</span> <a class="idref" href="RegLang.two_way.html#m:2"><span class="id" title="variable">m</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ord_max"><span class="id" title="definition">ord_max</span></a><br/>
| <a id="Ord2C" class="idref" href="#Ord2C"><span class="id" title="constructor">Ord2C</span></a> (<a id="i:5" class="idref" href="#i:5"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#:::'''I_'_x"><span class="id" title="notation">'</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#:::'''I_'_x"><span class="id" title="notation">I_n</span></a>) <span class="id" title="keyword">of</span> <a class="idref" href="RegLang.two_way.html#i:5"><span class="id" title="variable">i</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.two_way.html#m:2"><span class="id" title="variable">m</span></a>.<br/>

<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="RegLang.two_way.html#Ord20"><span class="id" title="constructor">Ord20</span></a> [<span class="id" title="var">n</span> <span class="id" title="var">m</span>] <span class="id" title="var">_</span>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="RegLang.two_way.html#Ord2M"><span class="id" title="constructor">Ord2M</span></a> [<span class="id" title="var">n</span> <span class="id" title="var">m</span>] <span class="id" title="var">_</span>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="RegLang.two_way.html#Ord2C"><span class="id" title="constructor">Ord2C</span></a> [<span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span>] <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ord2P" class="idref" href="#ord2P"><span class="id" title="lemma">ord2P</span></a> <a id="n:6" class="idref" href="#n:6"><span class="id" title="binder">n</span></a> (<a id="m:7" class="idref" href="#m:7"><span class="id" title="binder">m</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#:::'''I_'_x"><span class="id" title="notation">'</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#:::'''I_'_x"><span class="id" title="notation">I_n</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bc63483175fac06bcd5541a5e9093b18"><span class="id" title="notation">.+2</span></a>) : <a class="idref" href="RegLang.two_way.html#ord2_spec"><span class="id" title="inductive">ord2_spec</span></a> <a class="idref" href="RegLang.two_way.html#m:7"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#unliftP"><span class="id" title="lemma">unliftP</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ord0"><span class="id" title="definition">ord0</span></a> <span class="id" title="var">m</span>) =&gt; [<span class="id" title="var">j</span> <span class="id" title="var">Hj</span>|/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>]; <span class="id" title="var">last</span> <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.two_way.html#Ord20"><span class="id" title="constructor">Ord20</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#unliftP"><span class="id" title="lemma">unliftP</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ord_max"><span class="id" title="definition">ord_max</span></a> <span class="id" title="var">j</span>) =&gt; [<span class="id" title="var">i</span> <span class="id" title="var">Hi</span>|<span class="id" title="var">Hj2</span>]; <span class="id" title="var">last</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="RegLang.two_way.html#Ord2M"><span class="id" title="constructor">Ord2M</span></a>.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">apply</span>: (@<a class="idref" href="RegLang.two_way.html#Ord2C"><span class="id" title="constructor">Ord2C</span></a> <span class="id" title="var">_</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span>). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hj</span> <span class="id" title="var">Hi</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#lift0"><span class="id" title="lemma">lift0</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#lift_max"><span class="id" title="lemma">lift_max</span></a>.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hj</span> <span class="id" title="var">Hj2</span>. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ord_inj"><span class="id" title="lemma">ord_inj</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#lift0"><span class="id" title="lemma">lift0</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ord2P0" class="idref" href="#ord2P0"><span class="id" title="lemma">ord2P0</span></a> <a id="n:8" class="idref" href="#n:8"><span class="id" title="binder">n</span></a> : <a class="idref" href="RegLang.two_way.html#ord2P"><span class="id" title="lemma">ord2P</span></a> (@<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ord0"><span class="id" title="definition">ord0</span></a> <a class="idref" href="RegLang.two_way.html#n:8"><span class="id" title="variable">n</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.two_way.html#Ord20"><span class="id" title="constructor">Ord20</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqxx"><span class="id" title="abbreviation">eqxx</span></a> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">case</span>: (<a class="idref" href="RegLang.two_way.html#ord2P"><span class="id" title="lemma">ord2P</span></a> (@<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ord0"><span class="id" title="definition">ord0</span></a> <span class="id" title="var">n</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a>)) =&gt; //= <span class="id" title="var">H</span>. <span class="id" title="var">congr</span> <a class="idref" href="RegLang.two_way.html#Ord20"><span class="id" title="constructor">Ord20</span></a>. <span class="id" title="tactic">exact</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eq_irrelevance"><span class="id" title="lemma">eq_irrelevance</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ord2PM" class="idref" href="#ord2PM"><span class="id" title="lemma">ord2PM</span></a> <a id="n:9" class="idref" href="#n:9"><span class="id" title="binder">n</span></a> : <a class="idref" href="RegLang.two_way.html#ord2P"><span class="id" title="lemma">ord2P</span></a> (@<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ord_max"><span class="id" title="definition">ord_max</span></a> <a class="idref" href="RegLang.two_way.html#n:9"><span class="id" title="variable">n</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.two_way.html#Ord2M"><span class="id" title="constructor">Ord2M</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqxx"><span class="id" title="abbreviation">eqxx</span></a> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="RegLang.two_way.html#ord2P"><span class="id" title="lemma">ord2P</span></a> (@<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ord_max"><span class="id" title="definition">ord_max</span></a> <span class="id" title="var">n</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a>)) =&gt; //= [<span class="id" title="var">H</span>|<span class="id" title="var">i</span> <span class="id" title="var">Hi</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a>. <span class="id" title="tactic">exact</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eq_irrelevance"><span class="id" title="lemma">eq_irrelevance</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>: (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ltn_ord"><span class="id" title="lemma">ltn_ord</span></a> <span class="id" title="var">i</span>). <span class="id" title="tactic">move</span>: (<span class="id" title="var">Hi</span>) =&gt; <span class="id" title="var">Hi2</span>. <span class="id" title="tactic">move</span>: <span class="id" title="var">Hi</span> =&gt; [] -&gt;. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltnn"><span class="id" title="lemma">ltnn</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ord2PC" class="idref" href="#ord2PC"><span class="id" title="lemma">ord2PC</span></a> <a id="n:10" class="idref" href="#n:10"><span class="id" title="binder">n</span></a> {<a id="i:11" class="idref" href="#i:11"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#:::'''I_'_x"><span class="id" title="notation">'</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#:::'''I_'_x"><span class="id" title="notation">I_n</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bc63483175fac06bcd5541a5e9093b18"><span class="id" title="notation">.+2</span></a>} {<a id="i':12" class="idref" href="#i':12"><span class="id" title="binder">i'</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#:::'''I_'_x"><span class="id" title="notation">'</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#:::'''I_'_x"><span class="id" title="notation">I_n</span></a>} (<a id="p:13" class="idref" href="#p:13"><span class="id" title="binder">p</span></a> : <a class="idref" href="RegLang.two_way.html#i':12"><span class="id" title="variable">i'</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.two_way.html#i:11"><span class="id" title="variable">i</span></a>) : <a class="idref" href="RegLang.two_way.html#ord2P"><span class="id" title="lemma">ord2P</span></a> <a class="idref" href="RegLang.two_way.html#i:11"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="RegLang.two_way.html#Ord2C"><span class="id" title="constructor">Ord2C</span></a> <a class="idref" href="RegLang.two_way.html#p:13"><span class="id" title="variable">p</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="RegLang.two_way.html#ord2P"><span class="id" title="lemma">ord2P</span></a> <span class="id" title="var">i</span>) =&gt; [<span class="id" title="var">Hi</span>|<span class="id" title="var">Hi</span>|<span class="id" title="var">j'</span> <span class="id" title="var">p'</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">move</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>: <span class="id" title="var">Hi</span> =&gt; <span class="id" title="var">Hi</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hi</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">move</span>:<span class="id" title="var">Hi</span>. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>. <span class="id" title="tactic">apply</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#contra_eqN"><span class="id" title="lemma">contra_eqN</span></a> <span class="id" title="var">p</span> =&gt; /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>-&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#eqn_leq"><span class="id" title="lemma">eqn_leq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#negb_and"><span class="id" title="lemma">negb_and</span></a> -[<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ord_max"><span class="id" title="definition">ord_max</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">)</span></a>]<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltnNge"><span class="id" title="lemma">ltnNge</span></a> [<span class="id" title="var">_</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">_</span>](<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) ?<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#orbT"><span class="id" title="lemma">orbT</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#leq_ltn_trans"><span class="id" title="lemma">leq_ltn_trans</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ltn_ord"><span class="id" title="lemma">ltn_ord</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">have</span> ?: <span class="id" title="var">i'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j'</span>. <span class="id" title="tactic">apply</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ord_inj"><span class="id" title="lemma">ord_inj</span></a>. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#eqSS"><span class="id" title="lemma">eqSS</span></a> <span class="id" title="var">p</span> <span class="id" title="var">p'</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eq_irrelevance"><span class="id" title="lemma">eq_irrelevance</span></a> <span class="id" title="var">p</span> <span class="id" title="var">p'</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab39"></a><h2 class="section">Definition of 2NFAs and their languages.</h2>


<div class="paragraph"> </div>

We need to call 2NFAs <span class="inlinecode"><span class="id" title="var">nfa2</span></span> since names may not begin with numbers. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="NFA2" class="idref" href="#NFA2"><span class="id" title="section">NFA2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="NFA2.char" class="idref" href="#NFA2.char"><span class="id" title="variable">char</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="dir" class="idref" href="#dir"><span class="id" title="definition">dir</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="L" class="idref" href="#L"><span class="id" title="definition">L</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="R" class="idref" href="#R"><span class="id" title="definition">R</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a id="nfa2" class="idref" href="#nfa2"><span class="id" title="record">nfa2</span></a> := <a id="Nfa2" class="idref" href="#Nfa2"><span class="id" title="constructor">Nfa2</span></a> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="nfa2_state" class="idref" href="#nfa2_state"><span class="id" title="projection">nfa2_state</span></a> :&gt; <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="nfa2_s" class="idref" href="#nfa2_s"><span class="id" title="projection">nfa2_s</span></a> : <a class="idref" href="RegLang.two_way.html#nfa2_state:16"><span class="id" title="method">nfa2_state</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="nfa2_f" class="idref" href="#nfa2_f"><span class="id" title="projection">nfa2_f</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">{</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">set</span></a> <a class="idref" href="RegLang.two_way.html#nfa2_state:16"><span class="id" title="method">nfa2_state</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">}</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="nfa2_trans" class="idref" href="#nfa2_trans"><span class="id" title="projection">nfa2_trans</span></a> : <a class="idref" href="RegLang.two_way.html#nfa2_state:16"><span class="id" title="method">nfa2_state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.two_way.html#NFA2.char"><span class="id" title="variable">char</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">{</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">set</span></a> <a class="idref" href="RegLang.two_way.html#nfa2_state:16"><span class="id" title="method">nfa2_state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="RegLang.two_way.html#dir"><span class="id" title="definition">dir</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">}</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="nfa2_transL" class="idref" href="#nfa2_transL"><span class="id" title="projection">nfa2_transL</span></a> : <a class="idref" href="RegLang.two_way.html#nfa2_state:16"><span class="id" title="method">nfa2_state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">{</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">set</span></a> <a class="idref" href="RegLang.two_way.html#nfa2_state:16"><span class="id" title="method">nfa2_state</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">}</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="nfa2_transR" class="idref" href="#nfa2_transR"><span class="id" title="projection">nfa2_transR</span></a> : <a class="idref" href="RegLang.two_way.html#nfa2_state:16"><span class="id" title="method">nfa2_state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">{</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">set</span></a> <a class="idref" href="RegLang.two_way.html#nfa2_state:16"><span class="id" title="method">nfa2_state</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">}</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variables</span> (<a id="NFA2.A" class="idref" href="#NFA2.A"><span class="id" title="variable">A</span></a> : <a class="idref" href="RegLang.two_way.html#nfa2"><span class="id" title="record">nfa2</span></a>) (<a id="NFA2.x" class="idref" href="#NFA2.x"><span class="id" title="variable">x</span></a> : <a class="idref" href="RegLang.languages.html#word"><span class="id" title="definition">word</span></a> <a class="idref" href="RegLang.two_way.html#NFA2.char"><span class="id" title="variable">char</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="tape" class="idref" href="#tape"><span class="id" title="definition">tape</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.tuple.html#in_tuple"><span class="id" title="definition">in_tuple</span></a> <a class="idref" href="RegLang.two_way.html#NFA2.x"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="pos" class="idref" href="#pos"><span class="id" title="definition">pos</span></a> := (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#:::'''I_'_x"><span class="id" title="notation">'</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#:::'''I_'_x"><span class="id" title="notation">I_</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bc63483175fac06bcd5541a5e9093b18"><span class="id" title="notation">(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="RegLang.two_way.html#NFA2.x"><span class="id" title="variable">x</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bc63483175fac06bcd5541a5e9093b18"><span class="id" title="notation">).+2</span></a>)%<span class="id" title="keyword">type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="nfa2_config" class="idref" href="#nfa2_config"><span class="id" title="definition">nfa2_config</span></a> := (<a class="idref" href="RegLang.two_way.html#NFA2.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="RegLang.two_way.html#pos"><span class="id" title="definition">pos</span></a>)%<span class="id" title="keyword">type</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="read" class="idref" href="#read"><span class="id" title="definition">read</span></a> (<a id="q:24" class="idref" href="#q:24"><span class="id" title="binder">q</span></a>:<a class="idref" href="RegLang.two_way.html#NFA2.A"><span class="id" title="variable">A</span></a>) (<a id="n:25" class="idref" href="#n:25"><span class="id" title="binder">n</span></a> : <a class="idref" href="RegLang.two_way.html#pos"><span class="id" title="definition">pos</span></a>) : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">{</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">set</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.two_way.html#NFA2.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="RegLang.two_way.html#dir"><span class="id" title="definition">dir</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">)}</span></a> :=  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="RegLang.two_way.html#ord2P"><span class="id" title="lemma">ord2P</span></a> <a class="idref" href="RegLang.two_way.html#n:25"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="RegLang.two_way.html#Ord20"><span class="id" title="constructor">Ord20</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#setX"><span class="id" title="definition">setX</span></a> (<a class="idref" href="RegLang.two_way.html#nfa2_transL"><span class="id" title="projection">nfa2_transL</span></a> <a class="idref" href="RegLang.two_way.html#q:24"><span class="id" title="variable">q</span></a>) <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">set</span></a> <a class="idref" href="RegLang.two_way.html#R"><span class="id" title="definition">R</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="RegLang.two_way.html#Ord2M"><span class="id" title="constructor">Ord2M</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#setX"><span class="id" title="definition">setX</span></a> (<a class="idref" href="RegLang.two_way.html#nfa2_transR"><span class="id" title="projection">nfa2_transR</span></a> <a class="idref" href="RegLang.two_way.html#q:24"><span class="id" title="variable">q</span></a>) <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">set</span></a> <a class="idref" href="RegLang.two_way.html#L"><span class="id" title="definition">L</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="RegLang.two_way.html#Ord2C"><span class="id" title="constructor">Ord2C</span></a> <span class="id" title="var">m'</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="RegLang.two_way.html#nfa2_trans"><span class="id" title="projection">nfa2_trans</span></a> <a class="idref" href="RegLang.two_way.html#q:24"><span class="id" title="variable">q</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.tuple.html#tnth"><span class="id" title="definition">tnth</span></a> <a class="idref" href="RegLang.two_way.html#tape"><span class="id" title="definition">tape</span></a> <span class="id" title="var">m'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="step" class="idref" href="#step"><span class="id" title="definition">step</span></a> (<a id="c:26" class="idref" href="#c:26"><span class="id" title="binder">c</span></a> <a id="d:27" class="idref" href="#d:27"><span class="id" title="binder">d</span></a> : <a class="idref" href="RegLang.two_way.html#nfa2_config"><span class="id" title="definition">nfa2_config</span></a>) := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">((</span></a><span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),(</span></a><span class="id" title="var">q</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">j</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.two_way.html#c:26"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="RegLang.two_way.html#d:27"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">q</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="RegLang.two_way.html#R"><span class="id" title="definition">R</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.two_way.html#read"><span class="id" title="definition">read</span></a> <span class="id" title="var">p</span> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">j</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#28a3089bb29d95d7bdc98c2c73b31552"><span class="id" title="notation">==</span></a> <span class="id" title="var">i</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#28a3089bb29d95d7bdc98c2c73b31552"><span class="id" title="notation">:&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">q</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="RegLang.two_way.html#L"><span class="id" title="definition">L</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.two_way.html#read"><span class="id" title="definition">read</span></a> <span class="id" title="var">p</span> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">j</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#28a3089bb29d95d7bdc98c2c73b31552"><span class="id" title="notation">==</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#28a3089bb29d95d7bdc98c2c73b31552"><span class="id" title="notation">:&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="nfa2_lang" class="idref" href="#nfa2_lang"><span class="id" title="definition">nfa2_lang</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#e9122b3568d6f47f958b76a6e55e4e40"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#e9122b3568d6f47f958b76a6e55e4e40"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#e9122b3568d6f47f958b76a6e55e4e40"><span class="id" title="notation">(</span></a><a id="q:28" class="idref" href="#q:28"><span class="id" title="binder">q</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#e9122b3568d6f47f958b76a6e55e4e40"><span class="id" title="notation">|</span></a> <a class="idref" href="RegLang.two_way.html#q:28"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.two_way.html#nfa2_f"><span class="id" title="projection">nfa2_f</span></a> <a class="idref" href="RegLang.two_way.html#NFA2.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#e9122b3568d6f47f958b76a6e55e4e40"><span class="id" title="notation">)</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#f3be25edeb0349b0a76405eded9d0b98"><span class="id" title="notation">,</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fingraph.html#connect"><span class="id" title="definition">connect</span></a> <a class="idref" href="RegLang.two_way.html#step"><span class="id" title="definition">step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.two_way.html#nfa2_s"><span class="id" title="projection">nfa2_s</span></a> <a class="idref" href="RegLang.two_way.html#NFA2.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="RegLang.misc.html#ord1"><span class="id" title="definition">ord1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.two_way.html#q:28"><span class="id" title="variable">q</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ord_max"><span class="id" title="definition">ord_max</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#e9122b3568d6f47f958b76a6e55e4e40"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RegLang.two_way.html#NFA2"><span class="id" title="section">NFA2</span></a>.<br/>

<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="RegLang.two_way.html#step"><span class="id" title="definition">step</span></a> [<span class="id" title="var">char</span>] <span class="id" title="var">A</span> <span class="id" title="var">x</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span>.<br/>
<span class="id" title="var">Prenex</span>  <span class="id" title="var">Implicits</span> <span class="id" title="var">step</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab40"></a><h2 class="section">Definition of 2DFAs as deterministic 2NFAs</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="DFA2" class="idref" href="#DFA2"><span class="id" title="section">DFA2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="DFA2.char" class="idref" href="#DFA2.char"><span class="id" title="variable">char</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a id="deterministic" class="idref" href="#deterministic"><span class="id" title="record">deterministic</span></a> (<a id="M:30" class="idref" href="#M:30"><span class="id" title="binder">M</span></a> : <a class="idref" href="RegLang.two_way.html#nfa2"><span class="id" title="record">nfa2</span></a> <a class="idref" href="RegLang.two_way.html#DFA2.char"><span class="id" title="variable">char</span></a>) : <span class="id" title="keyword">Prop</span> := <br/>
&nbsp;&nbsp;{ <a id="detC" class="idref" href="#detC"><span class="id" title="projection">detC</span></a> : <span class="id" title="keyword">forall</span> (<a id="p:32" class="idref" href="#p:32"><span class="id" title="binder">p</span></a>:<a class="idref" href="RegLang.two_way.html#M:30"><span class="id" title="variable">M</span></a>) <a id="a:33" class="idref" href="#a:33"><span class="id" title="binder">a</span></a>, <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="RegLang.two_way.html#nfa2_trans"><span class="id" title="projection">nfa2_trans</span></a> <a class="idref" href="RegLang.two_way.html#p:32"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.two_way.html#a:33"><span class="id" title="variable">a</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> 1;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="detL" class="idref" href="#detL"><span class="id" title="projection">detL</span></a> : <span class="id" title="keyword">forall</span> (<a id="p:35" class="idref" href="#p:35"><span class="id" title="binder">p</span></a>:<a class="idref" href="RegLang.two_way.html#M:30"><span class="id" title="variable">M</span></a>), <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="RegLang.two_way.html#nfa2_transL"><span class="id" title="projection">nfa2_transL</span></a> <a class="idref" href="RegLang.two_way.html#p:35"><span class="id" title="variable">p</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> 1;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="detR" class="idref" href="#detR"><span class="id" title="projection">detR</span></a> : <span class="id" title="keyword">forall</span> (<a id="p:37" class="idref" href="#p:37"><span class="id" title="binder">p</span></a>:<a class="idref" href="RegLang.two_way.html#M:30"><span class="id" title="variable">M</span></a>), <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="RegLang.two_way.html#nfa2_transR"><span class="id" title="projection">nfa2_transR</span></a> <a class="idref" href="RegLang.two_way.html#p:37"><span class="id" title="variable">p</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> 1}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a id="dfa2" class="idref" href="#dfa2"><span class="id" title="record">dfa2</span></a> := <a id="DFA2" class="idref" href="#DFA2"><span class="id" title="constructor">DFA2</span></a> { <a id="nfa2_of" class="idref" href="#nfa2_of"><span class="id" title="projection">nfa2_of</span></a> :&gt; <a class="idref" href="RegLang.two_way.html#nfa2"><span class="id" title="record">nfa2</span></a> <a class="idref" href="RegLang.two_way.html#DFA2.char"><span class="id" title="variable">char</span></a> ; <a id="dfa2_det" class="idref" href="#dfa2_det"><span class="id" title="projection">dfa2_det</span></a> : <a class="idref" href="RegLang.two_way.html#deterministic"><span class="id" title="record">deterministic</span></a> <a class="idref" href="RegLang.two_way.html#nfa2_of:40"><span class="id" title="method">nfa2_of</span></a> }.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="dfa2_lang" class="idref" href="#dfa2_lang"><span class="id" title="definition">dfa2_lang</span></a> := <a class="idref" href="RegLang.two_way.html#nfa2_lang"><span class="id" title="definition">nfa2_lang</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="DFA2.M" class="idref" href="#DFA2.M"><span class="id" title="variable">M</span></a> : <a class="idref" href="RegLang.two_way.html#dfa2"><span class="id" title="record">dfa2</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="cards_lt1" class="idref" href="#cards_lt1"><span class="id" title="lemma">cards_lt1</span></a> (<a id="T:43" class="idref" href="#T:43"><span class="id" title="binder">T</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) (<a id="A:44" class="idref" href="#A:44"><span class="id" title="binder">A</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">{</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">set</span></a> <a class="idref" href="RegLang.two_way.html#T:43"><span class="id" title="variable">T</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">}</span></a>) : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><a class="idref" href="RegLang.two_way.html#A:44"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="RegLang.two_way.html#A:44"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#set0"><span class="id" title="definition">set0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="x:45" class="idref" href="#x:45"><span class="id" title="binder">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.two_way.html#A:44"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">set</span></a> <a class="idref" href="RegLang.two_way.html#x:45"><span class="id" title="variable">x</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">H</span>. <span class="id" title="tactic">case</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#posnP"><span class="id" title="lemma">posnP</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">#|</span></a><span class="id" title="var">A</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#234f50e13366f794cd6877cf832a5935"><span class="id" title="notation">|</span></a>) =&gt; <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">exact</span>:<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#cards0_eq"><span class="id" title="lemma">cards0_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#cards1P"><span class="id" title="lemma">cards1P</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#eqn_leq"><span class="id" title="lemma">eqn_leq</span></a> <span class="id" title="var">H</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="read1" class="idref" href="#read1"><span class="id" title="lemma">read1</span></a> <a id="x:46" class="idref" href="#x:46"><span class="id" title="binder">x</span></a> (<a id="p:47" class="idref" href="#p:47"><span class="id" title="binder">p</span></a>:<a class="idref" href="RegLang.two_way.html#DFA2.M"><span class="id" title="variable">M</span></a>) (<a id="j:48" class="idref" href="#j:48"><span class="id" title="binder">j</span></a>:<a class="idref" href="RegLang.two_way.html#pos"><span class="id" title="definition">pos</span></a> <a class="idref" href="RegLang.two_way.html#x:46"><span class="id" title="variable">x</span></a>) : <a class="idref" href="RegLang.two_way.html#read"><span class="id" title="definition">read</span></a> <a class="idref" href="RegLang.two_way.html#p:47"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.two_way.html#j:48"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#set0"><span class="id" title="definition">set0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="s:49" class="idref" href="#s:49"><span class="id" title="binder">s</span></a> : <a class="idref" href="RegLang.two_way.html#DFA2.M"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="RegLang.two_way.html#dir"><span class="id" title="definition">dir</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="RegLang.two_way.html#read"><span class="id" title="definition">read</span></a> <a class="idref" href="RegLang.two_way.html#p:47"><span class="id" title="variable">p</span></a> <a class="idref" href="RegLang.two_way.html#j:48"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">set</span></a> <a class="idref" href="RegLang.two_way.html#s:49"><span class="id" title="variable">s</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="RegLang.two_way.html#read"><span class="id" title="definition">read</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="RegLang.two_way.html#ord2P"><span class="id" title="lemma">ord2P</span></a> <span class="id" title="var">_</span>) =&gt; [||<span class="id" title="var">i</span>] <span class="id" title="var">_</span>;<span class="id" title="tactic">apply</span> <a class="idref" href="RegLang.two_way.html#cards_lt1"><span class="id" title="lemma">cards_lt1</span></a>; <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#cardsX"><span class="id" title="lemma">cardsX</span></a> ?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#cards1"><span class="id" title="lemma">cards1</span></a> ?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#muln1"><span class="id" title="lemma">muln1</span></a>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="RegLang.two_way.html#detL"><span class="id" title="projection">detL</span></a>, <a class="idref" href="RegLang.two_way.html#detC"><span class="id" title="projection">detC</span></a>, <a class="idref" href="RegLang.two_way.html#detR"><span class="id" title="projection">detR</span></a>, <a class="idref" href="RegLang.two_way.html#dfa2_det"><span class="id" title="projection">dfa2_det</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="step_fun" class="idref" href="#step_fun"><span class="id" title="lemma">step_fun</span></a> <a id="x:50" class="idref" href="#x:50"><span class="id" title="binder">x</span></a> : <a class="idref" href="RegLang.misc.html#functional"><span class="id" title="definition">functional</span></a> (<a class="idref" href="RegLang.two_way.html#step"><span class="id" title="definition">step</span></a> <a class="idref" href="RegLang.two_way.html#DFA2.M"><span class="id" title="variable">M</span></a> <a class="idref" href="RegLang.two_way.html#x:50"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">lr</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.two_way.html#R"><span class="id" title="definition">R</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <a class="idref" href="RegLang.two_way.html#L"><span class="id" title="definition">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)*(</span></a><a class="idref" href="RegLang.two_way.html#L"><span class="id" title="definition">L</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <a class="idref" href="RegLang.two_way.html#R"><span class="id" title="definition">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a>)%<span class="id" title="keyword">type</span> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">p</span> <span class="id" title="var">i</span>] [<span class="id" title="var">q</span> <span class="id" title="var">j</span>] [<span class="id" title="var">r</span> <span class="id" title="var">k</span>]. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="RegLang.two_way.html#step"><span class="id" title="definition">step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<a class="idref" href="RegLang.two_way.html#read1"><span class="id" title="lemma">read1</span></a> <span class="id" title="var">p</span> <span class="id" title="var">i</span>) =&gt; [ -&gt; |[[<span class="id" title="var">q'</span> [|]] -&gt; ]]; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#xpair_eqE"><span class="id" title="lemma">xpair_eqE</span></a> -/<a class="idref" href="RegLang.two_way.html#L"><span class="id" title="definition">L</span></a> -/<a class="idref" href="RegLang.two_way.html#R"><span class="id" title="definition">R</span></a> !<span class="id" title="var">lr</span> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqxx"><span class="id" title="abbreviation">eqxx</span></a> !<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#andbT"><span class="id" title="lemma">andbT</span></a> !<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#andbF"><span class="id" title="lemma">andbF</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> -&gt; /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> <span class="id" title="var">A</span>] /<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> -&gt; /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> <span class="id" title="var">B</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ord_inj"><span class="id" title="lemma">ord_inj</span></a>. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#eqSS"><span class="id" title="lemma">eqSS</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#xpair_eqE"><span class="id" title="lemma">xpair_eqE</span></a> -/<a class="idref" href="RegLang.two_way.html#L"><span class="id" title="definition">L</span></a> -/<a class="idref" href="RegLang.two_way.html#R"><span class="id" title="definition">R</span></a> !<span class="id" title="var">lr</span> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqxx"><span class="id" title="abbreviation">eqxx</span></a> !<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#andbT"><span class="id" title="lemma">andbT</span></a> !<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#andbF"><span class="id" title="lemma">andbF</span></a> !<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#orbF"><span class="id" title="lemma">orbF</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> -&gt; /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> <span class="id" title="var">A</span>] /<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> [/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> -&gt; /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> <span class="id" title="var">B</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ord_inj"><span class="id" title="lemma">ord_inj</span></a>. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#eqSS"><span class="id" title="lemma">eqSS</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RegLang.two_way.html#DFA2"><span class="id" title="section">DFA2</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab41"></a><h2 class="section">Simulation of DFAs</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="DFAtoDFA2" class="idref" href="#DFAtoDFA2"><span class="id" title="section">DFAtoDFA2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variables</span> (<a id="DFAtoDFA2.char" class="idref" href="#DFAtoDFA2.char"><span class="id" title="variable">char</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>) (<a id="DFAtoDFA2.A" class="idref" href="#DFAtoDFA2.A"><span class="id" title="variable">A</span></a> : <a class="idref" href="RegLang.dfa.html#dfa"><span class="id" title="record">dfa</span></a> <a class="idref" href="RegLang.two_way.html#char:51"><span class="id" title="variable">char</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="nfa2_of_dfa" class="idref" href="#nfa2_of_dfa"><span class="id" title="definition">nfa2_of_dfa</span></a> : <a class="idref" href="RegLang.two_way.html#nfa2"><span class="id" title="record">nfa2</span></a> <a class="idref" href="RegLang.two_way.html#DFAtoDFA2.char"><span class="id" title="variable">char</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="RegLang.two_way.html#nfa2_s"><span class="id" title="projection">nfa2_s</span></a> := <a class="idref" href="RegLang.dfa.html#dfa_s"><span class="id" title="projection">dfa_s</span></a> <a class="idref" href="RegLang.two_way.html#DFAtoDFA2.A"><span class="id" title="variable">A</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.two_way.html#nfa2_f"><span class="id" title="projection">nfa2_f</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#6308ce91f23e15d48045c8a55b43b8f5"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#6308ce91f23e15d48045c8a55b43b8f5"><span class="id" title="notation">set</span></a> <a id="q:57" class="idref" href="#q:57"><span class="id" title="binder">q</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#6308ce91f23e15d48045c8a55b43b8f5"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_fin"><span class="id" title="projection">dfa_fin</span></a> <a class="idref" href="RegLang.two_way.html#DFAtoDFA2.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#6308ce91f23e15d48045c8a55b43b8f5"><span class="id" title="notation">]</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.two_way.html#nfa2_trans"><span class="id" title="projection">nfa2_trans</span></a> <a id="q:55" class="idref" href="#q:55"><span class="id" title="binder">q</span></a> <a id="a:56" class="idref" href="#a:56"><span class="id" title="binder">a</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">set</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.dfa.html#dfa_trans"><span class="id" title="projection">dfa_trans</span></a> <a class="idref" href="RegLang.two_way.html#q:55"><span class="id" title="variable">q</span></a> <a class="idref" href="RegLang.two_way.html#a:56"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="RegLang.two_way.html#R"><span class="id" title="definition">R</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">]</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.two_way.html#nfa2_transL"><span class="id" title="projection">nfa2_transL</span></a> <a id="q:54" class="idref" href="#q:54"><span class="id" title="binder">q</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">set</span></a> <a class="idref" href="RegLang.dfa.html#dfa_s"><span class="id" title="projection">dfa_s</span></a> <a class="idref" href="RegLang.two_way.html#DFAtoDFA2.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">]</span></a>; <span class="comment">(*&nbsp;Never&nbsp;reached&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.two_way.html#nfa2_transR"><span class="id" title="projection">nfa2_transR</span></a> <a id="q:53" class="idref" href="#q:53"><span class="id" title="binder">q</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#set0"><span class="id" title="definition">set0</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="drop_accept" class="idref" href="#drop_accept"><span class="id" title="lemma">drop_accept</span></a> (<a id="w:58" class="idref" href="#w:58"><span class="id" title="binder">w</span></a> : <a class="idref" href="RegLang.languages.html#word"><span class="id" title="definition">word</span></a> <a class="idref" href="RegLang.two_way.html#DFAtoDFA2.char"><span class="id" title="variable">char</span></a>) (<a id="i:59" class="idref" href="#i:59"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#:::'''I_'_x"><span class="id" title="notation">'</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#:::'''I_'_x"><span class="id" title="notation">I_</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#:::'''I_'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="RegLang.two_way.html#w:58"><span class="id" title="variable">w</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#:::'''I_'_x"><span class="id" title="notation">)</span></a>) (<a id="q:60" class="idref" href="#q:60"><span class="id" title="binder">q</span></a> : <a class="idref" href="RegLang.two_way.html#DFAtoDFA2.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#drop"><span class="id" title="definition">drop</span></a> <a class="idref" href="RegLang.two_way.html#i:59"><span class="id" title="variable">i</span></a> <a class="idref" href="RegLang.two_way.html#w:58"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_accept"><span class="id" title="definition">dfa_accept</span></a> <a class="idref" href="RegLang.two_way.html#q:60"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#drop"><span class="id" title="definition">drop</span></a> <a class="idref" href="RegLang.two_way.html#i:59"><span class="id" title="variable">i</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a> <a class="idref" href="RegLang.two_way.html#w:58"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_accept"><span class="id" title="definition">dfa_accept</span></a> (<a class="idref" href="RegLang.dfa.html#dfa_trans"><span class="id" title="projection">dfa_trans</span></a> <a class="idref" href="RegLang.two_way.html#q:60"><span class="id" title="variable">q</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.tuple.html#tnth"><span class="id" title="definition">tnth</span></a> (<a class="idref" href="RegLang.two_way.html#tape"><span class="id" title="definition">tape</span></a> <a class="idref" href="RegLang.two_way.html#w:58"><span class="id" title="variable">w</span></a>) <a class="idref" href="RegLang.two_way.html#i:59"><span class="id" title="variable">i</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <span class="id" title="var">w</span> <span class="id" title="var">i</span> <span class="id" title="var">q</span> =&gt; [[//]|<span class="id" title="var">a</span> <span class="id" title="var">w</span> [<span class="id" title="var">m</span> <span class="id" title="var">Hm</span>] <span class="id" title="var">q</span>]. <span class="id" title="tactic">rewrite</span> [<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#drop"><span class="id" title="definition">drop</span></a>]<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssreflect.html#lock"><span class="id" title="lemma">lock</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.tuple.html#tnth_nth"><span class="id" title="lemma">tnth_nth</span></a> <span class="id" title="var">a</span>) /= -<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssreflect.html#lock"><span class="id" title="lemma">lock</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: {<span class="id" title="var">w</span>} (<span class="id" title="var">a</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#::seq_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">w</span>) <span class="id" title="var">m</span> <span class="id" title="var">Hm</span> <span class="id" title="var">q</span> =&gt; [|<span class="id" title="var">b</span> <span class="id" title="var">w</span> <span class="id" title="var">IHw</span> [|<span class="id" title="var">m</span>] <span class="id" title="var">Hm</span> <span class="id" title="var">q</span>]; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#drop0"><span class="id" title="lemma">drop0</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#drop1"><span class="id" title="lemma">drop1</span></a>. <span class="id" title="tactic">exact</span>: <span class="id" title="var">IHw</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a id="DFAtoDFA2.w" class="idref" href="#DFAtoDFA2.w"><span class="id" title="variable">w</span></a> : <a class="idref" href="RegLang.languages.html#word"><span class="id" title="definition">word</span></a> <a class="idref" href="RegLang.two_way.html#DFAtoDFA2.char"><span class="id" title="variable">char</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <a id="DFAtoDFA2.n" class="idref" href="#DFAtoDFA2.n"><span class="id" title="variable">n</span></a> := <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="RegLang.two_way.html#DFAtoDFA2.w"><span class="id" title="variable">w</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="nfa2_of_aux" class="idref" href="#nfa2_of_aux"><span class="id" title="lemma">nfa2_of_aux</span></a> (<a id="q:62" class="idref" href="#q:62"><span class="id" title="binder">q</span></a>:<a class="idref" href="RegLang.two_way.html#DFAtoDFA2.A"><span class="id" title="variable">A</span></a>) <a id="i:63" class="idref" href="#i:63"><span class="id" title="binder">i</span></a> : <a class="idref" href="RegLang.two_way.html#i:63"><span class="id" title="variable">i</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="RegLang.two_way.html#DFAtoDFA2.w"><span class="id" title="variable">w</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">).+1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#drop"><span class="id" title="definition">drop</span></a> <a class="idref" href="RegLang.two_way.html#i:63"><span class="id" title="variable">i</span></a> <a class="idref" href="RegLang.two_way.html#DFAtoDFA2.w"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_accept"><span class="id" title="definition">dfa_accept</span></a> <a class="idref" href="RegLang.two_way.html#q:62"><span class="id" title="variable">q</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#f302e204901821a508e6d6d00228c0ed"><span class="id" title="notation">[</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#f302e204901821a508e6d6d00228c0ed"><span class="id" title="notation">exists</span></a> <a id="f:64" class="idref" href="#f:64"><span class="id" title="binder">f</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#f302e204901821a508e6d6d00228c0ed"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.two_way.html#nfa2_f"><span class="id" title="projection">nfa2_f</span></a> <a class="idref" href="RegLang.two_way.html#nfa2_of_dfa"><span class="id" title="definition">nfa2_of_dfa</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#f3be25edeb0349b0a76405eded9d0b98"><span class="id" title="notation">,</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fingraph.html#connect"><span class="id" title="definition">connect</span></a> (<a class="idref" href="RegLang.two_way.html#step"><span class="id" title="definition">step</span></a> <a class="idref" href="RegLang.two_way.html#nfa2_of_dfa"><span class="id" title="definition">nfa2_of_dfa</span></a> <a class="idref" href="RegLang.two_way.html#DFAtoDFA2.w"><span class="id" title="variable">w</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.two_way.html#q:62"><span class="id" title="variable">q</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#inord"><span class="id" title="definition">inord</span></a> <a class="idref" href="RegLang.two_way.html#i:63"><span class="id" title="variable">i</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.two_way.html#f:64"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ord_max"><span class="id" title="definition">ord_max</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#f302e204901821a508e6d6d00228c0ed"><span class="id" title="notation">]</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> <span class="id" title="var">eq_m</span> : (<a class="idref" href="RegLang.two_way.html#DFAtoDFA2.n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">i</span>) =&gt; <span class="id" title="var">m</span>. <span class="id" title="tactic">elim</span>: <span class="id" title="var">m</span> <span class="id" title="var">q</span> <span class="id" title="var">i</span> <span class="id" title="var">eq_m</span> =&gt; [|<span class="id" title="var">m</span> <span class="id" title="var">IHm</span>] <span class="id" title="var">q</span> <span class="id" title="var">i</span> /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">have</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> -&gt; : <span class="id" title="var">i</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="RegLang.two_way.html#DFAtoDFA2.w"><span class="id" title="variable">w</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#eqn_leq"><span class="id" title="lemma">eqn_leq</span></a> -<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltnS"><span class="id" title="lemma">ltnS</span></a> <span class="id" title="var">H2</span> -<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#subn_eq0"><span class="id" title="lemma">subn_eq0</span></a> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#drop_size"><span class="id" title="lemma">drop_size</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#unfold_in"><span class="id" title="lemma">unfold_in</span></a> -<a class="idref" href="RegLang.misc.html#inord_max"><span class="id" title="lemma">inord_max</span></a> /= =&gt; <span class="id" title="var">F</span>. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#existsP"><span class="id" title="lemma">existsP</span></a>;<span class="id" title="tactic">exists</span> <span class="id" title="var">q</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> <span class="id" title="var">F</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fingraph.html#connect0"><span class="id" title="lemma">connect0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">H</span>. <span class="id" title="var">have</span> <span class="id" title="var">Hi</span> : <span class="id" title="var">i</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="RegLang.two_way.html#DFAtoDFA2.w"><span class="id" title="variable">w</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltn_neqAle"><span class="id" title="lemma">ltn_neqAle</span></a> -<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#ltnS"><span class="id" title="lemma">ltnS</span></a> <span class="id" title="var">H2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#andbT"><span class="id" title="lemma">andbT</span></a>. <span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#contraTN"><span class="id" title="definition">contraTN</span></a> <span class="id" title="var">H1</span> =&gt; /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>-&gt;. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#subnn"><span class="id" title="lemma">subnn</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hm</span> : <a class="idref" href="RegLang.two_way.html#DFAtoDFA2.n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">i</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">m</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#subnS"><span class="id" title="lemma">subnS</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/(<span class="id" title="var">_</span> (<a class="idref" href="RegLang.dfa.html#dfa_trans"><span class="id" title="projection">dfa_trans</span></a> <span class="id" title="var">q</span> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.tuple.html#tnth"><span class="id" title="definition">tnth</span></a> (<a class="idref" href="RegLang.two_way.html#tape"><span class="id" title="definition">tape</span></a> <a class="idref" href="RegLang.two_way.html#DFAtoDFA2.w"><span class="id" title="variable">w</span></a>) (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Ordinal"><span class="id" title="constructor">Ordinal</span></a> <span class="id" title="var">Hi</span>))) <span class="id" title="var">_</span> <span class="id" title="var">Hm</span> <span class="id" title="var">Hi</span>) : <span class="id" title="var">IHm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -[<span class="id" title="var">i</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a>]/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Ordinal"><span class="id" title="constructor">Ordinal</span></a> <span class="id" title="var">Hi</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">).+1</span></a> -<a class="idref" href="RegLang.two_way.html#drop_accept"><span class="id" title="lemma">drop_accept</span></a>. <span class="id" title="tactic">move</span> =&gt; /(<span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a> =&gt; <span class="id" title="var">f</span> <span class="id" title="var">f1</span> <span class="id" title="var">f2</span>. <span class="id" title="tactic">apply</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a>;<span class="id" title="tactic">exists</span> <span class="id" title="var">f</span> =&gt; //. <span class="id" title="tactic">apply</span>: <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fingraph.html#connect_trans"><span class="id" title="lemma">connect_trans</span></a> (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fingraph.html#connect1"><span class="id" title="lemma">connect1</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">f2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="RegLang.two_way.html#step"><span class="id" title="definition">step</span></a> /<a class="idref" href="RegLang.two_way.html#read"><span class="id" title="definition">read</span></a> (<a class="idref" href="RegLang.two_way.html#ord2PC"><span class="id" title="lemma">ord2PC</span></a> (<span class="id" title="var">i'</span> := (<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Ordinal"><span class="id" title="constructor">Ordinal</span></a> <span class="id" title="var">Hi</span>))) ?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#inordK"><span class="id" title="lemma">inordK</span></a> //= =&gt; <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> ?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqxx"><span class="id" title="abbreviation">eqxx</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="nfa2_of_aux2" class="idref" href="#nfa2_of_aux2"><span class="id" title="lemma">nfa2_of_aux2</span></a> (<a id="q:65" class="idref" href="#q:65"><span class="id" title="binder">q</span></a> <a id="f:66" class="idref" href="#f:66"><span class="id" title="binder">f</span></a>:<a class="idref" href="RegLang.two_way.html#DFAtoDFA2.A"><span class="id" title="variable">A</span></a>) (<a id="i:67" class="idref" href="#i:67"><span class="id" title="binder">i</span></a> : <a class="idref" href="RegLang.two_way.html#pos"><span class="id" title="definition">pos</span></a> <a class="idref" href="RegLang.two_way.html#DFAtoDFA2.w"><span class="id" title="variable">w</span></a>) : <a class="idref" href="RegLang.two_way.html#i:67"><span class="id" title="variable">i</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#c385a484ee9d1b4e0615924561a9b75e"><span class="id" title="notation">!=</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ord0"><span class="id" title="definition">ord0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RegLang.two_way.html#f:66"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.two_way.html#nfa2_f"><span class="id" title="projection">nfa2_f</span></a> <a class="idref" href="RegLang.two_way.html#nfa2_of_dfa"><span class="id" title="definition">nfa2_of_dfa</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fingraph.html#connect"><span class="id" title="definition">connect</span></a> (<a class="idref" href="RegLang.two_way.html#step"><span class="id" title="definition">step</span></a> <a class="idref" href="RegLang.two_way.html#nfa2_of_dfa"><span class="id" title="definition">nfa2_of_dfa</span></a> <a class="idref" href="RegLang.two_way.html#DFAtoDFA2.w"><span class="id" title="variable">w</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.two_way.html#q:65"><span class="id" title="variable">q</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="RegLang.two_way.html#i:67"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.two_way.html#f:66"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ord_max"><span class="id" title="definition">ord_max</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">(</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#drop"><span class="id" title="definition">drop</span></a> <a class="idref" href="RegLang.two_way.html#i:67"><span class="id" title="variable">i</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'.-1'"><span class="id" title="notation">.-1</span></a> <a class="idref" href="RegLang.two_way.html#DFAtoDFA2.w"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_accept"><span class="id" title="definition">dfa_accept</span></a> <a class="idref" href="RegLang.two_way.html#q:65"><span class="id" title="variable">q</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">H</span> <span class="id" title="var">fin_f</span>. <span class="id" title="tactic">case</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fingraph.html#connectP"><span class="id" title="lemma">connectP</span></a> =&gt; <span class="id" title="var">p</span>. <span class="id" title="tactic">elim</span>: <span class="id" title="var">p</span> <span class="id" title="var">i</span> <span class="id" title="var">H</span> <span class="id" title="var">q</span> =&gt; //= [|[<span class="id" title="var">q'</span> <span class="id" title="var">j</span>] <span class="id" title="var">p</span> <span class="id" title="var">IHp</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">q</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">q</span> <span class="id" title="var">_</span> [&lt;- &lt;-]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#drop_size"><span class="id" title="lemma">drop_size</span></a> -<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#topredE"><span class="id" title="lemma">topredE</span></a> /= <a class="idref" href="RegLang.dfa.html#accept_nil"><span class="id" title="lemma">accept_nil</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">fin_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> {1}/<a class="idref" href="RegLang.two_way.html#step"><span class="id" title="definition">step</span></a> /<a class="idref" href="RegLang.two_way.html#read"><span class="id" title="definition">read</span></a>. <span class="id" title="tactic">case</span>: (<a class="idref" href="RegLang.two_way.html#ord2P"><span class="id" title="lemma">ord2P</span></a> <span class="id" title="var">i</span>) =&gt; /= [|/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>-&gt;|<span class="id" title="var">i'</span> <span class="id" title="var">Hi'</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> ?(<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#negbTE"><span class="id" title="lemma">negbTE</span></a> <span class="id" title="var">Hi</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#inE"><span class="id" title="definition">inE</span></a> !<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#xpair_eqE"><span class="id" title="lemma">xpair_eqE</span></a> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssreflect.html#::core_scope:x_':'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="RegLang.two_way.html#L"><span class="id" title="definition">L</span></a> <a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <a class="idref" href="RegLang.two_way.html#R"><span class="id" title="definition">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>) ?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqxx"><span class="id" title="abbreviation">eqxx</span></a> ?<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#andbT"><span class="id" title="lemma">andbT</span></a> ?<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#andbF"><span class="id" title="lemma">andbF</span></a> ?<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#orbF"><span class="id" title="lemma">orbF</span></a> -?<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#andbA"><span class="id" title="lemma">andbA</span></a> //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#and3P"><span class="id" title="lemma">and3P</span></a> =&gt; /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> -&gt; /<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a> <span class="id" title="var">E</span>. <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hi'</span> <a class="idref" href="RegLang.two_way.html#drop_accept"><span class="id" title="lemma">drop_accept</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt; : <span class="id" title="var">i'</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'.-1'"><span class="id" title="notation">.-1</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">E</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>. <span class="id" title="tactic">move</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#eqP"><span class="id" title="lemma">eqP</span></a>/(<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> (@<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#nat_of_ord"><span class="id" title="definition">nat_of_ord</span></a> <span class="id" title="var">_</span>)). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="nfa2_of_correct" class="idref" href="#nfa2_of_correct"><span class="id" title="lemma">nfa2_of_correct</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.two_way.html#DFAtoDFA2.w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.two_way.html#DFAtoDFA2.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.two_way.html#DFAtoDFA2.w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.two_way.html#nfa2_lang"><span class="id" title="definition">nfa2_lang</span></a> <a class="idref" href="RegLang.two_way.html#nfa2_of_dfa"><span class="id" title="definition">nfa2_of_dfa</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>/<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>; <span class="id" title="tactic">rewrite</span> -![<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <span class="id" title="var">_</span> <a class="idref" href="RegLang.two_way.html#DFAtoDFA2.A"><span class="id" title="variable">A</span></a>]<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#topredE"><span class="id" title="lemma">topredE</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -{1}[<a class="idref" href="RegLang.two_way.html#DFAtoDFA2.w"><span class="id" title="variable">w</span></a>]<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#drop0"><span class="id" title="lemma">drop0</span></a> /<a class="idref" href="RegLang.two_way.html#nfa2_lang"><span class="id" title="definition">nfa2_lang</span></a> -<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#topredE"><span class="id" title="lemma">topredE</span></a> /= <a class="idref" href="RegLang.misc.html#inord1"><span class="id" title="lemma">inord1</span></a> =&gt; <span class="id" title="var">H</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.two_way.html#nfa2_of_aux"><span class="id" title="lemma">nfa2_of_aux</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> -{2}[<a class="idref" href="RegLang.two_way.html#DFAtoDFA2.w"><span class="id" title="variable">w</span></a>]<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#drop0"><span class="id" title="lemma">drop0</span></a> -[0]/(<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'.-1'"><span class="id" title="notation">(</span></a>@<a class="idref" href="RegLang.misc.html#ord1"><span class="id" title="definition">ord1</span></a> <a class="idref" href="RegLang.two_way.html#DFAtoDFA2.n"><span class="id" title="variable">n</span></a><a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#::nat_scope:x_'.-1'"><span class="id" title="notation">).-1</span></a>). <span class="id" title="tactic">case</span>/<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#exists_inP"><span class="id" title="lemma">exists_inP</span></a> =&gt; <span class="id" title="var">p</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.two_way.html#nfa2_of_aux2"><span class="id" title="lemma">nfa2_of_aux2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="nfa2_of_dfa_det" class="idref" href="#nfa2_of_dfa_det"><span class="id" title="lemma">nfa2_of_dfa_det</span></a> : <a class="idref" href="RegLang.two_way.html#deterministic"><span class="id" title="record">deterministic</span></a> (<a class="idref" href="RegLang.two_way.html#nfa2_of_dfa"><span class="id" title="definition">nfa2_of_dfa</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">split</span> =&gt; [<span class="id" title="var">p</span> <span class="id" title="var">a</span>|<span class="id" title="var">p</span>|<span class="id" title="var">p</span>]; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#cards1"><span class="id" title="lemma">cards1</span></a> ?<a class="idref" href="http://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#cards0"><span class="id" title="lemma">cards0</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="dfa2_of_dfa" class="idref" href="#dfa2_of_dfa"><span class="id" title="definition">dfa2_of_dfa</span></a> := <a class="idref" href="RegLang.two_way.html#DFA2"><span class="id" title="constructor">DFA2</span></a> <a class="idref" href="RegLang.two_way.html#nfa2_of_dfa_det"><span class="id" title="lemma">nfa2_of_dfa_det</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dfa2_of_correct" class="idref" href="#dfa2_of_correct"><span class="id" title="lemma">dfa2_of_correct</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.two_way.html#DFAtoDFA2.w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.dfa.html#dfa_lang"><span class="id" title="definition">dfa_lang</span></a> <a class="idref" href="RegLang.two_way.html#DFAtoDFA2.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="RegLang.two_way.html#DFAtoDFA2.w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="RegLang.two_way.html#dfa2_lang"><span class="id" title="definition">dfa2_lang</span></a> <a class="idref" href="RegLang.two_way.html#dfa2_of_dfa"><span class="id" title="definition">dfa2_of_dfa</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="RegLang.two_way.html#nfa2_of_correct"><span class="id" title="lemma">nfa2_of_correct</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RegLang.two_way.html#DFAtoDFA2"><span class="id" title="section">DFAtoDFA2</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/coq-community/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
